{"version":3,"sources":["webcomponents-hi-ce-sd-pf-index.js","bower_components/es6-promise/lib/es6-promise/utils.js","bower_components/es6-promise/lib/es6-promise/asap.js","bower_components/es6-promise/lib/es6-promise/then.js","bower_components/es6-promise/lib/es6-promise/promise/resolve.js","bower_components/es6-promise/lib/es6-promise/-internal.js","bower_components/es6-promise/lib/es6-promise/enumerator.js","bower_components/es6-promise/lib/es6-promise/promise.js","bower_components/shadydom/shadydom.min.js","bower_components/shadycss/src/css-parse.js","bower_components/shadycss/src/style-settings.js","bower_components/shadycss/src/style-util.js","bower_components/shadycss/src/style-properties.js","bower_components/webcomponents-platform/webcomponents-platform.js","bower_components/URL/url.js","bower_components/template/template.js","bower_components/es6-promise/lib/es6-promise/promise/all.js","bower_components/es6-promise/lib/es6-promise/promise/race.js","bower_components/es6-promise/lib/es6-promise/promise/reject.js","bower_components/es6-promise/lib/es6-promise.js","bower_components/es6-promise/lib/es6-promise/polyfill.js","bower_components/html-imports/src/html-imports.js","src/pre-polyfill.js","bower_components/custom-elements/custom-elements.min.js","bower_components/shadycss/src/style-transformer.js","bower_components/shadycss/src/template-map.js","bower_components/shadycss/src/style-info.js","bower_components/shadycss/src/style-placeholder.js","bower_components/shadycss/src/apply-shim.js","bower_components/shadycss/src/document-watcher.js","bower_components/shadycss/src/ShadyCSS.js","bower_components/shadycss/src/style-cache.js","src/post-polyfill.js","src/unresolved.js"],"names":["objectOrFunction","x","isFunction","useNextTick","process","nextTick","flush","useVertxTimer","vertxNext","useSetTimeout","useMutationObserver","iterations","observer","BrowserMutationObserver","node","document","createTextNode","observe","characterData","data","useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","globalSetTimeout","setTimeout","i","len","callback","queue","arg","attemptVertx","r","require","vertx","runOnLoop","runOnContext","e","then","onFulfillment","onRejection","parent","child","constructor","noop","PROMISE_ID","makePromise","_state","arguments","asap","invokeCallback","_result","subscribe","resolve","object","Constructor","promise","_resolve","selfFulfillment","TypeError","cannotReturnOwn","getThen","error","GET_THEN_ERROR","tryThen","value","fulfillmentHandler","rejectionHandler","call","handleForeignThenable","thenable","sealed","fulfill","reason","reject","_label","handleOwnThenable","FULFILLED","REJECTED","handleMaybeThenable","maybeThenable","originalThen","originalResolve","publishRejection","_onerror","publish","PENDING","_subscribers","length","subscribers","settled","detail","ErrorObject","tryCatch","TRY_CATCH_ERROR","succeeded","failed","hasCallback","initializePromise","resolver","nextId","id","Enumerator","input","_instanceConstructor","isArray","_input","_remaining","Array","_enumerate","validationError","Error","needsResolver","needsNew","Promise","_classCallCheck","instance","parse","text","clean","parseCss","lex","cssText","replace","RX","comments","port","root","start","end","n","l","OPEN_BRACE","rules","p","previous","push","CLOSE_BRACE","t","substring","parsedCssText","trim","ss","_expandUnicodeEscapes","multipleSpaces","lastIndexOf","s","parsedSelector","selector","atRule","indexOf","type","types","MEDIA_RULE","match","keyframesRule","KEYFRAMES_RULE","keyframesName","split","pop","VAR_START","MIXIN_RULE","STYLE_RULE","r$","code","repeat","stringify","preserveProperties","_hasMixinRules","removeCustomProps","removeCustomPropAssignment","removeCustomPropApply","customProp","mixinProp","mixinApply","varApply","parseSettings","settings","nativeCssVariables","shimcssproperties","nativeShadow","shimshadow","toCssText","forEachRule","rulesForStyle","style","__cssRules","textContent","isKeyframesSelector","rule","styleRuleCallback","keyframesRuleCallback","onlyActiveRules","skipRules","matchMedia","rx","MEDIA_MATCH","window","matches","applyCss","moniker","target","contextNode","createScopeStyle","applyStyle","head","after","nextSibling","firstChild","lastHeadApplyNode","insertBefore","createElement","setAttribute","applyStylePlaceHolder","placeHolder","createComment","scope","findMatchingParen","level","processVariableAndFallback","str","inner","prefix","suffix","comma","fallback","setElementClassRaw","element","ShadyDOM","nativeMethods","addToBitMask","bits","o","parseInt","workingDefaultPrevented","createEvent","initEvent","preventDefault","defaultPrevented","origPreventDefault","Event","prototype","cancelable","Object","defineProperty","get","configurable","isIE","test","navigator","userAgent","CustomEvent","inType","params","initCustomEvent","bubbles","origEvent","MouseEvent","origMouseEvent","initMouseEvent","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","from","slice","assign","source","n$","getOwnPropertyNames","args","WebComponents","isRelativeScheme","scheme","relative","invalid","clear","_isInvalid","IDNAToASCII","h","toLowerCase","percentEscape","c","unicode","charCodeAt","encodeURIComponent","percentEscapeQuery","stateOverride","base","err","message","errors","state","cursor","buffer","seenAt","seenBracket","loop","EOF","ALPHA","ALPHANUMERIC","_scheme","_isRelative","_query","_fragment","_schemeData","_host","_port","_path","_username","_password","nextC","nextNextC","cp","tempC","temp","tmp","relativePathDotMapping","jURL","url","_url","hasWorkingUrl","forceJURL","u","URL","pathname","href","create","toString","authority","protocol","host","hostname","join","search","hash","origin","OriginalURL","createObjectURL","apply","revokeObjectURL","needsTemplate","HTMLTemplateElement","importNode","nodeType","Node","DOCUMENT_FRAGMENT_NODE","f","createDocumentFragment","appendChild","needsCloning","t2","content","clone","cloneNode","childNodes","TEMPLATE_TAG","TemplateImpl","escapeReplace","escapeData","escapeDataRegExp","contentDoc","implementation","createHTMLDocument","canDecorate","templateStyle","firstElementChild","HTMLElement","decorate","template","deep","outerHTML","set","body","innerHTML","bootstrap","removeChild","doc","templates","querySelectorAll","addEventListener","el","localName","nativeCloneNode","fixClonedDom","s$","t$","parentNode","replaceChild","originalImportNode","dom","_isArray","customSchedulerFn","scheduleFlush","browserWindow","browserGlobal","MutationObserver","WebKitMutationObserver","isNode","self","isWorker","Uint8ClampedArray","importScripts","Math","random","_eachEntry","entry","_settledAt","_willSettleAt","enumerator","all","entries","race","_","Resolve","_reject","_setScheduler","scheduleFn","_setAsap","asapFn","_asap","catch","polyfill","local","global","Function","P","promiseToString","cast","isImportLink","ELEMENT_NODE","MATCHES","IMPORT_SELECTOR","fixUrlAttributes","attrs","forEach","a","at","attributes","v","Path","resolveUrlsInCssText","replaceAttrUrl","fixUrlsInTemplate","resolveUrlsInStyle","fixUrlsInTemplates","fixUrls","importsSelectors","whenElementLoaded","getAttribute","src","scriptType","fixDomModules","assetpath","runScripts","whenLoadedPromise","currentScript","script","waitForStyles","stylesInImportsSelector","promises","cloneAndMoveStyles","importLink","import","stylesSelector","j","ll","name","fireEvents","__fired","eventType","flags","log","console","warn","dispatchEvent","__loadPromise","isElementLoaded","isLoaded","useNative","readyState","sheet","csr","cssRules","CSSRule","IMPORT_RULE","styleSheet","makeDocument","resource","display","baseEl","querySelector","_resolveUrl","whenReady","whenDocumentReady","watchImportsLoad","importInfo","imports","allImports","loadedImports","errorImports","imp","bust","scripts","ABS_URL_TEST","CSS_URL_REGEXP","CSS_IMPORT_REGEXP","linkUrl","replaceUrls","regexp","m","pre","post","urlPath","__workingURL","__tempDoc","__base","__anchor","Xhr","async","load","request","XMLHttpRequest","open","redirectedUrl","locationHeader","getResponseHeader","substr","location","isOk","status","response","responseText","send","Loader","onLoad","onComplete","cache","onload","oncomplete","inflight","pending","addNodes","nodes","checkDone","addNode","elt","dedupe","fetch","tail","receive","pieces","header","atob","decodeURIComponent","$p","Element","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","isEdge","documents","_doc","_onMutation","bind","childList","_loader","_onLoaded","_onLoadedAll","_loadSubtree","_flatten","__firstImport","_observe","__importObserver","subtree","mutations","addedNodes","HTMLImports","noOpts","option","parts","forceShady","shadydom","force","forceCE","register","ce","customElements","forcePolyfill","Map","Set","C","D","F","enableFlush","g","b","d","__$CE_upgraded","A","L","has","k","w","observedAttributes","K","delete","M","N","takeRecords","I","__$CE_observer","add","J","disconnect","removedNodes","H","createTreeWalker","NodeFilter","SHOW_ELEMENT","G","currentNode","nextNode","__$CE_attached","DOCUMENT_NODE","shadowRoot","tagName","rel","B","removeEventListener","__proto__","assert","attributeOldValue","attributeFilter","hasAttribute","attributeName","oldValue","attributeNamespace","CustomElementRegistry","define","whenDefined","polyfilled","_observeRoot","_addImport","q","nativeHTMLElement","createElementNS","attachShadow","removeAttribute","enumerable","CustomElements","_typeof","Symbol","iterator","obj","_createClass","defineProperties","props","descriptor","writable","key","protoProps","staticProps","Qt","__localName","Kt","getRootNode","We","Jt","Yt","getOwnPropertyDescriptor","Zt","_len","_key","getPrototypeOf","hasOwnProperty","__sourceProto","__patchProto","y","He","Fe","je","qe","shift","Ue","ht","E","pt","S","$t","to","eo","ut","TEXT_NODE","_Yt","ct","COMMENT_NODE","T","gt","O","lastChild","R","yt","previousSibling","nodeValue","SHOW_TEXT","W","__shady","U","Nt","bt","we","hasDescriptors","activeElement","contains","z","V","ft","vt","St","X","Ct","Q","Pt","__noInsertionPoint","_changePending","_skipUpdateInsertionPoints","se","oe","shadyRoot","Y","le","re","getInsertionPointTag","_e","ie","Z","schedule","$","ee","__ownerShadyRoot","te","_Kt","documentElement","oo","ne","so","Tt","hasInsertionPoint","_insertionPoints","de","assignedNodes","flatten","Ye","ae","isFinalDestination","update","he","pe","ue","ge","render","ye","ShadyCSS","ownerDocument","setElementClass","$e","Ne","tt","me","_Yt2","_Yt3","Ke","Xe","be","fe","st","_$t","_Zt","ve","rt","Ee","assignedSlot","Se","Pe","__composed","composed","Ce","__handlers","_$t2","_Zt2","__immediatePropagationStopped","Te","composedPath","__propagationStopped","AT_TARGET","_Zt3","De","Mt","__target","__relatedTarget","Ot","stopImmediatePropagation","Me","index","removed","addedCount","Re","Ht","_init","xe","Ie","hasNativeShadowDOM","Le","inUse","ke","list","Ge","_scheduled","callbacks","_this","_this2","Ve","Qe","Je","Ze","et","ot","nt","Document","dt","it","lt","_t","freeze","SHOW_ALL","parentElement","lastElementChild","previousElementSibling","nextElementSibling","children","mt","DOMParser","className","filter","parseFromString","Et","__outsideAccessors","__insideAccessors","Dt","blur","focus","focusin","focusout","click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel","beforeinput","keydown","keyup","compositionstart","compositionupdate","compositionend","touchstart","touchend","touchmove","touchcancel","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","dragstart","drag","dragenter","dragleave","dragover","drop","dragend","DOMActivate","DOMFocusIn","DOMFocusOut","keypress","isTrusted","__composedPath","currentTarget","__relatedTargetComposedPath","stopPropagation","Rt","xt","It","At","wt","Lt","kt","Wt","calcEditDistances","_so","_so2","no","equals","ro","io","spliceOperationsFromEditDistances","reverse","calcSplices","min","sharedPrefix","sharedSuffix","ao","lo","calculateSplices","Ft","Ut","jt","insertionPointTag","distributePool","collectPool","distributeInsertionPoint","_Zt4","_$t3","_eo","clearAssignedSlots","matchesInsertionPoint","_prevAssignedSlot","distributeNodeInto","_$t4","_to","_eo2","_$t5","setDistributedNodesOnInsertionPoint","_fireSlotChange","distributedNodes","isInsertionPoint","_$t6","DocumentFragment","_renderPending","_hasRendered","_distributor","_this3","_getRenderRoot","_rendererForHost","_render","updateInsertionPoints","distribute","compose","forceRender","__insertionPoints","_Jt","_Kt2","getInsertionPoints","_Jt2","_Kt3","_composeTree","_updateChildNodes","_composeNode","splice","_$t7","_eo3","_Zt5","_oo","_to2","qt","_this4","_ret3","capture","once","passive","__eventWrappers","_oo3","eventPhase","BUBBLING_PHASE","wrapperFn","bubble","_Zt6","_$t8","_eo4","_to3","_oo6","_oo5","isConnected","Gt","Bt","zt","Vt","slot","Xt","_activeElement","patch","isShadyRoot","enqueue","filterMutations","map","observeChildren","_callback","_observer","_node","unobserveChildren","size","nativeTree","Text","HTMLSlotElement","CSS","supports","nativeCssApply","VAR_ASSIGN","MIXIN_MATCH","VAR_CONSUMED","ANIMATION_MATCH","IS_VAR","BRACKETED","HOST_PREFIX","HOST_SUFFIX","SCOPE_NAME","StyleTransformer","shouldRemoveScope","__styleScoped","_transformDom","c$","_content","classList","remove","newValue","StyleUtil.setElementClassRaw","elementStyles","styleRules","cssBuildType","__cssBuild","StyleUtil.toCssText","css","is","extends","ext","hostScope","_calcHostScope","_calcElementScope","isScoped","_transformRule","_transformComplexSelector","transformer","transformedSelector","_transformRuleCss","p$","COMPLEX_SELECTOR_SEP","StyleUtil.isKeyframesSelector","stop","NTH","SLOTTED_START","HOST","SIMPLE_SELECTOR_SEP","info","_transformCompoundSelector","combinator","slottedIndex","SLOTTED","_transformHostSelector","_transformSimpleSelector","slotted","SLOTTED_PAREN","paren","DIR_PAREN","before","dir","PSEUDO_PREFIX","HOST_PAREN","SIMPLE_SELECTOR_PREFIX","typeSelector","documentRule","normalizeRootSelector","_transformDocumentSelector","SCOPE_DOC_SELECTOR","StyleTransformer$1","templateMap","StyleInfo","__styleInfo","styleInfo","invalidate","elementName","_applyShimInvalid","startValidating","_validating","ast","placeholder","ownStylePropertyNames","typeExtension","cssBuild","overrideStyleProperties","styleProperties","scopeSelector","customStyle","IS_IE","XSCOPE_NAME","StyleProperties","decorateStyles","keyframes","ruleIndex","StyleUtil.forEachRule","decorateRule","collectPropertiesInCssText","propertyInfo","_keyframes","names","properties","hasProperties","collectProperties","collectCssText","StyleUtil.rx","any","exec","collectConsumingCssText","reify","valueForProperty","property","valueForProperties","StyleUtil.processVariableAndFallback","propertyValue","lastIndex","colon","pp","applyProperties","output","applyKeyframeTransforms","keyframeTransforms","hasAnimations","transform","keyframeNamesToTransform","keyframe","propertyDataFromStyles","selectorToMatch","whenHostOrRootRule","isRoot","isHost","hostAndRootPropertiesForScope","hostProps","rootProps","_element","transformStyles","hostSelector","rxHostSelector","hostRx","RegExp","_elementKeyframeTransforms","_scopeSelector","keyframesRules","_scopeKeyframes","_keyframesRuleTransformer","keyframesNameRx","transformedKeyframesName","scopeId","applyElementScopeSelector","old","applyElementStyle","_useCount","StyleUtil.applyCss","StyleUtil.applyStyle","applyCustomStyle","StyleUtil.rulesForStyle","StyleProperties$1","placeholderMap","origDefine","clazz","options","APPLY_NAME_CLEAN","INITIAL_INHERIT","MIXIN_VAR_SEP","MixinMap","_map","dependants","ApplyShim","_currentTemplate","_measureElement","_separator","_boundProduceCssProperties","matchText","propertyName","valueProperty","valueMixin","_produceCssProperties","detectMixin","transformStyle","transformRules","transformRule","transformCssText","_consumeCssProperties","_getInitialValueForProperty","getComputedStyle","getPropertyValue","mixinName","idx","applyPos","afterApplyPos","textBeforeApply","textAfterApply","defaults","_cssTextToMap","replacement","_atApplyToCssProperties","fallbacks","vars","mixinEntry","_replaceInitialOrInherit","out","sp","_invalidateMixinEntry","mixinAsProperties","mixinValues","combinedProps","oldProps","needToInvalidate","applyShim","elementNeedsScoping","SVGElement","handler","mxns","mxn","classes","classIdx","nativeCustomElements","delayedStart","requestAnimationFrame","listener","styleCache","typeMax","_validate","cacheEntry","ownPropertyNames","pn","store","tagname","styleElement","_scopeCounter","_documentOwner","_documentOwnerStyleInfo","_elementsHaveApplied","nativeCss","watcherFlush","_generateScopeSelector","getStyleAst","styleAstToString","_gatherStyles","styles","_getCssBuild","prepareTemplate","_prepared","hasMixins","_styleAst","_generateStaticStyle","_style","_ownPropertyNames","shadowroot","_prepareHost","_cssBuild","overrideProps","hasApplied","_isRootOwner","CustomStyle","CS","_documentDirty","findStyles","_revalidateApplyShim","_updateProperties","applyStyles","updateStyles","_updateNativeProperties","_applyStyleProperties","_applyToDescendants","_styleOwnerForNode","cachedScopeSelector","cachedStyle","oldScopeSelector","owner","ownerStyleInfo","ownerProperties","hostAndRootProps","propertyData","propertiesMatchingHost","_mixinOverrideStyles","overrides","removeProperty","setProperty","_transformCustomStyleForDocument","_applyCustomStyleToDocument","getComputedStyleValue","classString","scopeName","classAttr","k$","_styleInfoForNode"],"mappings":"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","file":"webcomponents-lite.js","sourcesContent":["(function () {\n'use strict';\n\n/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function(scope) {\n\n  'use strict';\n\n  // defaultPrevented is broken in IE.\n  // https://connect.microsoft.com/IE/feedback/details/790389/event-defaultprevented-returns-false-after-preventdefault-was-called\n  var workingDefaultPrevented = (function() {\n    var e = document.createEvent('Event');\n    e.initEvent('foo', true, true);\n    e.preventDefault();\n    return e.defaultPrevented;\n  })();\n\n  if (!workingDefaultPrevented) {\n    var origPreventDefault = Event.prototype.preventDefault;\n    Event.prototype.preventDefault = function() {\n      if (!this.cancelable) {\n        return;\n      }\n\n      origPreventDefault.call(this);\n\n      Object.defineProperty(this, 'defaultPrevented', {\n        get: function() {\n          return true;\n        },\n        configurable: true\n      });\n    };\n  }\n\n  var isIE = /Trident/.test(navigator.userAgent);\n\n  // CustomEvent constructor shim\n  if (!window.CustomEvent || isIE && (typeof window.CustomEvent !== 'function')) {\n    window.CustomEvent = function(inType, params) {\n      params = params || {};\n      var e = document.createEvent('CustomEvent');\n      e.initCustomEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable), params.detail);\n      return e;\n    };\n    window.CustomEvent.prototype = window.Event.prototype;\n  }\n\n  // Event constructor shim\n  if (!window.Event || isIE && (typeof window.Event !== 'function')) {\n    var origEvent = window.Event;\n    window.Event = function(inType, params) {\n      params = params || {};\n      var e = document.createEvent('Event');\n      e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n      return e;\n    };\n    if (origEvent) {\n      for (var i in origEvent) {\n        window.Event[i] = origEvent[i];\n      }\n    }\n    window.Event.prototype = origEvent.prototype;\n  }\n\n  if (!window.MouseEvent || isIE && (typeof window.MouseEvent !== 'function')) {\n    var origMouseEvent = window.MouseEvent;\n    window.MouseEvent = function(inType, params) {\n      params = params || {};\n      var e = document.createEvent('MouseEvent');\n      e.initMouseEvent(inType,\n        Boolean(params.bubbles), Boolean(params.cancelable),\n        params.view || window, params.detail,\n        params.screenX, params.screenY, params.clientX, params.clientY,\n        params.ctrlKey, params.altKey, params.shiftKey, params.metaKey,\n        params.button, params.relatedTarget);\n      return e;\n    };\n    if (origMouseEvent) {\n      for (var i in origMouseEvent) {\n        window.MouseEvent[i] = origMouseEvent[i];\n      }\n    }\n    window.MouseEvent.prototype = origMouseEvent.prototype;\n  }\n\n  // ES6 stuff\n  if (!Array.from) {\n    Array.from = function (object) {\n      return [].slice.call(object);\n    };\n  }\n\n  if (!Object.assign) {\n    var assign = function(target, source) {\n      var n$ = Object.getOwnPropertyNames(source);\n      for (var i=0, p; i < n$.length; i++) {\n        p = n$[i];\n        target[p] = source[p];\n      }\n    };\n\n    Object.assign = function(target, sources) {\n      var args = [].slice.call(arguments, 1);\n      for (var i=0, s; i < args.length; i++) {\n        s = args[i];\n        if (s) {\n          assign(target, s);\n        }\n      }\n      return target;\n    };\n  }\n\n})(window.WebComponents);\n\n/* Any copyright is dedicated to the Public Domain.\n * http://creativecommons.org/publicdomain/zero/1.0/ */\n\n(function(scope) {\n  'use strict';\n\n  // feature detect for URL constructor\n  var hasWorkingUrl = false;\n  if (!scope.forceJURL) {\n    try {\n      var u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      hasWorkingUrl = u.href === 'http://a/c%20d';\n    } catch(e) {}\n  }\n\n  if (hasWorkingUrl)\n    return;\n\n  var relative = Object.create(null);\n  relative['ftp'] = 21;\n  relative['file'] = 0;\n  relative['gopher'] = 70;\n  relative['http'] = 80;\n  relative['https'] = 443;\n  relative['ws'] = 80;\n  relative['wss'] = 443;\n\n  var relativePathDotMapping = Object.create(null);\n  relativePathDotMapping['%2e'] = '.';\n  relativePathDotMapping['.%2e'] = '..';\n  relativePathDotMapping['%2e.'] = '..';\n  relativePathDotMapping['%2e%2e'] = '..';\n\n  function isRelativeScheme(scheme) {\n    return relative[scheme] !== undefined;\n  }\n\n  function invalid() {\n    clear.call(this);\n    this._isInvalid = true;\n  }\n\n  function IDNAToASCII(h) {\n    if ('' == h) {\n      invalid.call(this);\n    }\n    // XXX\n    return h.toLowerCase()\n  }\n\n  function percentEscape(c) {\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ? `\n       [0x22, 0x23, 0x3C, 0x3E, 0x3F, 0x60].indexOf(unicode) == -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  function percentEscapeQuery(c) {\n    // XXX This actually needs to encode c using encoding and then\n    // convert the bytes one-by-one.\n\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ` (do not escape '?')\n       [0x22, 0x23, 0x3C, 0x3E, 0x60].indexOf(unicode) == -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  var EOF = undefined,\n      ALPHA = /[a-zA-Z]/,\n      ALPHANUMERIC = /[a-zA-Z0-9\\+\\-\\.]/;\n\n  function parse(input, stateOverride, base) {\n    function err(message) {\n      errors.push(message);\n    }\n\n    var state = stateOverride || 'scheme start',\n        cursor = 0,\n        buffer = '',\n        seenAt = false,\n        seenBracket = false,\n        errors = [];\n\n    loop: while ((input[cursor - 1] != EOF || cursor == 0) && !this._isInvalid) {\n      var c = input[cursor];\n      switch (state) {\n        case 'scheme start':\n          if (c && ALPHA.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n            state = 'scheme';\n          } else if (!stateOverride) {\n            buffer = '';\n            state = 'no scheme';\n            continue;\n          } else {\n            err('Invalid scheme.');\n            break loop;\n          }\n          break;\n\n        case 'scheme':\n          if (c && ALPHANUMERIC.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n          } else if (':' == c) {\n            this._scheme = buffer;\n            buffer = '';\n            if (stateOverride) {\n              break loop;\n            }\n            if (isRelativeScheme(this._scheme)) {\n              this._isRelative = true;\n            }\n            if ('file' == this._scheme) {\n              state = 'relative';\n            } else if (this._isRelative && base && base._scheme == this._scheme) {\n              state = 'relative or authority';\n            } else if (this._isRelative) {\n              state = 'authority first slash';\n            } else {\n              state = 'scheme data';\n            }\n          } else if (!stateOverride) {\n            buffer = '';\n            cursor = 0;\n            state = 'no scheme';\n            continue;\n          } else if (EOF == c) {\n            break loop;\n          } else {\n            err('Code point not allowed in scheme: ' + c);\n            break loop;\n          }\n          break;\n\n        case 'scheme data':\n          if ('?' == c) {\n            this._query = '?';\n            state = 'query';\n          } else if ('#' == c) {\n            this._fragment = '#';\n            state = 'fragment';\n          } else {\n            // XXX error handling\n            if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n              this._schemeData += percentEscape(c);\n            }\n          }\n          break;\n\n        case 'no scheme':\n          if (!base || !(isRelativeScheme(base._scheme))) {\n            err('Missing scheme.');\n            invalid.call(this);\n          } else {\n            state = 'relative';\n            continue;\n          }\n          break;\n\n        case 'relative or authority':\n          if ('/' == c && '/' == input[cursor+1]) {\n            state = 'authority ignore slashes';\n          } else {\n            err('Expected /, got: ' + c);\n            state = 'relative';\n            continue\n          }\n          break;\n\n        case 'relative':\n          this._isRelative = true;\n          if ('file' != this._scheme)\n            this._scheme = base._scheme;\n          if (EOF == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._username = base._username;\n            this._password = base._password;\n            break loop;\n          } else if ('/' == c || '\\\\' == c) {\n            if ('\\\\' == c)\n              err('\\\\ is an invalid code point.');\n            state = 'relative slash';\n          } else if ('?' == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = '?';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'query';\n          } else if ('#' == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._fragment = '#';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'fragment';\n          } else {\n            var nextC = input[cursor+1];\n            var nextNextC = input[cursor+2];\n            if (\n              'file' != this._scheme || !ALPHA.test(c) ||\n              (nextC != ':' && nextC != '|') ||\n              (EOF != nextNextC && '/' != nextNextC && '\\\\' != nextNextC && '?' != nextNextC && '#' != nextNextC)) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n              this._path = base._path.slice();\n              this._path.pop();\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'relative slash':\n          if ('/' == c || '\\\\' == c) {\n            if ('\\\\' == c) {\n              err('\\\\ is an invalid code point.');\n            }\n            if ('file' == this._scheme) {\n              state = 'file host';\n            } else {\n              state = 'authority ignore slashes';\n            }\n          } else {\n            if ('file' != this._scheme) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'authority first slash':\n          if ('/' == c) {\n            state = 'authority second slash';\n          } else {\n            err(\"Expected '/', got: \" + c);\n            state = 'authority ignore slashes';\n            continue;\n          }\n          break;\n\n        case 'authority second slash':\n          state = 'authority ignore slashes';\n          if ('/' != c) {\n            err(\"Expected '/', got: \" + c);\n            continue;\n          }\n          break;\n\n        case 'authority ignore slashes':\n          if ('/' != c && '\\\\' != c) {\n            state = 'authority';\n            continue;\n          } else {\n            err('Expected authority, got: ' + c);\n          }\n          break;\n\n        case 'authority':\n          if ('@' == c) {\n            if (seenAt) {\n              err('@ already seen.');\n              buffer += '%40';\n            }\n            seenAt = true;\n            for (var i = 0; i < buffer.length; i++) {\n              var cp = buffer[i];\n              if ('\\t' == cp || '\\n' == cp || '\\r' == cp) {\n                err('Invalid whitespace in authority.');\n                continue;\n              }\n              // XXX check URL code points\n              if (':' == cp && null === this._password) {\n                this._password = '';\n                continue;\n              }\n              var tempC = percentEscape(cp);\n              (null !== this._password) ? this._password += tempC : this._username += tempC;\n            }\n            buffer = '';\n          } else if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            cursor -= buffer.length;\n            buffer = '';\n            state = 'host';\n            continue;\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'file host':\n          if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            if (buffer.length == 2 && ALPHA.test(buffer[0]) && (buffer[1] == ':' || buffer[1] == '|')) {\n              state = 'relative path';\n            } else if (buffer.length == 0) {\n              state = 'relative path start';\n            } else {\n              this._host = IDNAToASCII.call(this, buffer);\n              buffer = '';\n              state = 'relative path start';\n            }\n            continue;\n          } else if ('\\t' == c || '\\n' == c || '\\r' == c) {\n            err('Invalid whitespace in file host.');\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'host':\n        case 'hostname':\n          if (':' == c && !seenBracket) {\n            // XXX host parsing\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'port';\n            if ('hostname' == stateOverride) {\n              break loop;\n            }\n          } else if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'relative path start';\n            if (stateOverride) {\n              break loop;\n            }\n            continue;\n          } else if ('\\t' != c && '\\n' != c && '\\r' != c) {\n            if ('[' == c) {\n              seenBracket = true;\n            } else if (']' == c) {\n              seenBracket = false;\n            }\n            buffer += c;\n          } else {\n            err('Invalid code point in host/hostname: ' + c);\n          }\n          break;\n\n        case 'port':\n          if (/[0-9]/.test(c)) {\n            buffer += c;\n          } else if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c || stateOverride) {\n            if ('' != buffer) {\n              var temp = parseInt(buffer, 10);\n              if (temp != relative[this._scheme]) {\n                this._port = temp + '';\n              }\n              buffer = '';\n            }\n            if (stateOverride) {\n              break loop;\n            }\n            state = 'relative path start';\n            continue;\n          } else if ('\\t' == c || '\\n' == c || '\\r' == c) {\n            err('Invalid code point in port: ' + c);\n          } else {\n            invalid.call(this);\n          }\n          break;\n\n        case 'relative path start':\n          if ('\\\\' == c)\n            err(\"'\\\\' not allowed in path.\");\n          state = 'relative path';\n          if ('/' != c && '\\\\' != c) {\n            continue;\n          }\n          break;\n\n        case 'relative path':\n          if (EOF == c || '/' == c || '\\\\' == c || (!stateOverride && ('?' == c || '#' == c))) {\n            if ('\\\\' == c) {\n              err('\\\\ not allowed in relative path.');\n            }\n            var tmp;\n            if (tmp = relativePathDotMapping[buffer.toLowerCase()]) {\n              buffer = tmp;\n            }\n            if ('..' == buffer) {\n              this._path.pop();\n              if ('/' != c && '\\\\' != c) {\n                this._path.push('');\n              }\n            } else if ('.' == buffer && '/' != c && '\\\\' != c) {\n              this._path.push('');\n            } else if ('.' != buffer) {\n              if ('file' == this._scheme && this._path.length == 0 && buffer.length == 2 && ALPHA.test(buffer[0]) && buffer[1] == '|') {\n                buffer = buffer[0] + ':';\n              }\n              this._path.push(buffer);\n            }\n            buffer = '';\n            if ('?' == c) {\n              this._query = '?';\n              state = 'query';\n            } else if ('#' == c) {\n              this._fragment = '#';\n              state = 'fragment';\n            }\n          } else if ('\\t' != c && '\\n' != c && '\\r' != c) {\n            buffer += percentEscape(c);\n          }\n          break;\n\n        case 'query':\n          if (!stateOverride && '#' == c) {\n            this._fragment = '#';\n            state = 'fragment';\n          } else if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n            this._query += percentEscapeQuery(c);\n          }\n          break;\n\n        case 'fragment':\n          if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n            this._fragment += c;\n          }\n          break;\n      }\n\n      cursor++;\n    }\n  }\n\n  function clear() {\n    this._scheme = '';\n    this._schemeData = '';\n    this._username = '';\n    this._password = null;\n    this._host = '';\n    this._port = '';\n    this._path = [];\n    this._query = '';\n    this._fragment = '';\n    this._isInvalid = false;\n    this._isRelative = false;\n  }\n\n  // Does not process domain names or IP addresses.\n  // Does not handle encoding for the query parameter.\n  function jURL(url, base /* , encoding */) {\n    if (base !== undefined && !(base instanceof jURL))\n      base = new jURL(String(base));\n\n    this._url = url;\n    clear.call(this);\n\n    var input = url.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g, '');\n    // encoding = encoding || 'utf-8'\n\n    parse.call(this, input, null, base);\n  }\n\n  jURL.prototype = {\n    toString: function() {\n      return this.href;\n    },\n    get href() {\n      if (this._isInvalid)\n        return this._url;\n\n      var authority = '';\n      if ('' != this._username || null != this._password) {\n        authority = this._username +\n            (null != this._password ? ':' + this._password : '') + '@';\n      }\n\n      return this.protocol +\n          (this._isRelative ? '//' + authority + this.host : '') +\n          this.pathname + this._query + this._fragment;\n    },\n    set href(href) {\n      clear.call(this);\n      parse.call(this, href);\n    },\n\n    get protocol() {\n      return this._scheme + ':';\n    },\n    set protocol(protocol) {\n      if (this._isInvalid)\n        return;\n      parse.call(this, protocol + ':', 'scheme start');\n    },\n\n    get host() {\n      return this._isInvalid ? '' : this._port ?\n          this._host + ':' + this._port : this._host;\n    },\n    set host(host) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      parse.call(this, host, 'host');\n    },\n\n    get hostname() {\n      return this._host;\n    },\n    set hostname(hostname) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      parse.call(this, hostname, 'hostname');\n    },\n\n    get port() {\n      return this._port;\n    },\n    set port(port) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      parse.call(this, port, 'port');\n    },\n\n    get pathname() {\n      return this._isInvalid ? '' : this._isRelative ?\n          '/' + this._path.join('/') : this._schemeData;\n    },\n    set pathname(pathname) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      this._path = [];\n      parse.call(this, pathname, 'relative path start');\n    },\n\n    get search() {\n      return this._isInvalid || !this._query || '?' == this._query ?\n          '' : this._query;\n    },\n    set search(search) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      this._query = '?';\n      if ('?' == search[0])\n        search = search.slice(1);\n      parse.call(this, search, 'query');\n    },\n\n    get hash() {\n      return this._isInvalid || !this._fragment || '#' == this._fragment ?\n          '' : this._fragment;\n    },\n    set hash(hash) {\n      if (this._isInvalid)\n        return;\n      this._fragment = '#';\n      if ('#' == hash[0])\n        hash = hash.slice(1);\n      parse.call(this, hash, 'fragment');\n    },\n\n    get origin() {\n      var host;\n      if (this._isInvalid || !this._scheme) {\n        return '';\n      }\n      // javascript: Gecko returns String(\"\"), WebKit/Blink String(\"null\")\n      // Gecko throws error for \"data://\"\n      // data: Gecko returns \"\", Blink returns \"data://\", WebKit returns \"null\"\n      // Gecko returns String(\"\") for file: mailto:\n      // WebKit/Blink returns String(\"SCHEME://\") for file: mailto:\n      switch (this._scheme) {\n        case 'data':\n        case 'file':\n        case 'javascript':\n        case 'mailto':\n          return 'null';\n      }\n      host = this.host;\n      if (!host) {\n        return '';\n      }\n      return this._scheme + '://' + host;\n    }\n  };\n\n  // Copy over the static methods\n  var OriginalURL = scope.URL;\n  if (OriginalURL) {\n    jURL.createObjectURL = function(blob) {\n      // IE extension allows a second optional options argument.\n      // http://msdn.microsoft.com/en-us/library/ie/hh772302(v=vs.85).aspx\n      return OriginalURL.createObjectURL.apply(OriginalURL, arguments);\n    };\n    jURL.revokeObjectURL = function(url) {\n      OriginalURL.revokeObjectURL(url);\n    };\n  }\n\n  scope.URL = jURL;\n\n})(window);\n\n/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n// minimal template polyfill\n(function() {\n  var needsTemplate = (typeof HTMLTemplateElement === 'undefined');\n  // NOTE: Patch document.importNode to work around IE11 bug that\n  // casues children of a document fragment imported while\n  // there is a mutation observer to not have a parentNode (!?!)\n  // This needs to happen *after* patching importNode to fix template cloning\n  if (/Trident/.test(navigator.userAgent)) {\n    (function() {\n      var importNode = document.importNode;\n      document.importNode = function() {\n        var n = importNode.apply(document, arguments);\n        // Copy all children to a new document fragment since\n        // this one may be broken\n        if (n.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n          var f = document.createDocumentFragment();\n          f.appendChild(n);\n          return f;\n        } else {\n          return n;\n        }\n      };\n    })();\n  }\n\n  // returns true if nested templates cannot be cloned (they cannot be on\n  // some impl's like Safari 8)\n  var needsCloning = (function() {\n    if (!needsTemplate) {\n      var t = document.createElement('template');\n      var t2 = document.createElement('template');\n      t2.content.appendChild(document.createElement('div'));\n      t.content.appendChild(t2);\n      var clone = t.cloneNode(true);\n      return (clone.content.childNodes.length === 0 || clone.content.firstChild.content.childNodes.length === 0);\n    }\n  })();\n\n  var TEMPLATE_TAG = 'template';\n  var TemplateImpl = function() {};\n\n  if (needsTemplate) {\n\n    var contentDoc = document.implementation.createHTMLDocument('template');\n    var canDecorate = true;\n\n    var templateStyle = document.createElement('style');\n    templateStyle.textContent = TEMPLATE_TAG + '{display:none;}';\n\n    var head = document.head;\n    head.insertBefore(templateStyle, head.firstElementChild);\n\n    /**\n      Provides a minimal shim for the <template> element.\n    */\n    TemplateImpl.prototype = Object.create(HTMLElement.prototype);\n\n    /**\n      The `decorate` method moves element children to the template's `content`.\n      NOTE: there is no support for dynamically adding elements to templates.\n    */\n    TemplateImpl.decorate = function(template) {\n      // if the template is decorated, return fast\n      if (template.content) {\n        return;\n      }\n      template.content = contentDoc.createDocumentFragment();\n      var child;\n      while (child = template.firstChild) {\n        template.content.appendChild(child);\n      }\n\n      template.cloneNode = function(deep) {\n        return TemplateImpl.cloneNode(this, deep);\n      };\n\n      // add innerHTML to template, if possible\n      // Note: this throws on Safari 7\n      if (canDecorate) {\n        try {\n          Object.defineProperty(template, 'innerHTML', {\n            get: function() {\n              var o = '';\n              for (var e = this.content.firstChild; e; e = e.nextSibling) {\n                o += e.outerHTML || escapeData(e.data);\n              }\n              return o;\n            },\n            set: function(text) {\n              contentDoc.body.innerHTML = text;\n              TemplateImpl.bootstrap(contentDoc);\n              while (this.content.firstChild) {\n                this.content.removeChild(this.content.firstChild);\n              }\n              while (contentDoc.body.firstChild) {\n                this.content.appendChild(contentDoc.body.firstChild);\n              }\n            },\n            configurable: true\n          });\n\n        } catch (err) {\n          canDecorate = false;\n        }\n      }\n      // bootstrap recursively\n      TemplateImpl.bootstrap(template.content);\n    };\n\n    /**\n      The `bootstrap` method is called automatically and \"fixes\" all\n      <template> elements in the document referenced by the `doc` argument.\n    */\n    TemplateImpl.bootstrap = function(doc) {\n      var templates = doc.querySelectorAll(TEMPLATE_TAG);\n      for (var i=0, l=templates.length, t; (i<l) && (t=templates[i]); i++) {\n        TemplateImpl.decorate(t);\n      }\n    };\n\n    // auto-bootstrapping for main document\n    document.addEventListener('DOMContentLoaded', function() {\n      TemplateImpl.bootstrap(document);\n    });\n\n    // Patch document.createElement to ensure newly created templates have content\n    var createElement = document.createElement;\n    document.createElement = function() {\n      'use strict';\n      var el = createElement.apply(document, arguments);\n      if (el.localName === 'template') {\n        TemplateImpl.decorate(el);\n      }\n      return el;\n    };\n\n    var escapeDataRegExp = /[&\\u00A0<>]/g;\n\n    function escapeReplace(c) {\n      switch (c) {\n        case '&':\n          return '&amp;';\n        case '<':\n          return '&lt;';\n        case '>':\n          return '&gt;';\n        case '\\u00A0':\n          return '&nbsp;';\n      }\n    }\n\n    function escapeData(s) {\n      return s.replace(escapeDataRegExp, escapeReplace);\n    }\n  }\n\n  // make cloning/importing work!\n  if (needsTemplate || needsCloning) {\n    // NOTE: we rely on this cloneNode not causing element upgrade.\n    // This means this polyfill must load before the CE polyfill and\n    // this would need to be re-worked if a browser supports native CE\n    // but not <template>.\n    var nativeCloneNode = Node.prototype.cloneNode;\n\n    TemplateImpl.cloneNode = function(template, deep) {\n      var clone = nativeCloneNode.call(template, false);\n      // NOTE: decorate doesn't auto-fix children because they are already\n      // decorated so they need special clone fixup.\n      if (this.decorate) {\n        this.decorate(clone);\n      }\n      if (deep) {\n        // NOTE: use native clone node to make sure CE's wrapped\n        // cloneNode does not cause elements to upgrade.\n        clone.content.appendChild(\n            nativeCloneNode.call(template.content, true));\n        // now ensure nested templates are cloned correctly.\n        this.fixClonedDom(clone.content, template.content);\n      }\n      return clone;\n    };\n\n    // Given a source and cloned subtree, find <template>'s in the cloned\n    // subtree and replace them with cloned <template>'s from source.\n    // We must do this because only the source templates have proper .content.\n    TemplateImpl.fixClonedDom = function(clone, source) {\n      // do nothing if cloned node is not an element\n      if (!source.querySelectorAll) return;\n      // these two lists should be coincident\n      var s$ = source.querySelectorAll(TEMPLATE_TAG);\n      var t$ = clone.querySelectorAll(TEMPLATE_TAG);\n      for (var i=0, l=t$.length, t, s; i<l; i++) {\n        s = s$[i];\n        t = t$[i];\n        if (this.decorate) {\n          this.decorate(s);\n        }\n        t.parentNode.replaceChild(s.cloneNode(true), t);\n      }\n    };\n\n    var originalImportNode = document.importNode;\n\n    // override all cloning to fix the cloned subtree to contain properly\n    // cloned templates.\n    Node.prototype.cloneNode = function(deep) {\n      var dom = nativeCloneNode.call(this, deep);\n      // template.content is cloned iff `deep`.\n      if (deep) {\n        TemplateImpl.fixClonedDom(dom, this);\n      }\n      return dom;\n    };\n\n    // NOTE: we are cloning instead of importing <template>'s.\n    // However, the ownerDocument of the cloned template will be correct!\n    // This is because the native import node creates the right document owned\n    // subtree and `fixClonedDom` inserts cloned templates into this subtree,\n    // thus updating the owner doc.\n    document.importNode = function(element, deep) {\n      if (element.localName === TEMPLATE_TAG) {\n        return TemplateImpl.cloneNode(element, deep);\n      } else {\n        var dom = originalImportNode.call(document, element, deep);\n        if (deep) {\n          TemplateImpl.fixClonedDom(dom, element);\n        }\n        return dom;\n      }\n    };\n\n    if (needsCloning) {\n      HTMLTemplateElement.prototype.cloneNode = function(deep) {\n        return TemplateImpl.cloneNode(this, deep);\n      };\n    }\n  }\n\n  if (needsTemplate) {\n    window.HTMLTemplateElement = TemplateImpl;\n  }\n\n})();\n\nfunction objectOrFunction(x) {\n  return typeof x === 'function' || (typeof x === 'object' && x !== null);\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nlet _isArray;\nif (!Array.isArray) {\n  _isArray = x => Object.prototype.toString.call(x) === '[object Array]';\n} else {\n  _isArray = Array.isArray;\n}\n\nconst isArray = _isArray;\n\nlet len = 0;\nlet vertxNext;\nlet customSchedulerFn;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nconst browserWindow = (typeof window !== 'undefined') ? window : undefined;\nconst browserGlobal = browserWindow || {};\nconst BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nconst isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nconst isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n  typeof importScripts !== 'undefined' &&\n  typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return () => process.nextTick(flush);\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function() {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  let iterations = 0;\n  const observer = new BrowserMutationObserver(flush);\n  const node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return () => {\n    node.data = (iterations = ++iterations % 2);\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  const channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return () => channel.port2.postMessage(0);\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  const globalSetTimeout = setTimeout;\n  return () => globalSetTimeout(flush, 1);\n}\n\nconst queue = new Array(1000);\nfunction flush() {\n  for (let i = 0; i < len; i+=2) {\n    let callback = queue[i];\n    let arg = queue[i+1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i+1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    const r = require;\n    const vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch(e) {\n    return useSetTimeout();\n  }\n}\n\nlet scheduleFlush;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  const parent = this;\n\n  const child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  const { _state } = parent;\n\n  if (_state) {\n    const callback = arguments[_state - 1];\n    asap(() => invokeCallback(_state, child, callback, parent._result));\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  let Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  let promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nconst PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nconst PENDING   = void 0;\nconst FULFILLED = 1;\nconst REJECTED  = 2;\n\nconst GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch(error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch(e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n   asap(promise => {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, value => {\n      if (sealed) { return; }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, reason => {\n      if (sealed) { return; }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, value  => resolve(promise, value),\n                                   reason => reject(promise, reason));\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor &&\n      then$$1 === then &&\n      maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n    } else if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) { return; }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) { return; }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  let { _subscribers } = parent;\n  let { length } = _subscribers;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED]  = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  let subscribers = promise._subscribers;\n  let settled = promise._state;\n\n  if (subscribers.length === 0) { return; }\n\n  let child, callback, detail = promise._result;\n\n  for (let i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nconst TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch(e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  let hasCallback = isFunction(callback),\n      value, error, succeeded, failed;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (failed) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value){\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch(e) {\n    reject(promise, e);\n  }\n}\n\nlet id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator$1(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this._input     = input;\n    this.length     = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nEnumerator$1.prototype._enumerate = function() {\n  let { length, _input } = this;\n\n  for (let i = 0; this._state === PENDING && i < length; i++) {\n    this._eachEntry(_input[i], i);\n  }\n};\n\nEnumerator$1.prototype._eachEntry = function(entry, i) {\n  let c = this._instanceConstructor;\n  let { resolve: resolve$$1 } = c;\n\n  if (resolve$$1 === resolve$1) {\n    let then$$1 = getThen(entry);\n\n    if (then$$1 === then &&\n        entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof then$$1 !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise$2) {\n      let promise = new c(noop);\n      handleMaybeThenable(promise, entry, then$$1);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(resolve$$1 => resolve$$1(entry)), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$1(entry), i);\n  }\n};\n\nEnumerator$1.prototype._settledAt = function(state, i, value) {\n  let { promise } = this;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator$1.prototype._willSettleAt = function(promise, i) {\n  let enumerator = this;\n\n  subscribe(promise, undefined, value => enumerator._settledAt(FULFILLED, i, value),\n                               reason => enumerator._settledAt(REJECTED, i, reason));\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator$1(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  let Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor((_, reject) => reject(new TypeError('You must pass an array to race.')));\n  } else {\n    return new Constructor((resolve, reject) => {\n      let length = entries.length;\n      for (let i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  let Constructor = this;\n  let promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise$2(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise$2 ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise$2.all = all;\nPromise$2.race = race;\nPromise$2.resolve = resolve$1;\nPromise$2.reject = reject$1;\nPromise$2._setScheduler = setScheduler;\nPromise$2._setAsap = setAsap;\nPromise$2._asap = asap;\n\nPromise$2.prototype = {\n  constructor: Promise$2,\n\n/**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n\n  ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n\n  Chaining\n  --------\n\n  The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n\n  ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n\n  findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n  ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n\n  Assimilation\n  ------------\n\n  Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n\n  ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n\n  If the assimliated promise rejects, then the downstream promise will also reject.\n\n  ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n\n  Simple Example\n  --------------\n\n  Synchronous Example\n\n  ```javascript\n  let result;\n\n  try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n\n  Errback Example\n\n  ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n\n  Promise Example;\n\n  ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n\n  Advanced Example\n  --------------\n\n  Synchronous Example\n\n  ```javascript\n  let author, books;\n\n  try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n\n  Errback Example\n\n  ```js\n\n  function foundBooks(books) {\n\n  }\n\n  function failure(reason) {\n\n  }\n\n  findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n\n  Promise Example;\n\n  ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n\n  @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n*/\n  then: then,\n\n/**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n\n  ```js\n  function findAuthor(){\n    throw new Error('couldn't find that author');\n  }\n\n  // synchronous\n  try {\n    findAuthor();\n  } catch(reason) {\n    // something went wrong\n  }\n\n  // async with promises\n  findAuthor().catch(function(reason){\n    // something went wrong\n  });\n  ```\n\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n*/\n  catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\n/*global self*/\nfunction polyfill() {\n  let local;\n\n  if (typeof global !== 'undefined') {\n      local = global;\n  } else if (typeof self !== 'undefined') {\n      local = self;\n  } else {\n      try {\n          local = Function('return this')();\n      } catch (e) {\n          throw new Error('polyfill failed because global object is unavailable in this environment');\n      }\n  }\n\n  let P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n        promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch(e) {\n        // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast){\n        return;\n    }\n  }\n\n  local.Promise = Promise$2;\n}\n\n// Strange compat..\nPromise$2.polyfill = polyfill;\nPromise$2.Promise = Promise$2;\n\n/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n(function(scope) {\n\n  /********************* base setup *********************/\n  const IMPORT_SELECTOR = 'link[rel=import]';\n  const useNative = Boolean('import' in document.createElement('link'));\n  const flags = {\n    bust: false,\n    log: false\n  };\n\n  // Polyfill `currentScript` for browsers without it.\n  let currentScript = null;\n  if ('currentScript' in document === false) {\n    Object.defineProperty(document, 'currentScript', {\n      get: function() {\n        return currentScript ||\n          // NOTE: only works when called in synchronously executing code.\n          // readyState should check if `loading` but IE10 is\n          // interactive when scripts run so we cheat.\n          (document.readyState !== 'complete' ?\n            document.scripts[document.scripts.length - 1] : null);\n      },\n      configurable: true\n    });\n  }\n\n  /********************* path fixup *********************/\n  const ABS_URL_TEST = /(^\\/)|(^#)|(^[\\w-\\d]*:)/;\n  const CSS_URL_REGEXP = /(url\\()([^)]*)(\\))/g;\n  const CSS_IMPORT_REGEXP = /(@import[\\s]+(?!url\\())([^;]*)(;)/g;\n\n\n  // path fixup: style elements in imports must be made relative to the main\n  // document. We fixup url's in url() and @import.\n  const Path = {\n    resolveUrlsInStyle: function(style, linkUrl) {\n      style.textContent = Path.resolveUrlsInCssText(style.textContent, linkUrl);\n    },\n\n    resolveUrlsInCssText: function(cssText, linkUrl) {\n      let r = Path.replaceUrls(cssText, linkUrl, CSS_URL_REGEXP);\n      r = Path.replaceUrls(r, linkUrl, CSS_IMPORT_REGEXP);\n      return r;\n    },\n\n    replaceUrls: function(text, linkUrl, regexp) {\n      return text.replace(regexp, function(m, pre, url, post) {\n        let urlPath = url.replace(/[\"']/g, '');\n        if (linkUrl) {\n          urlPath = Path._resolveUrl(urlPath, linkUrl);\n        }\n        return pre + '\\'' + urlPath + '\\'' + post;\n      });\n    },\n\n    replaceAttrUrl: function(text, linkUrl) {\n      if (text && ABS_URL_TEST.test(text)) {\n        return text;\n      } else {\n        return Path._resolveUrl(text, linkUrl);\n      }\n    },\n\n    _resolveUrl: function(url, base) {\n      // Lazy feature detection.\n      if (Path.__workingURL === undefined) {\n        Path.__workingURL = false;\n        try {\n          const u = new URL('b', 'http://a');\n          u.pathname = 'c%20d';\n          Path.__workingURL = (u.href === 'http://a/c%20d');\n        } catch (e) {}\n      }\n\n      if (Path.__workingURL) {\n        return (new URL(url, base)).href;\n      }\n\n      // Fallback to creating an anchor into a disconnected document.\n      let doc = Path.__tempDoc;\n      if (!doc) {\n        doc = document.implementation.createHTMLDocument('temp');\n        Path.__tempDoc = doc;\n        doc.__base = doc.createElement('base');\n        doc.head.appendChild(doc.__base);\n        doc.__anchor = doc.createElement('a');\n      }\n      doc.__base.href = base;\n      doc.__anchor.href = url;\n      return doc.__anchor.href || url;\n    }\n  };\n\n  /********************* Xhr processor *********************/\n  const Xhr = {\n\n    async: true,\n\n    /**\n     * @param {!string} url\n     * @param {!function(boolean, ?, string=)} callback\n     * @return {XMLHttpRequest}\n     */\n    load: function(url, callback) {\n      const request = new XMLHttpRequest();\n      if (flags.bust) {\n        url += '?' + Math.random();\n      }\n      request.open('GET', url, Xhr.async);\n      request.addEventListener('readystatechange', (e) => {\n        if (request.readyState === 4) {\n          // Servers redirecting an import can add a Location header to help us\n          // polyfill correctly.\n          let redirectedUrl = undefined;\n          try {\n            const locationHeader = request.getResponseHeader('Location');\n            if (locationHeader) {\n              // Relative or full path.\n              redirectedUrl = (locationHeader.substr(0, 1) === '/') ?\n                location.origin + locationHeader : locationHeader;\n            }\n          } catch (e) {\n            console.error(e.message);\n          }\n          const isOk = ((request.status >= 200 && request.status < 300) ||\n            request.status === 304 || request.status === 0);\n          const resource = (request.response || request.responseText);\n          callback(!isOk, resource, redirectedUrl);\n        }\n      });\n      request.send();\n      return request;\n    }\n  };\n\n  /********************* loader *********************/\n  // This loader supports a dynamic list of urls\n  // and an oncomplete callback that is called when the loader is done.\n  // NOTE: The polyfill currently does *not* need this dynamism or the\n  // onComplete concept. Because of this, the loader could be simplified\n  // quite a bit.\n  class Loader {\n    constructor(onLoad, onComplete) {\n      this.cache = {};\n      this.onload = onLoad;\n      this.oncomplete = onComplete;\n      this.inflight = 0;\n      this.pending = {};\n    }\n\n    addNodes(nodes) {\n      // number of transactions to complete\n      this.inflight += nodes.length;\n      // commence transactions\n      for (let i = 0, l = nodes.length, n;\n        (i < l) && (n = nodes[i]); i++) {\n        this.require(n);\n      }\n      // anything to do?\n      this.checkDone();\n    }\n\n    addNode(node) {\n      // number of transactions to complete\n      this.inflight++;\n      // commence transactions\n      this.require(node);\n      // anything to do?\n      this.checkDone();\n    }\n\n    require(elt) {\n      const url = elt.src || elt.href;\n      // deduplication\n      if (!this.dedupe(url, elt)) {\n        // fetch this resource\n        this.fetch(url, elt);\n      }\n    }\n\n    dedupe(url, elt) {\n      if (this.pending[url]) {\n        // add to list of nodes waiting for inUrl\n        this.pending[url].push(elt);\n        // don't need fetch\n        return true;\n      }\n      let resource;\n      if (this.cache[url]) {\n        this.onload(url, elt, this.cache[url]);\n        // finished this transaction\n        this.tail();\n        // don't need fetch\n        return true;\n      }\n      // first node waiting for inUrl\n      this.pending[url] = [elt];\n      // need fetch (not a dupe)\n      return false;\n    }\n\n    fetch(url, elt) {\n      flags.log && console.log('fetch', url, elt);\n      if (!url) {\n        this.receive(url, elt, true, 'error: href must be specified');\n      } else if (url.match(/^data:/)) {\n        // Handle Data URI Scheme\n        const pieces = url.split(',');\n        const header = pieces[0];\n        let body = pieces[1];\n        if (header.indexOf(';base64') > -1) {\n          body = atob(body);\n        } else {\n          body = decodeURIComponent(body);\n        }\n        this.receive(url, elt, false, body);\n      } else {\n        Xhr.load(url, (error, resource, redirectedUrl) =>\n          this.receive(url, elt, error, resource, redirectedUrl));\n      }\n    }\n\n    /**\n     * @param {!string} url\n     * @param {!Element} elt\n     * @param {boolean} err\n     * @param {string=} resource\n     * @param {string=} redirectedUrl\n     */\n    receive(url, elt, err, resource, redirectedUrl) {\n      this.cache[url] = resource;\n      const $p = this.pending[url];\n      for (let i = 0, l = $p.length, p;\n        (i < l) && (p = $p[i]); i++) {\n        // If url was redirected, use the redirected location so paths are\n        // calculated relative to that.\n        this.onload(url, p, resource, err, redirectedUrl);\n        this.tail();\n      }\n      this.pending[url] = null;\n    }\n\n    tail() {\n      --this.inflight;\n      this.checkDone();\n    }\n\n    checkDone() {\n      if (!this.inflight) {\n        this.oncomplete();\n      }\n    }\n  }\n\n  /********************* importer *********************/\n\n  const stylesSelector = [\n    'style:not([type])',\n    'link[rel=stylesheet][href]:not([type])'\n  ].join(',');\n\n  const stylesInImportsSelector = [\n    `${IMPORT_SELECTOR} style:not([type])`,\n    `${IMPORT_SELECTOR} link[rel=stylesheet][href]:not([type])`\n  ].join(',');\n\n  const importsSelectors = [\n    IMPORT_SELECTOR,\n    stylesSelector,\n    'script:not([type])',\n    'script[type=\"application/javascript\"]',\n    'script[type=\"text/javascript\"]'\n  ].join(',');\n\n  /**\n   * Importer will:\n   * - load any linked import documents (with deduping)\n   * - whenever an import is loaded, prompt the parser to try to parse\n   * - observe imported documents for new elements (these are handled via the\n   *   dynamic importer)\n   */\n  class Importer {\n    /**\n     * @param {!HTMLDocument} doc\n     */\n    constructor(doc) {\n      this.documents = {};\n      this._doc = doc;\n      // Make sure to catch any imports that are in the process of loading\n      // when this script is run.\n      const imports = doc.querySelectorAll(IMPORT_SELECTOR);\n      for (let i = 0, l = imports.length; i < l; i++) {\n        whenElementLoaded(imports[i]);\n      }\n      // Observe only document head\n      new MutationObserver(this._onMutation.bind(this)).observe(doc.head, {\n        childList: true\n      });\n\n      if (!useNative) {\n        this._loader = new Loader(\n          this._onLoaded.bind(this), this._onLoadedAll.bind(this)\n        );\n        whenDocumentReady(doc).then(() => this._loadSubtree(doc));\n      }\n    }\n\n    _loadSubtree(doc) {\n      const nodes = doc.querySelectorAll(IMPORT_SELECTOR);\n      // add these nodes to loader's queue\n      this._loader.addNodes(nodes);\n    }\n\n    _onLoaded(url, elt, resource, err, redirectedUrl) {\n      flags.log && console.log('loaded', url, elt);\n      // We've already seen a document at this url, return.\n      if (this.documents[url] !== undefined) {\n        return;\n      }\n      if (err) {\n        this.documents[url] = null;\n      } else {\n        // Generate an HTMLDocument from data.\n        const doc = makeDocument(resource, redirectedUrl || url);\n        // note, we cannot use MO to detect parsed nodes because\n        // SD polyfill does not report these as mutations.\n        this._loadSubtree(doc);\n        this.documents[url] = doc;\n      }\n    }\n\n    _onLoadedAll() {\n      this._flatten(this._doc);\n      Promise.all([\n        runScripts(this._doc),\n        waitForStyles(this._doc)\n      ]).then(() => fireEvents(this._doc));\n    }\n\n    _flatten(element) {\n      const n$ = element.querySelectorAll(IMPORT_SELECTOR);\n      for (let i = 0, l = n$.length, n; i < l && (n = n$[i]); i++) {\n        n.import = this.documents[n.href];\n        if (n.import && !n.import.__firstImport) {\n          n.import.__firstImport = n;\n          this._flatten(n.import);\n          // If in the main document, observe for any imports added later.\n          if (element === document) {\n            // In IE/Edge, when imports have link stylesheets/styles, the cascading order\n            // isn't respected https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/10472273/\n            if (isIE || isEdge) {\n              cloneAndMoveStyles(n);\n            }\n            this._observe(n.import);\n          }\n          n.appendChild(n.import);\n        }\n      }\n    }\n\n    _observe(element) {\n      if (element.__importObserver) {\n        return;\n      }\n      element.__importObserver = new MutationObserver(this._onMutation.bind(this));\n      element.__importObserver.observe(element, {\n        childList: true,\n        subtree: true\n      });\n    }\n\n    /**\n     * @param {Array<MutationRecord>} mutations\n     */\n    _onMutation(mutations) {\n      for (let j = 0, m; j < mutations.length && (m = mutations[j]); j++) {\n        for (let i = 0, l = m.addedNodes ? m.addedNodes.length : 0; i < l; i++) {\n          const n = /** @type {Element} */ (m.addedNodes[i]);\n          if (n && isImportLink(n)) {\n            if (useNative) {\n              whenElementLoaded(n);\n            } else {\n              this._loader.addNode(n);\n            }\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * @type {Function}\n   */\n  const MATCHES = Element.prototype.matches ||\n    Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\n  /**\n   * @param {!Node} node\n   * @return {boolean}\n   */\n  function isImportLink(node) {\n    return node.nodeType === Node.ELEMENT_NODE && MATCHES.call(node, IMPORT_SELECTOR);\n  }\n\n  /********************* vulcanize style inline processing  *********************/\n  const attrs = ['action', 'src', 'href', 'url', 'style'];\n\n  function fixUrlAttributes(element, base) {\n    attrs.forEach((a) => {\n      const at = element.attributes[a];\n      const v = at && at.value;\n      if (v && (v.search(/({{|\\[\\[)/) < 0)) {\n        at.value = (a === 'style') ?\n          Path.resolveUrlsInCssText(v, base) :\n          Path.replaceAttrUrl(v, base);\n      }\n    });\n  }\n\n  function fixUrlsInTemplate(template, base) {\n    const content = template.content;\n    if (!content) { // Template not supported.\n      return;\n    }\n    const n$ = content.querySelectorAll('style, form[action], [src], [href], [url], [style]');\n    for (let i = 0; i < n$.length; i++) {\n      const n = n$[i];\n      if (n.localName == 'style') {\n        Path.resolveUrlsInStyle(n, base);\n      } else {\n        fixUrlAttributes(n, base);\n      }\n    }\n    fixUrlsInTemplates(content, base);\n  }\n\n  function fixUrlsInTemplates(element, base) {\n    const t$ = element.querySelectorAll('template');\n    for (let i = 0; i < t$.length; i++) {\n      fixUrlsInTemplate(t$[i], base);\n    }\n  }\n\n  const scriptType = 'import-script';\n\n  function fixUrls(element, base) {\n    const n$ = element.querySelectorAll(importsSelectors);\n    for (let i = 0, l = n$.length, n; i < l && (n = n$[i]); i++) {\n      // Ensure we add load/error listeners before modifying urls or appending\n      // these to the main document.\n      whenElementLoaded(n);\n      if (n.href) {\n        n.setAttribute('href', Path.replaceAttrUrl(n.getAttribute('href'), base));\n      }\n      if (n.src) {\n        n.setAttribute('src', Path.replaceAttrUrl(n.getAttribute('src'), base));\n      }\n      if (n.localName == 'style') {\n        Path.resolveUrlsInStyle(n, base);\n      } else if (n.localName === 'script') {\n        if (n.textContent) {\n          n.textContent += `\\n//# sourceURL=${base}`;\n        }\n        // NOTE: we override the type here, might need to keep track of original\n        // type and apply it to clone when running the script.\n        n.setAttribute('type', scriptType);\n      }\n    }\n    fixUrlsInTemplates(element, base);\n  }\n\n  function fixDomModules(element, url) {\n    const s$ = element.querySelectorAll('dom-module');\n    for (let i = 0; i < s$.length; i++) {\n      const o = s$[i];\n      const assetpath = o.getAttribute('assetpath') || '';\n      o.setAttribute('assetpath', Path.replaceAttrUrl(assetpath, url));\n    }\n  }\n\n  /**\n   * Replaces all the imported scripts with a clone in order to execute them.\n   * Updates the `currentScript`.\n   * @param {!HTMLDocument} doc\n   * @return {Promise} Resolved when scripts are loaded.\n   */\n  function runScripts(doc) {\n    const s$ = doc.querySelectorAll(`script[type=${scriptType}]`);\n    let promise = Promise.resolve();\n    for (let i = 0, l = s$.length, s; i < l && (s = s$[i]); i++) {\n      promise = promise.then(() => {\n        const c = doc.createElement('script');\n        c.textContent = s.textContent;\n        if (s.src) {\n          c.setAttribute('src', s.getAttribute('src'));\n        }\n        // Listen for load/error events before adding the clone to the document.\n        // Catch failures, always return c.\n        const whenLoadedPromise = whenElementLoaded(c).catch(() => c);\n        // Update currentScript and replace original with clone script.\n        currentScript = c;\n        s.parentNode.replaceChild(c, s);\n        // After is loaded, reset currentScript.\n        return whenLoadedPromise.then((script) => {\n          if (script === currentScript) {\n            currentScript = null;\n          }\n        });\n      });\n    }\n    return promise;\n  }\n\n  /**\n   * Waits for all the imported stylesheets/styles to be loaded.\n   * @param {!HTMLDocument} doc\n   * @return {Promise}\n   */\n  function waitForStyles(doc) {\n    const s$ = doc.querySelectorAll(stylesInImportsSelector);\n    const promises = [];\n    for (let i = 0, l = s$.length, s; i < l && (s = s$[i]); i++) {\n      // Catch failures, always return s\n      promises.push(\n        whenElementLoaded(s).catch(() => s)\n      );\n    }\n    return Promise.all(promises);\n  }\n\n  /**\n   * Clones styles and stylesheets links contained in imports and moves them\n   * as siblings of the root import link.\n   * @param {!HTMLLinkElement} importLink\n   */\n  function cloneAndMoveStyles(importLink) {\n    const n$ = importLink.import.querySelectorAll(stylesSelector);\n    for (let i = 0, l = n$.length, n; i < l && (n = n$[i]); i++) {\n      const clone = document.createElement(n.localName);\n      // Ensure we listen for load/error for this element.\n      whenElementLoaded(clone);\n      // Copy textContent and attributes.\n      clone.textContent = n.textContent;\n      for (let j = 0, ll = n.attributes.length; j < ll; j++) {\n        clone.setAttribute(n.attributes[j].name, n.attributes[j].value);\n      }\n\n      // Remove old, add new.\n      n.parentNode.removeChild(n);\n      importLink.parentNode.insertBefore(clone, importLink);\n    }\n  }\n\n  /**\n   * Fires load/error events for loaded imports.\n   * @param {!HTMLDocument} doc\n   */\n  function fireEvents(doc) {\n    const n$ = /** @type {!NodeList<!HTMLLinkElement>} */\n      (doc.querySelectorAll(IMPORT_SELECTOR));\n    // Inverse order to have events firing bottom-up.\n    for (let i = n$.length - 1, n; i >= 0 && (n = n$[i]); i--) {\n      // Don't fire twice same event.\n      if (!n.__fired) {\n        n.__fired = true;\n        const eventType = n.import ? 'load' : 'error';\n        flags.log && console.warn('fire', eventType, n.href);\n        // Ensure the load promise is setup before firing the event.\n        whenElementLoaded(n);\n        n.dispatchEvent(new CustomEvent(eventType, {\n          bubbles: false,\n          cancelable: false,\n          detail: undefined\n        }));\n      }\n    }\n  }\n\n  /**\n   * Waits for an element to finish loading. If already done loading, it will\n   * mark the element accordingly.\n   * @param {!Element} element\n   * @return {Promise}\n   */\n  function whenElementLoaded(element) {\n    if (!element.__loadPromise) {\n      element.__loadPromise = new Promise((resolve, reject) => {\n        if (isElementLoaded(element)) {\n          resolve(element);\n        } else {\n          element.addEventListener('load', () => resolve(element));\n          element.addEventListener('error', () => reject(element));\n        }\n      });\n    }\n    return element.__loadPromise;\n  }\n\n  /**\n   * @param {!Element} element\n   * @return {boolean}\n   */\n  function isElementLoaded(element) {\n    let isLoaded = false;\n    if (useNative && isImportLink(element) && element.import &&\n      element.import.readyState !== 'loading') {\n      isLoaded = true;\n    } else if (isIE && element.localName === 'style') {\n      // NOTE: IE does not fire \"load\" event for styles that have already\n      // loaded. This is in violation of the spec, so we try our hardest to\n      // work around it.\n      // If there's not @import in the textContent, assume it has loaded\n      if (element.textContent.indexOf('@import') == -1) {\n        isLoaded = true;\n        // if we have a sheet, we have been parsed\n      } else if (element.sheet) {\n        isLoaded = true;\n        const csr = element.sheet.cssRules;\n        // search the rules for @import's\n        for (let i = 0, l = csr ? csr.length : 0; i < l && isLoaded; i++) {\n          if (csr[i].type === CSSRule.IMPORT_RULE) {\n            // if every @import has resolved, fake the load\n            isLoaded = Boolean(csr[i].styleSheet);\n          }\n        }\n      }\n    } else if (element.localName === 'script' && !element.src) {\n      isLoaded = true;\n    }\n    return isLoaded;\n  }\n\n  /**\n   * Creates a new document containing resource and normalizes urls accordingly.\n   * @param {string=} resource\n   * @param {string=} url\n   * @return {HTMLElement}\n   */\n  function makeDocument(resource, url) {\n    const content = /** @type {HTMLElement} */\n      (document.createElement('import-content'));\n    content.style.display = 'none';\n    if (url) {\n      content.setAttribute('import-href', url);\n    }\n    if (resource) {\n      content.innerHTML = resource;\n    }\n\n    // Support <base> in imported docs. Resolve url and remove it from the parent.\n    const baseEl = /** @type {HTMLBaseElement} */ (content.querySelector('base'));\n    if (baseEl) {\n      url = Path._resolveUrl(baseEl.getAttribute('href'), url);\n      baseEl.parentNode.removeChild(baseEl);\n    }\n    // TODO(sorvell): this is specific to users of <dom-module> (Polymer).\n    fixDomModules(content, url);\n    fixUrls(content, url);\n    return content;\n  }\n\n  /**\n    Add support for the `HTMLImportsLoaded` event and the `HTMLImports.whenReady`\n    method. This api is necessary because unlike the native implementation,\n    script elements do not force imports to resolve. Instead, users should wrap\n    code in either an `HTMLImportsLoaded` handler or after load time in an\n    `HTMLImports.whenReady(callback)` call.\n\n    NOTE: This module also supports these apis under the native implementation.\n    Therefore, if this file is loaded, the same code can be used under both\n    the polyfill and native implementation.\n   */\n\n  const isIE = /Trident/.test(navigator.userAgent);\n  const isEdge = !isIE && /Edge\\/\\d./i.test(navigator.userAgent);\n\n  /**\n   * Calls the callback when all HTMLImports in the document at call time\n   * (or at least document ready) have loaded.\n   * @param {function(!HTMLImportInfo)=} callback\n   * @param {HTMLDocument=} doc\n   * @return {Promise}\n   */\n  function whenReady(callback, doc) {\n    doc = doc || document;\n    // 1. ensure the document is in a ready state (has dom), then\n    // 2. watch for loading of imports and call callback when done\n    return whenDocumentReady(doc).then(watchImportsLoad).then((importInfo) => {\n      callback && callback(importInfo);\n      return importInfo;\n    });\n  }\n\n\n  /**\n   * Resolved when document is in ready state.\n   * @param {!HTMLDocument} doc\n   * @returns {Promise}\n   */\n  function whenDocumentReady(doc) {\n    return new Promise((resolve) => {\n      if (doc.readyState !== 'loading') {\n        resolve(doc);\n      } else {\n        doc.addEventListener('readystatechange', () => {\n          if (doc.readyState !== 'loading') {\n            resolve(doc);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Resolved when all imports are done loading. The promise returns the import\n   * details as HTMLImportInfo object.\n   * @param {!HTMLDocument} doc\n   * @returns {Promise}\n   */\n  function watchImportsLoad(doc) {\n    let imports = doc.querySelectorAll(IMPORT_SELECTOR);\n    const promises = [];\n    const importInfo = /** @type {!HTMLImportInfo} */ ({\n      allImports: [],\n      loadedImports: [],\n      errorImports: []\n    });\n    for (let i = 0, l = imports.length, imp; i < l && (imp = imports[i]); i++) {\n      // Skip nested imports.\n      if (MATCHES.call(imp, `${IMPORT_SELECTOR} ${IMPORT_SELECTOR}`)) {\n        continue;\n      }\n      importInfo.allImports.push(imp);\n      promises.push(whenElementLoaded(imp).then((imp) => {\n        importInfo.loadedImports.push(imp);\n        return imp;\n      }).catch((imp) => {\n        importInfo.errorImports.push(imp);\n        // Capture failures, always return imp.\n        return imp;\n      }));\n    }\n    // Return aggregated info.\n    return Promise.all(promises).then(() => importInfo);\n  }\n\n  new Importer(document);\n\n  // Fire the 'HTMLImportsLoaded' event when imports in document at load time\n  // have loaded. This event is required to simulate the script blocking\n  // behavior of native imports. A main document script that needs to be sure\n  // imports have loaded should wait for this event.\n  whenReady((detail) =>\n    document.dispatchEvent(new CustomEvent('HTMLImportsLoaded', {\n      cancelable: true,\n      bubbles: true,\n      detail: detail\n    })));\n\n  // exports\n  scope.useNative = useNative;\n  scope.whenReady = whenReady;\n\n})(window.HTMLImports = (window.HTMLImports || {}));\n\n/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function() {\n\n  'use strict';\n\n  // Establish scope.\n  window.WebComponents = window.WebComponents || {flags:{}};\n\n  // loading script\n  var file = 'webcomponents-lite.js';\n  var script = document.querySelector('script[src*=\"' + file + '\"]');\n\n  // Flags. Convert url arguments to flags\n  var flags = {};\n  if (!flags.noOpts) {\n    // from url\n    location.search.slice(1).split('&').forEach(function(option) {\n      var parts = option.split('=');\n      var match;\n      if (parts[0] && (match = parts[0].match(/wc-(.+)/))) {\n        flags[match[1]] = parts[1] || true;\n      }\n    });\n    // from script\n    if (script) {\n      for (var i=0, a; (a=script.attributes[i]); i++) {\n        if (a.name !== 'src') {\n          flags[a.name] = a.value || true;\n        }\n      }\n    }\n    // log flags\n    if (flags.log && flags.log.split) {\n      var parts = flags.log.split(',');\n      flags.log = {};\n      parts.forEach(function(f) {\n        flags.log[f] = true;\n      });\n    } else {\n      flags.log = {};\n    }\n  }\n\n  // exports\n  WebComponents.flags = flags;\n  var scope = window.WebComponents;\n  var forceShady = scope.flags.shadydom;\n  if (forceShady) {\n    window.ShadyDOM = window.ShadyDOM || {};\n    ShadyDOM.force = forceShady;\n  }\n\n  var forceCE = scope.flags.register || scope.flags.ce;\n  if (forceCE && window.customElements) {\n    customElements.forcePolyfill = forceCE;\n  }\n\n})();\n\n/*\n\n Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n Code distributed by Google as part of the polymer project is also\n subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n(function(){function c(){this.a=new Map;this.j=new Map;this.h=new Map;this.o=new Set;this.C=new MutationObserver(this.D.bind(this));this.f=null;this.F=new Set;this.enableFlush=!0;this.s=!1;this.m=null;}function g(){return h.customElements}function l(a){if(!/^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(a)||-1!==t.indexOf(a))return Error(\"The element name '\"+a+\"' is not valid.\")}function m(a,b,e,d){var c=g();a=e?n.call(a,b,e):n.call(a,b);(b=c.a.get(b.toLowerCase()))&&c.u(a,b,d);c.b(a);return a}\nfunction p(a,b,e,d){b=b.toLowerCase();var c=a.getAttribute(b);d.call(a,b,e);1==a.__$CE_upgraded&&(d=g().a.get(a.localName),e=d.A,(d=d.i)&&0<=e.indexOf(b)&&(e=a.getAttribute(b),e!==c&&d.call(a,b,c,e,null)));}var f=document,h=window;if(g()&&(g().g=function(){},!g().forcePolyfill))return;var t=\"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph\".split(\" \");c.prototype.L=function(a,b){function e(a){var b=f[a];if(void 0!==b&&\"function\"!==typeof b)throw Error(c+\n\" '\"+a+\"' is not a Function\");return b}if(\"function\"!==typeof b)throw new TypeError(\"constructor must be a Constructor\");var d=l(a);if(d)throw d;if(this.a.has(a))throw Error(\"An element with name '\"+a+\"' is already defined\");if(this.j.has(b))throw Error(\"Definition failed for '\"+a+\"': The constructor is already used.\");var c=a,f=b.prototype;if(\"object\"!==typeof f)throw new TypeError(\"Definition failed for '\"+a+\"': constructor.prototype must be an object\");var d=e(\"connectedCallback\"),g=e(\"disconnectedCallback\"),\nk=e(\"attributeChangedCallback\");this.a.set(c,{name:a,localName:c,constructor:b,v:d,w:g,i:k,A:k&&b.observedAttributes||[]});this.j.set(b,c);this.K();if(a=this.h.get(c))a.resolve(void 0),this.h.delete(c);};c.prototype.get=function(a){return(a=this.a.get(a))?a.constructor:void 0};c.prototype.M=function(a){var b=l(a);if(b)return Promise.reject(b);if(this.a.has(a))return Promise.resolve();if(b=this.h.get(a))return b.N;var e,d=new Promise(function(a){e=a;}),b={N:d,resolve:e};this.h.set(a,b);return d};c.prototype.g=\nfunction(){this.enableFlush&&(this.l(this.m.takeRecords()),this.D(this.C.takeRecords()),this.o.forEach(function(a){this.l(a.takeRecords());},this));};c.prototype.K=function(){var a=this;if(!this.s){this.s=!0;var b=function(){a.s=!1;a.m||(a.m=a.b(f));a.c(f.childNodes);};window.HTMLImports?window.HTMLImports.whenReady(b):b();}};c.prototype.I=function(a){this.f=a;};c.prototype.b=function(a){if(null!=a.__$CE_observer)return a.__$CE_observer;a.__$CE_observer=new MutationObserver(this.l.bind(this));a.__$CE_observer.observe(a,\n{childList:!0,subtree:!0});this.enableFlush&&this.o.add(a.__$CE_observer);return a.__$CE_observer};c.prototype.J=function(a){null!=a.__$CE_observer&&(a.__$CE_observer.disconnect(),this.enableFlush&&this.o.delete(a.__$CE_observer),a.__$CE_observer=null);};c.prototype.l=function(a){for(var b=0;b<a.length;b++){var e=a[b];if(\"childList\"===e.type){var d=e.removedNodes;this.c(e.addedNodes);this.H(d);}}};c.prototype.c=function(a,b){b=b||new Set;for(var e=0;e<a.length;e++){var d=a[e];if(d.nodeType===Node.ELEMENT_NODE){this.J(d);\nd=f.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,null,!1);do this.G(d.currentNode,b);while(d.nextNode())}}};c.prototype.G=function(a,b){if(!b.has(a)){b.add(a);var e=this.a.get(a.localName);if(e){a.__$CE_upgraded||this.u(a,e,!0);var d;if(d=a.__$CE_upgraded&&!a.__$CE_attached)a:{d=a;do{if(d.__$CE_attached||d.nodeType===Node.DOCUMENT_NODE){d=!0;break a}d=d.parentNode||d.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&d.host;}while(d);d=!1;}d&&(a.__$CE_attached=!0,e.v&&e.v.call(a));}a.shadowRoot&&this.c(a.shadowRoot.childNodes,\nb);\"LINK\"===a.tagName&&a.rel&&-1!==a.rel.toLowerCase().split(\" \").indexOf(\"import\")&&this.B(a,b);}};c.prototype.B=function(a,b){var e=a.import;if(e)b.has(e)||(b.add(e),e.__$CE_observer||this.b(e),this.c(e.childNodes,b));else if(b=a.href,!this.F.has(b)){this.F.add(b);var d=this,c=function(){a.removeEventListener(\"load\",c);a.import.__$CE_observer||d.b(a.import);d.c(a.import.childNodes);};a.addEventListener(\"load\",c);}};c.prototype.H=function(a){for(var b=0;b<a.length;b++){var e=a[b];if(e.nodeType===Node.ELEMENT_NODE){this.b(e);\ne=f.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1);do{var d=e.currentNode;if(d.__$CE_upgraded&&d.__$CE_attached){d.__$CE_attached=!1;var c=this.a.get(d.localName);c&&c.w&&c.w.call(d);}}while(e.nextNode())}}};c.prototype.u=function(a,b,e){a.__proto__=b.constructor.prototype;e&&(this.I(a),new b.constructor,a.__$CE_upgraded=!0,console.assert(!this.f));e=b.A;if((b=b.i)&&0<e.length){this.C.observe(a,{attributes:!0,attributeOldValue:!0,attributeFilter:e});for(var d=0;d<e.length;d++){var c=e[d];if(a.hasAttribute(c)){var f=\na.getAttribute(c);b.call(a,c,null,f,null);}}}};c.prototype.D=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(\"attributes\"===c.type){var d=c.target,f=this.a.get(d.localName),g=c.attributeName,h=c.oldValue,k=d.getAttribute(g);k!==h&&f.i.call(d,g,h,k,c.attributeNamespace);}}};window.CustomElementRegistry=c;c.prototype.define=c.prototype.L;c.prototype.get=c.prototype.get;c.prototype.whenDefined=c.prototype.M;c.prototype.flush=c.prototype.g;c.prototype.polyfilled=!0;c.prototype._observeRoot=c.prototype.b;\nc.prototype._addImport=c.prototype.B;var q=h.HTMLElement;c.prototype.nativeHTMLElement=q;h.HTMLElement=function(){var a=g();if(a.f){var b=a.f;a.f=null;return b}if(this.constructor)return a=a.j.get(this.constructor),m(f,a,void 0,!1);throw Error(\"Unknown constructor. Did you call customElements.define()?\");};h.HTMLElement.prototype=q.prototype;var n=f.createElement;f.createElement=function(a,b){return m(f,a,b,!0)};var u=f.createElementNS;f.createElementNS=function(a,b){return\"http://www.w3.org/1999/xhtml\"===\na?f.createElement(b):u.call(f,a,b)};var r=Element.prototype.attachShadow;r&&Object.defineProperty(Element.prototype,\"attachShadow\",{value:function(a){a=r.call(this,a);g().b(a);return a}});var v=f.importNode;f.importNode=function(a,b){a=v.call(f,a,b);g().c(a.nodeType===Node.ELEMENT_NODE?[a]:a.childNodes);return a};var w=Element.prototype.setAttribute;Element.prototype.setAttribute=function(a,b){p(this,a,b,w);};var x=Element.prototype.removeAttribute;Element.prototype.removeAttribute=function(a){p(this,\na,null,x);};Object.defineProperty(window,\"customElements\",{value:new c,configurable:!0,enumerable:!0});window.CustomElements={takeRecords:function(){g().g&&g().g();}};})();\n\nvar _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&'function'==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,'value'in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}(function(){'use strict';/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/function t(Qt){return!('ShadyRoot'!==Qt.__localName)}function o(Qt){var Kt=Qt.getRootNode();if(t(Kt))return Kt}function r(Qt,Kt){return We.call(Qt,Kt)}function a(Qt,Kt,Jt){var Yt=Object.getOwnPropertyDescriptor(Kt,Qt);Yt&&Object.defineProperty(Jt,Qt,Yt);}function _(Qt,Kt){if(Qt&&Kt){var Jt=Object.getOwnPropertyNames(Kt);for(var Zt,Yt=0;Yt<Jt.length&&(Zt=Jt[Yt]);Yt++)a(Zt,Kt,Qt);}return Qt||Kt}function h(Qt){for(var _len=arguments.length,Kt=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)Kt[_key-1]=arguments[_key];for(var Jt=0;Jt<Kt.length;Jt++)_(Qt,Kt[Jt]);return Qt}function u(Qt,Kt){for(var Jt in Kt)Qt[Jt]=Kt[Jt];return Qt}function g(Qt,Kt){var Jt=Object.getPrototypeOf(Qt);if(!Jt.hasOwnProperty('__patchProto')){var Yt=Object.create(Jt);Yt.__sourceProto=Jt,_(Yt,Kt),Jt.__patchProto=Yt;}Qt.__proto__=Jt.__patchProto;}function y(Qt){He||(He=!0,Fe.then(N)),je.push(Qt);}function N(){for(He=!1,qe++;je.length;)je.shift()();Ue&&Ue.flush&&Ue.flush();var Qt=100<qe;if(je.length&&!Qt&&N(),qe=0,Qt)throw new Error('Loop detected in ShadyDOM distribution, aborting.')}function b(Qt,Kt){var Jt=Kt.getRootNode();return Qt.map(function(Yt){var Zt=Jt===Yt.target.getRootNode();if(Zt&&Yt.addedNodes){var $t=Array.from(Yt.addedNodes).filter(function(eo){return Jt===eo.getRootNode()});if($t.length)return Yt=Object.create(Yt),Object.defineProperty(Yt,'addedNodes',{value:$t,configurable:!0}),Yt}else if(Zt)return Yt}).filter(function(Yt){return Yt})}function f(Qt){return'&'===Qt?'&amp;':'<'===Qt?'&lt;':'>'===Qt?'&gt;':'\"'===Qt?'&quot;':'\\xA0'===Qt?'&nbsp;':void 0}function v(Qt){return Qt.replace(ht,f)}function E(Qt){return Qt.replace(pt,f)}function S(Qt){var Kt={};for(var Jt=0;Jt<Qt.length;Jt++)Kt[Qt[Jt]]=!0;return Kt}function P(Qt,Kt,Jt){switch(Qt.nodeType){case Node.ELEMENT_NODE:{var Yt=Qt.localName,Zt='<'+Yt,$t=Qt.attributes;for(var to,eo=0;to=$t[eo];eo++)Zt+=' '+to.name+'=\"'+v(to.value)+'\"';return Zt+='>',ut[Yt]?Zt:Zt+C(Qt,Jt)+'</'+Yt+'>'}case Node.TEXT_NODE:{var _Yt=Qt.data;return Kt&&ct[Kt.localName]?_Yt:E(_Yt)}case Node.COMMENT_NODE:return'<!--'+Qt.data+'-->';default:throw window.console.error(Qt),new Error('not implemented');}}function C(Qt,Kt){'template'===Qt.localName&&(Qt=Qt.content);var Jt='',Yt=Kt?Kt(Qt):Qt.childNodes;for(var eo,Zt=0,$t=Yt.length;Zt<$t&&(eo=Yt[Zt]);Zt++)Jt+=P(eo,Qt,Kt);return Jt}function T(Qt){return gt.currentNode=Qt,gt.parentNode()}function D(Qt){return gt.currentNode=Qt,gt.firstChild()}function O(Qt){return gt.currentNode=Qt,gt.lastChild()}function M(Qt){var Kt=[];gt.currentNode=Qt;for(var Jt=gt.firstChild();Jt;)Kt.push(Jt),Jt=gt.nextSibling();return Kt}function R(Qt){return yt.currentNode=Qt,yt.firstChild()}function x(Qt){return yt.currentNode=Qt,yt.lastChild()}function I(Qt){return yt.currentNode=Qt,yt.previousSibling()}function A(Qt){return yt.currentNode=Qt,yt.nextSibling()}function w(Qt){var Kt=[];yt.currentNode=Qt;for(var Jt=yt.firstChild();Jt;)Kt.push(Jt),Jt=yt.nextSibling();return Kt}function L(Qt){return C(Qt,function(Kt){return M(Kt)})}function k(Qt){if(Qt.nodeType!==Node.ELEMENT_NODE)return Qt.nodeValue;for(var Yt,Kt=document.createTreeWalker(Qt,NodeFilter.SHOW_TEXT,null,!1),Jt='';Yt=Kt.nextNode();)Jt+=Yt.nodeValue;return Jt}function W(Qt,Kt){return Qt.__shady&&Qt.__shady[Kt]}function F(Qt,Kt){return W(Qt,Kt)!==void 0}function U(Qt){return{get:function get(){var Kt=W(this,Qt);return Kt===void 0?Nt[Qt](this):Kt},configurable:!0}}function H(Qt,Kt){var Jt=Array.from(Kt.childNodes);for(var Yt=0;Yt<Jt.length;Yt++)Qt.appendChild(Jt[Yt]);}function q(Qt){for(;Qt.firstChild;)Qt.removeChild(Qt.firstChild);}function G(){if(bt&&bt.get)return bt.get.call(document);return we.hasDescriptors?void 0:document.activeElement}function B(Qt){var Kt=G();if(!Kt)return null;var Jt=!!t(Qt);if(Qt!==document){if(!Jt)return null;if(Qt.host===Kt||!Qt.host.contains(Kt))return null}for(var Yt=o(Kt);Yt&&Yt!==Qt;)Kt=Yt.host,Yt=o(Kt);return Qt===document?Yt?null:Kt:Yt===Qt?Kt:null}function z(Qt,Kt,Jt){for(var Yt in Kt){var Zt=Object.getOwnPropertyDescriptor(Qt,Yt);Zt&&Zt.configurable||!Zt&&Jt?Object.defineProperty(Qt,Yt,Kt[Yt]):Jt&&console.warn('Could not define',Yt,'on',Qt);}}function V(Qt){z(Qt,ft),z(Qt,vt),z(Qt,St);}function X(Qt,Kt,Jt){if(Ct(Kt),Kt.__shady=Kt.__shady||{},F(Kt,'firstChild')&&(Kt.__shady.childNodes=null),Qt.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var Yt=Qt.childNodes;for(var $t=0;$t<Yt.length;$t++)Q(Yt[$t],Kt,Jt);Qt.__shady=Qt.__shady||{};var Zt=F(Qt,'firstChild')?null:void 0;Qt.__shady.firstChild=Qt.__shady.lastChild=Zt,Qt.__shady.childNodes=Zt;}else Q(Qt,Kt,Jt);}function Q(Qt,Kt,Jt){Pt(Qt),Jt=Jt||null,Qt.__shady=Qt.__shady||{},Kt.__shady=Kt.__shady||{},Jt&&(Jt.__shady=Jt.__shady||{}),Qt.__shady.previousSibling=Jt?Jt.__shady.previousSibling:Kt.lastChild;var Yt=Qt.__shady.previousSibling;Yt&&Yt.__shady&&(Yt.__shady.nextSibling=Qt);var Zt=Qt.__shady.nextSibling=Jt;Zt&&Zt.__shady&&(Zt.__shady.previousSibling=Qt),Qt.__shady.parentNode=Kt,Jt?Jt===Kt.__shady.firstChild&&(Kt.__shady.firstChild=Qt):(Kt.__shady.lastChild=Qt,!Kt.__shady.firstChild&&(Kt.__shady.firstChild=Qt)),Kt.__shady.childNodes=null;}function K(Qt,Kt){Qt.__shady=Qt.__shady||{},Kt.__shady=Kt.__shady||{},Qt===Kt.__shady.firstChild&&(Kt.__shady.firstChild=Qt.__shady.nextSibling),Qt===Kt.__shady.lastChild&&(Kt.__shady.lastChild=Qt.__shady.previousSibling);var Jt=Qt.__shady.previousSibling,Yt=Qt.__shady.nextSibling;Jt&&(Jt.__shady=Jt.__shady||{},Jt.__shady.nextSibling=Yt),Yt&&(Yt.__shady=Yt.__shady||{},Yt.__shady.previousSibling=Jt),Qt.__shady.parentNode=Qt.__shady.previousSibling=Qt.__shady.nextSibling=void 0,F(Kt,'childNodes')&&(Kt.__shady.childNodes=null);}function J(Qt,Kt,Jt){var Yt=o(Qt),Zt;Yt&&(Kt.__noInsertionPoint&&!Yt._changePending&&(Yt._skipUpdateInsertionPoints=!0),Zt=se(Kt,Qt,Yt),Zt&&(Yt._skipUpdateInsertionPoints=!1)),F(Qt,'firstChild')&&X(Kt,Qt,Jt);var $t=oe(Kt,Qt,Yt,Zt)||Qt.shadyRoot;return $t}function Y(Qt){var Kt=F(Qt,'parentNode')&&W(Qt,'parentNode'),Jt,Yt=o(Qt);if(Kt||Yt){Jt=le(Qt),Kt&&K(Qt,Kt);var Zt=Yt&&re(Yt,Qt),$t=Kt&&Yt&&Kt.localName===Yt.getInsertionPointTag();(Zt||$t)&&(Yt._skipUpdateInsertionPoints=!1,_e(Yt));}return ie(Qt),Jt}function Z(Qt,Kt,Jt){var Yt=Qt.__shady&&Qt.__shady.observer;Yt&&(Kt&&Yt.addedNodes.push(Kt),Jt&&Yt.removedNodes.push(Jt),Yt.schedule());}function $(Qt,Kt){return Kt?(Z(Kt,null,Qt),Y(Qt)):void ie(Qt)}function ee(Qt){return!(Qt.__ownerShadyRoot===void 0)}function te(Qt){if(Qt&&Qt.nodeType){var _Kt=Qt.__ownerShadyRoot;if(void 0===_Kt){if(t(Qt))_Kt=Qt;else{var Jt=Qt.parentNode;_Kt=Jt?te(Jt):Qt;}document.documentElement.contains(Qt)&&(Qt.__ownerShadyRoot=_Kt);}return _Kt}}function oe(Qt,Kt,Jt,Yt){var Zt=Jt&&Jt.getInsertionPointTag()||'',$t=Qt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!Qt.__noInsertionPoint&&Zt&&Qt.querySelector(Zt),eo=$t&&$t.parentNode.nodeType!==Node.DOCUMENT_FRAGMENT_NODE,to=$t||Qt.localName===Zt;(to||Kt.localName===Zt||Yt)&&Jt&&_e(Jt);var oo=ne(Kt);return oo&&_e(Kt.shadyRoot),oo||to&&!eo}function se(Qt,Kt,Jt){var Yt,Zt=Jt.getInsertionPointTag();if(Qt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!Qt.__noInsertionPoint){var $t=Qt.querySelectorAll(Zt);for(var to,oo,so,eo=0;eo<$t.length&&(to=$t[eo]);eo++)oo=to.parentNode,oo===Qt&&(oo=Kt),so=se(to,oo,Jt),Yt=Yt||so;}else Qt.localName===Zt&&(Tt(Kt),Tt(Qt),Yt=!0);return Yt}function ne(Qt){return Qt&&Qt.shadyRoot&&Qt.shadyRoot.hasInsertionPoint()}function re(Qt,Kt){var Jt,Yt=Qt._insertionPoints;for(var Zt=0;Zt<Yt.length;Zt++){var $t=Yt[Zt];if(de(Kt,$t)){var eo=$t.assignedNodes({flatten:!0});for(var to=0;to<eo.length;to++){Jt=!0;var oo=eo[to],so=T(oo);so&&Ye.call(so,oo);}}}return Jt}function de(Qt,Kt){for(;Kt;){if(Kt==Qt)return!0;Kt=Kt.parentNode;}}function ie(Qt){if(ee(Qt)){var Kt=Qt.childNodes;for(var Zt,Jt=0,Yt=Kt.length;Jt<Yt&&(Zt=Kt[Jt]);Jt++)ie(Zt);}Qt.__ownerShadyRoot=void 0;}function ae(Qt){var Kt=Qt.assignedNodes({flatten:!0}),Jt=te(Qt);for(var $t,Yt=0,Zt=Kt.length;Yt<Zt&&($t=Kt[Yt]);Yt++)if(Jt.isFinalDestination(Qt,$t))return $t}function le(Qt){var Kt=Qt.parentNode;if(ne(Kt))return _e(Kt.shadyRoot),!0}function _e(Qt){Qt._changePending=!0,Qt.update();}function he(Qt,Kt){if('slot'===Kt)le(Qt);else if('slot'===Qt.localName&&'name'===Kt){var Jt=o(Qt);Jt&&Jt.update();}}function pe(Qt,Kt,Jt){var Yt=[];return ue(Qt.childNodes,Kt,Jt,Yt),Yt}function ue(Qt,Kt,Jt,Yt){for(var eo,Zt=0,$t=Qt.length;Zt<$t&&(eo=Qt[Zt]);Zt++)if(eo.nodeType===Node.ELEMENT_NODE&&ce(eo,Kt,Jt,Yt))return!0}function ce(Qt,Kt,Jt,Yt){var Zt=Kt(Qt);return Zt&&Yt.push(Qt),Jt&&Jt(Zt)?Zt:void ue(Qt.childNodes,Kt,Jt,Yt)}function ge(Qt){var Kt=Qt.getRootNode();t(Kt)&&Kt.render();}function ye(Qt,Kt,Jt){window.ShadyCSS&&'class'===Kt&&Qt.ownerDocument===document?window.ShadyCSS.setElementClass(Qt,Jt):($e.call(Qt,Kt,Jt),he(Qt,Kt));}function Ne(Qt,Kt){tt.call(Qt,Kt),he(Qt,Kt);}function me(Qt,Kt,Jt){if(Jt){var Yt=W(Jt,'parentNode');if(void 0!==Yt&&Yt!==Qt)throw Error('The ref_node to be inserted before is not a child of this node')}if(Kt.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var _Yt2=W(Kt,'parentNode');$(Kt,_Yt2);}if(!J(Qt,Kt,Jt)){if(Jt){var Zt=o(Jt);Zt&&(Jt=Jt.localName===Zt.getInsertionPointTag()?ae(Jt):Jt);}var _Yt3=t(Qt)?Qt.host:Qt;Jt?Ke.call(_Yt3,Kt,Jt):Xe.call(_Yt3,Kt);}return Z(Qt,Kt),Kt}function be(Qt,Kt){if(Kt.parentNode!==Qt)throw Error('The node to be removed is not a child of this node: '+Kt);if(!Y(Kt)){var Jt=t(Qt)?Qt.host:Qt,Yt=T(Kt);Jt===Yt&&Ye.call(Jt,Kt);}return Z(Qt,null,Kt),Kt}function fe(Qt,Kt){if('template'==Qt.localName)return st.call(Qt,Kt);var Jt=st.call(Qt,!1);if(Kt){var Yt=Qt.childNodes;for(var _$t,_Zt=0;_Zt<Yt.length;_Zt++)_$t=Yt[_Zt].cloneNode(!0),Jt.appendChild(_$t);}return Jt}function ve(Qt,Kt,Jt){if(Jt||(Jt=rt),Qt.ownerDocument!==document)return Jt.call(document,Qt,Kt);var Yt=Jt.call(document,Qt,!1);if(Kt){var Zt=Qt.childNodes;for(var eo,$t=0;$t<Zt.length;$t++)eo=ve(Zt[$t],!0,Jt),Yt.appendChild(eo);}return Yt}function Ee(Qt,Kt){for(var Jt=[],Yt=Qt,Zt=Qt===window?window:Qt.getRootNode();Yt;)Jt.push(Yt),Yt=Yt.assignedSlot?Yt.assignedSlot:Yt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Yt.host&&(Kt||Yt!==Zt)?Yt.host:Yt.parentNode;return Jt[Jt.length-1]===document&&Jt.push(window),Jt}function Se(Qt,Kt){if(!t)return Qt;var Jt=Ee(Qt,!0),Yt=Kt;for(var $t,eo,to,oo,Zt=0;Zt<Yt.length;Zt++)if($t=Yt[Zt],to=$t===window?window:$t.getRootNode(),to!=eo&&(oo=Jt.indexOf(to),eo=to),!t(to)||-1<oo)return $t}function Pe(Qt){var Kt=function Kt(Jt,Yt){var Zt=new Qt(Jt,Yt);return Zt.__composed=Yt&&!!Yt.composed,Zt};return u(Kt,Qt),Kt.prototype=Qt.prototype,Kt}function Ce(Qt,Kt,Jt){var Yt=Kt.__handlers&&Kt.__handlers[Qt.type]&&Kt.__handlers[Qt.type][Jt];if(Yt)for(var _$t2,_Zt2=0;_$t2=Yt[_Zt2];_Zt2++)if(_$t2.call(Kt,Qt),Qt.__immediatePropagationStopped)return}function Te(Qt){var Kt=Qt.composedPath(),Jt;Object.defineProperty(Qt,'currentTarget',{get:function get(){return Jt},configurable:!0});for(var Zt=Kt.length-1;0<=Zt;Zt--)if(Jt=Kt[Zt],Ce(Qt,Jt,'capture'),Qt.__propagationStopped)return;Object.defineProperty(Qt,'eventPhase',{value:Event.AT_TARGET});var Yt;for(var _Zt3=0;_Zt3<Kt.length;_Zt3++)if(Jt=Kt[_Zt3],(0===_Zt3||Jt.shadowRoot&&Jt.shadowRoot===Yt)&&(Ce(Qt,Jt,'bubble'),Jt!==window&&(Yt=Jt.getRootNode()),Qt.__propagationStopped))return}function De(){for(var Qt in Mt)window.addEventListener(Qt,function(Kt){Kt.__target||(Kt.__target=Kt.target,Kt.__relatedTarget=Kt.relatedTarget,g(Kt,Ot),Te(Kt),Kt.stopImmediatePropagation());},!0);}function Oe(){window.Event=Rt,window.CustomEvent=xt,window.MouseEvent=It,De();}function Me(Qt,Kt,Jt){return{index:Qt,removed:Kt,addedCount:Jt}}function Re(Qt,Kt){if(!Qt)throw'Must provide a host.';if(!Kt)throw'Not enough arguments.';var Jt=document.createDocumentFragment();return Jt.__proto__=Ht,Jt._init(Qt),Jt}function xe(Qt){return ge(Qt),W(Qt,'assignedSlot')||null}function Ie(Qt,Kt){var Jt=Object.getOwnPropertyNames(Kt);for(var Yt=0;Yt<Jt.length;Yt++){var Zt=Jt[Yt],$t=Object.getOwnPropertyDescriptor(Kt,Zt);$t.value?Qt[Zt]=$t.value:Object.defineProperty(Qt,Zt,$t);}}function Ae(){Ie(window.Node.prototype,qt),Ie(window.Text.prototype,Gt),Ie(window.DocumentFragment.prototype,Bt),Ie(window.Element.prototype,Vt),Ie(window.Document.prototype,Xt);var Qt=document.importNode;if(document.importNode=function(Kt,Jt){return ve(Kt,Jt,Qt)},window.HTMLSlotElement&&Ie(window.HTMLSlotElement.prototype,zt),we.hasDescriptors){V(window.Node.prototype),V(window.Text.prototype),V(window.DocumentFragment.prototype),V(window.Element.prototype);var Kt=window.customElements&&customElements.nativeHTMLElement||HTMLElement;V(Kt.prototype),V(window.Document.prototype),window.HTMLSlotElement&&V(window.HTMLSlotElement.prototype);}}var we=window.ShadyDOM||{};we.hasNativeShadowDOM=!!(Element.prototype.attachShadow&&Node.prototype.getRootNode);var Le=Object.getOwnPropertyDescriptor(Node.prototype,'firstChild');we.hasDescriptors=!!(Le&&Le.configurable&&Le.get),we.inUse=we.force||!we.hasNativeShadowDOM;var ke=Element.prototype,We=ke.matches||ke.matchesSelector||ke.mozMatchesSelector||ke.msMatchesSelector||ke.oMatchesSelector||ke.webkitMatchesSelector,Fe;window.Promise?Fe=Promise.resolve():function(){var Qt=document.createTextNode(''),Kt=0;Fe={then:function then(Jt){var Yt=new MutationObserver(function(){Yt.disconnect(),Jt();});Yt.observe(Qt,{characterData:!0}),Qt.textContent=Kt++;}};}();var Ue=window.customElements,je=[],He,qe=0;N.list=je;var Ge=function(){function Ge(){_classCallCheck(this,Ge),this._scheduled=!1,this.addedNodes=[],this.removedNodes=[],this.callbacks=new Set;}return _createClass(Ge,[{key:'schedule',value:function schedule(){var _this=this;this._scheduled||(this._scheduled=!0,Fe.then(function(){_this.flush();}));}},{key:'flush',value:function flush(){var _this2=this;this._scheduled&&function(){_this2._scheduled=!1;var Qt=_this2.takeRecords();Qt.length&&_this2.callbacks.forEach(function(Kt){Kt(Qt);});}();}},{key:'takeRecords',value:function takeRecords(){if(this.addedNodes.length||this.removedNodes.length){var Qt=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],Qt}return[]}}]),Ge}(),Be=function Be(Qt,Kt){Qt.__shady=Qt.__shady||{},Qt.__shady.observer||(Qt.__shady.observer=new Ge),Qt.__shady.observer.callbacks.add(Kt);var Jt=Qt.__shady.observer;return{_callback:Kt,_observer:Jt,_node:Qt,takeRecords:function takeRecords(){return Jt.takeRecords()}}},ze=function ze(Qt){var Kt=Qt&&Qt._observer;Kt&&(Kt.callbacks.delete(Qt._callback),!Kt.callbacks.size&&(Qt._node.__shady.observer=null));},Ve=Element.prototype.appendChild,Xe=Ve,Qe=Element.prototype.insertBefore,Ke=Qe,Je=Element.prototype.removeChild,Ye=Je,Ze=Element.prototype.setAttribute,$e=Ze,et=Element.prototype.removeAttribute,tt=et,ot=Element.prototype.cloneNode,st=ot,nt=Document.prototype.importNode,rt=nt,dt=Element.prototype.addEventListener,it=dt,at=Element.prototype.removeEventListener,lt=at,_t=Object.freeze({appendChild:Xe,insertBefore:Ke,removeChild:Ye,setAttribute:$e,removeAttribute:tt,cloneNode:st,importNode:rt,addEventListener:it,removeEventListener:lt}),ht=/[&\\u00A0\"]/g,pt=/[&\\u00A0<>]/g,ut=S(['area','base','br','col','command','embed','hr','img','input','keygen','link','meta','param','source','track','wbr']),ct=S(['style','script','xmp','iframe','noembed','noframes','plaintext','noscript']),gt=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),yt=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),Nt=Object.freeze({parentNode:T,firstChild:D,lastChild:O,previousSibling:function previousSibling(Kt){return gt.currentNode=Kt,gt.previousSibling()},nextSibling:function nextSibling(Kt){return gt.currentNode=Kt,gt.nextSibling()},childNodes:M,parentElement:function parentElement(Kt){return yt.currentNode=Kt,yt.parentNode()},firstElementChild:R,lastElementChild:x,previousElementSibling:I,nextElementSibling:A,children:w,innerHTML:L,textContent:k}),mt=new DOMParser,bt=Object.getOwnPropertyDescriptor(Document.prototype,'activeElement'),ft={parentElement:U('parentElement'),parentNode:U('parentNode'),nextSibling:U('nextSibling'),previousSibling:U('previousSibling'),className:{get:function get(){return this.getAttribute('class')},set:function set(Qt){this.setAttribute('class',Qt);},configurable:!0},nextElementSibling:{get:function get(){if(F(this,'nextSibling')){for(var Qt=this.nextSibling;Qt&&Qt.nodeType!==Node.ELEMENT_NODE;)Qt=Qt.nextSibling;return Qt}return A(this)},configurable:!0},previousElementSibling:{get:function get(){if(F(this,'previousSibling')){for(var Qt=this.previousSibling;Qt&&Qt.nodeType!==Node.ELEMENT_NODE;)Qt=Qt.previousSibling;return Qt}return I(this)},configurable:!0}},vt={childNodes:{get:function get(){if(F(this,'firstChild')){if(!this.__shady.childNodes){this.__shady.childNodes=[];for(var Qt=this.firstChild;Qt;Qt=Qt.nextSibling)this.__shady.childNodes.push(Qt);}return this.__shady.childNodes}return M(this)},configurable:!0},firstChild:U('firstChild'),lastChild:U('lastChild'),textContent:{get:function get(){if(F(this,'firstChild')){var Qt=[];for(var Yt,Kt=0,Jt=this.childNodes;Yt=Jt[Kt];Kt++)Yt.nodeType!==Node.COMMENT_NODE&&Qt.push(Yt.textContent);return Qt.join('')}return k(this)},set:function set(Qt){this.nodeType===Node.ELEMENT_NODE?(q(this),Qt&&this.appendChild(document.createTextNode(Qt))):this.nodeValue=Qt;},configurable:!0},firstElementChild:{get:function get(){if(F(this,'firstChild')){for(var Qt=this.firstChild;Qt&&Qt.nodeType!==Node.ELEMENT_NODE;)Qt=Qt.nextSibling;return Qt}return R(this)},configurable:!0},lastElementChild:{get:function get(){if(F(this,'lastChild')){for(var Qt=this.lastChild;Qt&&Qt.nodeType!==Node.ELEMENT_NODE;)Qt=Qt.previousSibling;return Qt}return x(this)},configurable:!0},children:{get:function get(){return F(this,'firstChild')?Array.prototype.filter.call(this.childNodes,function(Qt){return Qt.nodeType===Node.ELEMENT_NODE}):w(this)},configurable:!0},innerHTML:{get:function get(){var Qt='template'===this.localName?this.content:this;return F(this,'firstChild')?C(Qt):L(Qt)},set:function set(Qt){var Kt='template'===this.localName?this.content:this;q(Kt);var Jt=mt.parseFromString(Qt,'text/html');Jt.head&&H(Kt,Jt.head),Jt.body&&H(Kt,Jt.body);},configurable:!0}},Et={shadowRoot:{get:function get(){return this.shadyRoot},set:function set(Qt){this.shadyRoot=Qt;},configurable:!0}},St={activeElement:{get:function get(){return B(this)},set:function set(){},configurable:!0}},Pt=we.hasDescriptors?function(){}:function(Qt){Qt.__shady&&Qt.__shady.__outsideAccessors||(Qt.__shady=Qt.__shady||{},Qt.__shady.__outsideAccessors=!0,z(Qt,ft,!0));},Ct=we.hasDescriptors?function(){}:function(Qt){Qt.__shady&&Qt.__shady.__insideAccessors||(Qt.__shady=Qt.__shady||{},Qt.__shady.__insideAccessors=!0,z(Qt,vt,!0),z(Qt,Et,!0));},Tt=function Tt(Qt){if(!F(Qt,'firstChild')){Qt.__shady=Qt.__shady||{},Qt.__shady.firstChild=D(Qt),Qt.__shady.lastChild=O(Qt),Ct(Qt);var Kt=Qt.__shady.childNodes=M(Qt);for(var Yt,Jt=0;Jt<Kt.length&&(Yt=Kt[Jt]);Jt++)Yt.__shady=Yt.__shady||{},Yt.__shady.parentNode=Qt,Yt.__shady.nextSibling=Kt[Jt+1]||null,Yt.__shady.previousSibling=Kt[Jt-1]||null,Pt(Yt);}},Dt={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},Ot={get composed(){return this.isTrusted&&void 0===this.__composed&&(this.__composed=Dt[this.type]),this.__composed||!1},composedPath:function composedPath(){return this.__composedPath||(this.__composedPath=Ee(this.__target,this.composed)),this.__composedPath},get target(){return Se(this.currentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=Ee(this.__relatedTarget,!0)),Se(this.currentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function stopPropagation(){Event.prototype.stopPropagation.call(this),this.__propagationStopped=!0;},stopImmediatePropagation:function stopImmediatePropagation(){Event.prototype.stopImmediatePropagation.call(this),this.__immediatePropagationStopped=!0,this.__propagationStopped=!0;}},Mt={focus:!0,blur:!0},Rt=Pe(window.Event),xt=Pe(window.CustomEvent),It=Pe(window.MouseEvent),At=0,wt=1,Lt=2,kt=3,Wt={calcEditDistances:function calcEditDistances(Qt,Kt,Jt,Yt,Zt,$t){var eo=$t-Zt+1,to=Jt-Kt+1,oo=Array(eo);for(var so=0;so<eo;so++)oo[so]=Array(to),oo[so][0]=so;for(var _so=0;_so<to;_so++)oo[0][_so]=_so;for(var _so2=1;_so2<eo;_so2++)for(var no=1;no<to;no++)if(this.equals(Qt[Kt+no-1],Yt[Zt+_so2-1]))oo[_so2][no]=oo[_so2-1][no-1];else{var ro=oo[_so2-1][no]+1,io=oo[_so2][no-1]+1;oo[_so2][no]=ro<io?ro:io;}return oo},spliceOperationsFromEditDistances:function spliceOperationsFromEditDistances(Qt){for(var Kt=Qt.length-1,Jt=Qt[0].length-1,Yt=Qt[Kt][Jt],Zt=[];0<Kt||0<Jt;){if(0==Kt){Zt.push(Lt),Jt--;continue}if(0==Jt){Zt.push(kt),Kt--;continue}var $t=Qt[Kt-1][Jt-1],eo=Qt[Kt-1][Jt],to=Qt[Kt][Jt-1],oo=void 0;oo=eo<to?eo<$t?eo:$t:to<$t?to:$t,oo==$t?($t==Yt?Zt.push(At):(Zt.push(wt),Yt=$t),Kt--,Jt--):oo==eo?(Zt.push(kt),Kt--,Yt=eo):(Zt.push(Lt),Jt--,Yt=to);}return Zt.reverse(),Zt},calcSplices:function calcSplices(Qt,Kt,Jt,Yt,Zt,$t){var eo=0,to=0,oo,so=Math.min(Jt-Kt,$t-Zt);if(0==Kt&&0==Zt&&(eo=this.sharedPrefix(Qt,Yt,so)),Jt==Qt.length&&$t==Yt.length&&(to=this.sharedSuffix(Qt,Yt,so-eo)),Kt+=eo,Zt+=eo,Jt-=to,$t-=to,0==Jt-Kt&&0==$t-Zt)return[];if(Kt==Jt){for(oo=Me(Kt,[],0);Zt<$t;)oo.removed.push(Yt[Zt++]);return[oo]}if(Zt==$t)return[Me(Kt,[],Jt-Kt)];var no=this.spliceOperationsFromEditDistances(this.calcEditDistances(Qt,Kt,Jt,Yt,Zt,$t));oo=void 0;var ro=[],io=Kt,ao=Zt;for(var lo=0;lo<no.length;lo++)switch(no[lo]){case At:oo&&(ro.push(oo),oo=void 0),io++,ao++;break;case wt:oo||(oo=Me(io,[],0)),oo.addedCount++,io++,oo.removed.push(Yt[ao]),ao++;break;case Lt:oo||(oo=Me(io,[],0)),oo.addedCount++,io++;break;case kt:oo||(oo=Me(io,[],0)),oo.removed.push(Yt[ao]),ao++;}return oo&&ro.push(oo),ro},sharedPrefix:function sharedPrefix(Qt,Kt,Jt){for(var Yt=0;Yt<Jt;Yt++)if(!this.equals(Qt[Yt],Kt[Yt]))return Yt;return Jt},sharedSuffix:function sharedSuffix(Qt,Kt,Jt){for(var Yt=Qt.length,Zt=Kt.length,$t=0;$t<Jt&&this.equals(Qt[--Yt],Kt[--Zt]);)$t++;return $t},calculateSplices:function calculateSplices(Qt,Kt){return this.calcSplices(Qt,0,Qt.length,Kt,0,Kt.length)},equals:function equals(Qt,Kt){return Qt===Kt}},Ft=function Ft(Qt,Kt){return Wt.calculateSplices(Qt,Kt)},Ut='function'==typeof Event?Event:function(Qt,Kt){Kt=Kt||{};var Jt=document.createEvent('Event');return Jt.initEvent(Qt,!!Kt.bubbles,!!Kt.cancelable),Jt},jt=function(){function jt(Qt){_classCallCheck(this,jt),this.root=Qt,this.insertionPointTag='slot';}return _createClass(jt,[{key:'getInsertionPoints',value:function getInsertionPoints(){return this.root.querySelectorAll(this.insertionPointTag)}},{key:'hasInsertionPoint',value:function hasInsertionPoint(){return!!(this.root._insertionPoints&&this.root._insertionPoints.length)}},{key:'isInsertionPoint',value:function isInsertionPoint(Qt){return Qt.localName&&Qt.localName==this.insertionPointTag}},{key:'distribute',value:function distribute(){return this.hasInsertionPoint()?this.distributePool(this.root,this.collectPool()):[]}},{key:'collectPool',value:function collectPool(){var Qt=this.root.host,Kt=[],Jt=0;for(var Yt=Qt.firstChild;Yt;Yt=Yt.nextSibling)Kt[Jt++]=Yt;return Kt}},{key:'distributePool',value:function distributePool(Qt,Kt){var Jt=[],Yt=this.root._insertionPoints;for(var eo,Zt=0,$t=Yt.length;Zt<$t&&(eo=Yt[Zt]);Zt++){this.distributeInsertionPoint(eo,Kt);var to=eo.parentNode;to&&to.shadyRoot&&this.hasInsertionPoint(to.shadyRoot)&&Jt.push(to.shadyRoot);}for(var _Zt4=0;_Zt4<Kt.length;_Zt4++){var _$t3=Kt[_Zt4];if(_$t3){_$t3.__shady=_$t3.__shady||{},_$t3.__shady.assignedSlot=void 0;var _eo=T(_$t3);_eo&&Ye.call(_eo,_$t3);}}return Jt}},{key:'distributeInsertionPoint',value:function distributeInsertionPoint(Qt,Kt){var Jt=Qt.__shady.assignedNodes;Jt&&this.clearAssignedSlots(Qt,!0),Qt.__shady.assignedNodes=[];var Yt=!1,Zt=!1;for(var to,$t=0,eo=Kt.length;$t<eo;$t++)(to=Kt[$t],!!to)&&this.matchesInsertionPoint(to,Qt)&&(to.__shady._prevAssignedSlot!=Qt&&(Yt=!0),this.distributeNodeInto(to,Qt),Kt[$t]=void 0,Zt=!0);if(!Zt){var _$t4=Qt.childNodes;for(var _to,_eo2=0;_eo2<_$t4.length;_eo2++)_to=_$t4[_eo2],_to.__shady._prevAssignedSlot!=Qt&&(Yt=!0),this.distributeNodeInto(_to,Qt);}if(Jt){for(var _$t5=0;_$t5<Jt.length;_$t5++)Jt[_$t5].__shady._prevAssignedSlot=null;Qt.__shady.assignedNodes.length<Jt.length&&(Yt=!0);}this.setDistributedNodesOnInsertionPoint(Qt),Yt&&this._fireSlotChange(Qt);}},{key:'clearAssignedSlots',value:function clearAssignedSlots(Qt,Kt){var Jt=Qt.__shady.assignedNodes;if(Jt)for(var Yt=0;Yt<Jt.length;Yt++){var Zt=Jt[Yt];Kt&&(Zt.__shady._prevAssignedSlot=Zt.__shady.assignedSlot),Zt.__shady.assignedSlot===Qt&&(Zt.__shady.assignedSlot=null);}}},{key:'matchesInsertionPoint',value:function matchesInsertionPoint(Qt,Kt){var Jt=Kt.getAttribute('name');Jt=Jt?Jt.trim():'';var Yt=Qt.getAttribute&&Qt.getAttribute('slot');return Yt=Yt?Yt.trim():'',Yt==Jt}},{key:'distributeNodeInto',value:function distributeNodeInto(Qt,Kt){Kt.__shady.assignedNodes.push(Qt),Qt.__shady.assignedSlot=Kt;}},{key:'setDistributedNodesOnInsertionPoint',value:function setDistributedNodesOnInsertionPoint(Qt){var Kt=Qt.__shady.assignedNodes;Qt.__shady.distributedNodes=[];for(var Yt,Jt=0;Jt<Kt.length&&(Yt=Kt[Jt]);Jt++)if(this.isInsertionPoint(Yt)){var Zt=Yt.__shady.distributedNodes;if(Zt)for(var _$t6=0;_$t6<Zt.length;_$t6++)Qt.__shady.distributedNodes.push(Zt[_$t6]);}else Qt.__shady.distributedNodes.push(Kt[Jt]);}},{key:'_fireSlotChange',value:function _fireSlotChange(Qt){Qt.dispatchEvent(new Ut('slotchange')),Qt.__shady.assignedSlot&&this._fireSlotChange(Qt.__shady.assignedSlot);}},{key:'isFinalDestination',value:function isFinalDestination(Qt){return!Qt.__shady.assignedSlot}}]),jt}(),Ht=Object.create(DocumentFragment.prototype);h(Ht,{_init:function _init(Qt){this.__localName='ShadyRoot',Tt(Qt),Tt(this),Qt.shadowRoot=this,this.host=Qt,this._renderPending=!1,this._hasRendered=!1,this._changePending=!1,this._distributor=new jt(this),this.update();},update:function update(){var _this3=this;this._renderPending||(this._renderPending=!0,y(function(){return _this3.render()}));},_getRenderRoot:function _getRenderRoot(){for(var Qt=this,Kt=this;Kt;)Kt._renderPending&&(Qt=Kt),Kt=Kt._rendererForHost();return Qt},_rendererForHost:function _rendererForHost(){var Qt=this.host.getRootNode();if(t(Qt)){var Kt=this.host.childNodes;for(var Yt,Jt=0;Jt<Kt.length;Jt++)if(Yt=Kt[Jt],this._distributor.isInsertionPoint(Yt))return Qt}},render:function render(){this._renderPending&&this._getRenderRoot()._render();},_render:function _render(){this._renderPending=!1,this._changePending=!1,this._skipUpdateInsertionPoints?!this._hasRendered&&(this._insertionPoints=[]):this.updateInsertionPoints(),this._skipUpdateInsertionPoints=!1,this.distribute(),this.compose(),this._hasRendered=!0;},forceRender:function forceRender(){this._renderPending=!0,this.render();},distribute:function distribute(){var Qt=this._distributor.distribute();for(var Kt=0;Kt<Qt.length;Kt++)Qt[Kt]._render();},updateInsertionPoints:function updateInsertionPoints(){var Qt=this.__insertionPoints;if(Qt)for(var _Jt,_Kt2=0;_Kt2<Qt.length;_Kt2++)_Jt=Qt[_Kt2],_Jt.getRootNode()!==this&&this._distributor.clearAssignedSlots(_Jt);Qt=this._insertionPoints=this._distributor.getInsertionPoints();for(var _Jt2,_Kt3=0;_Kt3<Qt.length;_Kt3++)_Jt2=Qt[_Kt3],_Jt2.__shady=_Jt2.__shady||{},Tt(_Jt2),Tt(_Jt2.parentNode);},get _insertionPoints(){return this.__insertionPoints||this.updateInsertionPoints(),this.__insertionPoints||(this.__insertionPoints=[])},set _insertionPoints(Qt){this.__insertionPoints=Qt;},hasInsertionPoint:function hasInsertionPoint(){return this._distributor.hasInsertionPoint()},compose:function compose(){this._composeTree();},_composeTree:function _composeTree(){this._updateChildNodes(this.host,this._composeNode(this.host));var Qt=this._insertionPoints||[];for(var Yt,Zt,Kt=0,Jt=Qt.length;Kt<Jt&&(Yt=Qt[Kt]);Kt++)Zt=Yt.parentNode,Zt!==this.host&&Zt!==this&&this._updateChildNodes(Zt,this._composeNode(Zt));},_composeNode:function _composeNode(Qt){var Kt=[],Jt=(Qt.shadyRoot||Qt).childNodes;for(var Yt=0;Yt<Jt.length;Yt++){var Zt=Jt[Yt];if(this._distributor.isInsertionPoint(Zt)){var $t=Zt.__shady.distributedNodes||(Zt.__shady.distributedNodes=[]);for(var eo=0;eo<$t.length;eo++){var to=$t[eo];this.isFinalDestination(Zt,to)&&Kt.push(to);}}else Kt.push(Zt);}return Kt},isFinalDestination:function isFinalDestination(Qt,Kt){return this._distributor.isFinalDestination(Qt,Kt)},_updateChildNodes:function _updateChildNodes(Qt,Kt){var Jt=M(Qt),Yt=Ft(Kt,Jt);for(var eo,Zt=0,$t=0;Zt<Yt.length&&(eo=Yt[Zt]);Zt++){for(var oo,to=0;to<eo.removed.length&&(oo=eo.removed[to]);to++)T(oo)===Qt&&Ye.call(Qt,oo),Jt.splice(eo.index+$t,1);$t-=eo.addedCount;}for(var _$t7,_eo3,_Zt5=0;_Zt5<Yt.length&&(_$t7=Yt[_Zt5]);_Zt5++){_eo3=Jt[_$t7.index];for(var _oo,_to2=_$t7.index;_to2<_$t7.index+_$t7.addedCount;_to2++)_oo=Kt[_to2],Ke.call(Qt,_oo,_eo3),Jt.splice(_to2,0,_oo);}},getInsertionPointTag:function getInsertionPointTag(){return this._distributor.insertionPointTag}}),function(Kt){z(Kt,vt,!0),z(Kt,St,!0);}(Ht);var qt={addEventListener:function addEventListener(Kt,Jt,Yt){var _this4=this;if(Jt){var _ret3=function(){var Zt,$t,eo;if('object'==('undefined'==typeof Yt?'undefined':_typeof(Yt))?(Zt=!!Yt.capture,$t=!!Yt.once,eo=!!Yt.passive):(Zt=!!Yt,$t=!1,eo=!1),Jt.__eventWrappers){for(var _oo3=0;_oo3<Jt.__eventWrappers.length;_oo3++)if(Jt.__eventWrappers[_oo3].node===_this4&&Jt.__eventWrappers[_oo3].type===Kt&&Jt.__eventWrappers[_oo3].capture===Zt&&Jt.__eventWrappers[_oo3].once===$t&&Jt.__eventWrappers[_oo3].passive===eo)return{v:void 0};}else Jt.__eventWrappers=[];var to=function to(oo){if($t&&this.removeEventListener(Kt,Jt,Yt),oo.__target||(oo.__target=oo.target,oo.__relatedTarget=oo.relatedTarget,g(oo,Ot)),oo.composed||-1<oo.composedPath().indexOf(this))return oo.eventPhase===Event.BUBBLING_PHASE&&oo.target===oo.relatedTarget?void oo.stopImmediatePropagation():Jt(oo)};Jt.__eventWrappers.push({node:_this4,type:Kt,capture:Zt,once:$t,passive:eo,wrapperFn:to}),Mt[Kt]?(_this4.__handlers=_this4.__handlers||{},_this4.__handlers[Kt]=_this4.__handlers[Kt]||{capture:[],bubble:[]},_this4.__handlers[Kt][Zt?'capture':'bubble'].push(to)):it.call(_this4,Kt,to,Yt);}();if('object'==('undefined'==typeof _ret3?'undefined':_typeof(_ret3)))return _ret3.v}},removeEventListener:function removeEventListener(Kt,Jt,Yt){if(Jt){var _Zt6,_$t8,_eo4;'object'==('undefined'==typeof Yt?'undefined':_typeof(Yt))?(_Zt6=!!Yt.capture,_$t8=!!Yt.once,_eo4=!!Yt.passive):(_Zt6=!!Yt,_$t8=!1,_eo4=!1);var _to3;if(Jt.__eventWrappers)for(var _oo6=0;_oo6<Jt.__eventWrappers.length;_oo6++)if(Jt.__eventWrappers[_oo6].node===this&&Jt.__eventWrappers[_oo6].type===Kt&&Jt.__eventWrappers[_oo6].capture===_Zt6&&Jt.__eventWrappers[_oo6].once===_$t8&&Jt.__eventWrappers[_oo6].passive===_eo4){_to3=Jt.__eventWrappers.splice(_oo6,1)[0].wrapperFn,Jt.__eventWrappers.length||(Jt.__eventWrappers=void 0);break}if(lt.call(this,Kt,_to3||Jt,Yt),_to3&&Mt[Kt]&&this.__handlers&&this.__handlers[Kt]){var _oo5=this.__handlers[Kt][_Zt6?'capture':'bubble'],so=_oo5.indexOf(_to3);-1<so&&_oo5.splice(so,1);}}},appendChild:function appendChild(Qt){return me(this,Qt)},insertBefore:function insertBefore(Qt,Kt){return me(this,Qt,Kt)},removeChild:function removeChild(Qt){return be(this,Qt)},replaceChild:function replaceChild(Qt,Kt){return this.insertBefore(Qt,Kt),this.removeChild(Kt),Qt},cloneNode:function cloneNode(Qt){return fe(this,Qt)},getRootNode:function getRootNode(Qt){return te(this,Qt)},get isConnected(){return document.documentElement.contains(this)}},Gt={get assignedSlot(){return xe(this)}},Bt={querySelector:function querySelector(Qt){var Kt=pe(this,function(Jt){return r(Jt,Qt)},function(Jt){return!!Jt})[0];return Kt||null},querySelectorAll:function querySelectorAll(Qt){return pe(this,function(Kt){return r(Kt,Qt)})}},zt={assignedNodes:function assignedNodes(Qt){if('slot'===this.localName)return ge(this),this.__shady?(Qt&&Qt.flatten?this.__shady.distributedNodes:this.__shady.assignedNodes)||[]:[]}},Vt=h({setAttribute:function setAttribute(Qt,Kt){ye(this,Qt,Kt);},removeAttribute:function removeAttribute(Qt){Ne(this,Qt);},attachShadow:function attachShadow(Qt){return Re(this,Qt)},get slot(){return this.getAttribute('slot')},set slot(Qt){this.setAttribute('slot',Qt);},get assignedSlot(){return xe(this)}},Bt,zt);Object.defineProperties(Vt,Et);var Xt=h({},Bt);Object.defineProperties(Xt,{_activeElement:St.activeElement}),we.inUse&&(window.ShadyDOM={inUse:we.inUse,patch:function patch(Qt){return Qt},isShadyRoot:t,enqueue:y,flush:N,settings:we,filterMutations:b,observeChildren:Be,unobserveChildren:ze,nativeMethods:_t,nativeTree:Nt},Oe(),Ae());})();\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/*\nExtremely simple css parser. Intended to be not more than what we need\nand definitely not necessarily correct =).\n*/\n\n// given a string of css, return a simple rule tree\nfunction parse(text) {\n  text = clean(text);\n  return parseCss(lex(text), text);\n}\n\n// remove stuff we don't care about that may hinder parsing\nfunction clean(cssText) {\n  return cssText.replace(RX.comments, '').replace(RX.port, '');\n}\n\n// super simple {...} lexer that returns a node tree\nfunction lex(text) {\n  let root = {\n    start: 0,\n    end: text.length\n  };\n  let n = root;\n  for (let i = 0, l = text.length; i < l; i++) {\n    if (text[i] === OPEN_BRACE) {\n      if (!n.rules) {\n        n.rules = [];\n      }\n      let p = n;\n      let previous = p.rules[p.rules.length - 1];\n      n = {\n        start: i + 1,\n        parent: p,\n        previous: previous\n      };\n      p.rules.push(n);\n    } else if (text[i] === CLOSE_BRACE) {\n      n.end = i + 1;\n      n = n.parent || root;\n    }\n  }\n  return root;\n}\n\n// add selectors/cssText to node tree\nfunction parseCss(node, text) {\n  let t = text.substring(node.start, node.end - 1);\n  node.parsedCssText = node.cssText = t.trim();\n  if (node.parent) {\n    let ss = node.previous ? node.previous.end : node.parent.start;\n    t = text.substring(ss, node.start - 1);\n    t = _expandUnicodeEscapes(t);\n    t = t.replace(RX.multipleSpaces, ' ');\n    // TODO(sorvell): ad hoc; make selector include only after last ;\n    // helps with mixin syntax\n    t = t.substring(t.lastIndexOf(';') + 1);\n    let s = node.parsedSelector = node.selector = t.trim();\n    node.atRule = (s.indexOf(AT_START) === 0);\n    // note, support a subset of rule types...\n    if (node.atRule) {\n      if (s.indexOf(MEDIA_START) === 0) {\n        node.type = types.MEDIA_RULE;\n      } else if (s.match(RX.keyframesRule)) {\n        node.type = types.KEYFRAMES_RULE;\n        node.keyframesName =\n          node.selector.split(RX.multipleSpaces).pop();\n      }\n    } else {\n      if (s.indexOf(VAR_START) === 0) {\n        node.type = types.MIXIN_RULE;\n      } else {\n        node.type = types.STYLE_RULE;\n      }\n    }\n  }\n  let r$ = node.rules;\n  if (r$) {\n    for (let i = 0, l = r$.length, r;\n      (i < l) && (r = r$[i]); i++) {\n      parseCss(r, text);\n    }\n  }\n  return node;\n}\n\n// conversion of sort unicode escapes with spaces like `\\33 ` (and longer) into\n// expanded form that doesn't require trailing space `\\000033`\nfunction _expandUnicodeEscapes(s) {\n  return s.replace(/\\\\([0-9a-f]{1,6})\\s/gi, function() {\n    let code = arguments[1],\n      repeat = 6 - code.length;\n    while (repeat--) {\n      code = '0' + code;\n    }\n    return '\\\\' + code;\n  });\n}\n\n// stringify parsed css.\nfunction stringify(node, preserveProperties, text) {\n  text = text || '';\n  // calc rule cssText\n  let cssText = '';\n  if (node.cssText || node.rules) {\n    let r$ = node.rules;\n    if (r$ && !_hasMixinRules(r$)) {\n      for (let i = 0, l = r$.length, r;\n        (i < l) && (r = r$[i]); i++) {\n        cssText = stringify(r, preserveProperties, cssText);\n      }\n    } else {\n      cssText = preserveProperties ? node.cssText :\n        removeCustomProps(node.cssText);\n      cssText = cssText.trim();\n      if (cssText) {\n        cssText = '  ' + cssText + '\\n';\n      }\n    }\n  }\n  // emit rule if there is cssText\n  if (cssText) {\n    if (node.selector) {\n      text += node.selector + ' ' + OPEN_BRACE + '\\n';\n    }\n    text += cssText;\n    if (node.selector) {\n      text += CLOSE_BRACE + '\\n\\n';\n    }\n  }\n  return text;\n}\n\nfunction _hasMixinRules(rules) {\n  return rules[0].selector.indexOf(VAR_START) === 0;\n}\n\nfunction removeCustomProps(cssText) {\n  cssText = removeCustomPropAssignment(cssText);\n  return removeCustomPropApply(cssText);\n}\n\nfunction removeCustomPropAssignment(cssText) {\n  return cssText\n    .replace(RX.customProp, '')\n    .replace(RX.mixinProp, '');\n}\n\nfunction removeCustomPropApply(cssText) {\n  return cssText\n    .replace(RX.mixinApply, '')\n    .replace(RX.varApply, '');\n}\n\nlet types = {\n  STYLE_RULE: 1,\n  KEYFRAMES_RULE: 7,\n  MEDIA_RULE: 4,\n  MIXIN_RULE: 1000\n};\n\nlet OPEN_BRACE = '{';\nlet CLOSE_BRACE = '}';\n\n// helper regexp's\nlet RX = {\n  comments: /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim,\n  port: /@import[^;]*;/gim,\n  customProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\\n]|$)/gim,\n  mixinProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\\n]|$)?/gim,\n  mixinApply: /@apply\\s*\\(?[^);]*\\)?\\s*(?:[;\\n]|$)?/gim,\n  varApply: /[^;:]*?:[^;]*?var\\([^;]*\\)(?:[;\\n]|$)?/gim,\n  keyframesRule: /^@[^\\s]*keyframes/,\n  multipleSpaces: /\\s+/g\n};\n\nlet VAR_START = '--';\nlet MEDIA_START = '@media';\nlet AT_START = '@';\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet nativeShadow = !(window.ShadyDOM && window.ShadyDOM.inUse);\n// chrome 49 has semi-working css vars, check if box-shadow works\n// safari 9.1 has a recalc bug: https://bugs.webkit.org/show_bug.cgi?id=155782\nlet nativeCssVariables = (!navigator.userAgent.match('AppleWebKit/601') &&\nwindow.CSS && CSS.supports && CSS.supports('box-shadow', '0 0 0 var(--foo)'));\n\n// experimental support for native @apply\nfunction detectNativeApply() {\n  let style = document.createElement('style');\n  style.textContent = '.foo { @apply --foo }';\n  document.head.appendChild(style);\n  let nativeCssApply = (style.sheet.cssRules[0].cssText.indexOf('apply') >= 0);\n  document.head.removeChild(style);\n  return nativeCssApply;\n}\n\nlet nativeCssApply = false && detectNativeApply();\n\nfunction parseSettings(settings) {\n  if (settings) {\n    nativeCssVariables = nativeCssVariables && !settings.shimcssproperties;\n    nativeShadow = nativeShadow && !settings.shimshadow;\n  }\n}\n\nif (window.ShadyCSS) {\n  parseSettings(window.ShadyCSS);\n} else if (window.WebComponents) {\n  parseSettings(window.WebComponents.flags);\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction toCssText (rules, callback) {\n  if (typeof rules === 'string') {\n    rules = parse(rules);\n  }\n  if (callback) {\n    forEachRule(rules, callback);\n  }\n  return stringify(rules, nativeCssVariables);\n}\n\nfunction rulesForStyle(style) {\n  if (!style.__cssRules && style.textContent) {\n    style.__cssRules = parse(style.textContent);\n  }\n  return style.__cssRules;\n}\n\n// Tests if a rule is a keyframes selector, which looks almost exactly\n// like a normal selector but is not (it has nothing to do with scoping\n// for example).\nfunction isKeyframesSelector(rule) {\n  return rule.parent &&\n  rule.parent.type === types.KEYFRAMES_RULE;\n}\n\nfunction forEachRule(node, styleRuleCallback, keyframesRuleCallback, onlyActiveRules) {\n  if (!node) {\n    return;\n  }\n  let skipRules = false;\n  if (onlyActiveRules) {\n    if (node.type === types.MEDIA_RULE) {\n      let matchMedia = node.selector.match(rx.MEDIA_MATCH);\n      if (matchMedia) {\n        // if rule is a non matching @media rule, skip subrules\n        if (!window.matchMedia(matchMedia[1]).matches) {\n          skipRules = true;\n        }\n      }\n    }\n  }\n  if (node.type === types.STYLE_RULE) {\n    styleRuleCallback(node);\n  } else if (keyframesRuleCallback &&\n    node.type === types.KEYFRAMES_RULE) {\n    keyframesRuleCallback(node);\n  } else if (node.type === types.MIXIN_RULE) {\n    skipRules = true;\n  }\n  let r$ = node.rules;\n  if (r$ && !skipRules) {\n    for (let i=0, l=r$.length, r; (i<l) && (r=r$[i]); i++) {\n      forEachRule(r, styleRuleCallback, keyframesRuleCallback, onlyActiveRules);\n    }\n  }\n}\n\n// add a string of cssText to the document.\nfunction applyCss(cssText, moniker, target, contextNode) {\n  let style = createScopeStyle(cssText, moniker);\n  return applyStyle(style, target, contextNode);\n}\n\nfunction applyStyle(style, target, contextNode) {\n  target = target || document.head;\n  let after = (contextNode && contextNode.nextSibling) ||\n  target.firstChild;\n  lastHeadApplyNode = style;\n  return target.insertBefore(style, after);\n}\n\nfunction createScopeStyle(cssText, moniker) {\n  let style = document.createElement('style');\n  if (moniker) {\n    style.setAttribute('scope', moniker);\n  }\n  style.textContent = cssText;\n  return style;\n}\n\nlet lastHeadApplyNode = null;\n\n// insert a comment node as a styling position placeholder.\nfunction applyStylePlaceHolder(moniker) {\n  let placeHolder = document.createComment(' Shady DOM styles for ' +\n    moniker + ' ');\n  let after = lastHeadApplyNode ?\n    lastHeadApplyNode.nextSibling : null;\n  let scope = document.head;\n  scope.insertBefore(placeHolder, after || scope.firstChild);\n  lastHeadApplyNode = placeHolder;\n  return placeHolder;\n}\n\n\n\n// cssBuildTypeForModule: function (module) {\n//   let dm = Polymer.DomModule.import(module);\n//   if (dm) {\n//     return getCssBuildType(dm);\n//   }\n// },\n//\n\n\n// Walk from text[start] matching parens\n// returns position of the outer end paren\nfunction findMatchingParen(text, start) {\n  let level = 0;\n  for (let i=start, l=text.length; i < l; i++) {\n    if (text[i] === '(') {\n      level++;\n    } else if (text[i] === ')') {\n      if (--level === 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction processVariableAndFallback(str, callback) {\n  // find 'var('\n  let start = str.indexOf('var(');\n  if (start === -1) {\n    // no var?, everything is prefix\n    return callback(str, '', '', '');\n  }\n  //${prefix}var(${inner})${suffix}\n  let end = findMatchingParen(str, start + 3);\n  let inner = str.substring(start + 4, end);\n  let prefix = str.substring(0, start);\n  // suffix may have other variables\n  let suffix = processVariableAndFallback(str.substring(end + 1), callback);\n  let comma = inner.indexOf(',');\n  // value and fallback args should be trimmed to match in property lookup\n  if (comma === -1) {\n    // variable, no fallback\n    return callback(prefix, inner.trim(), '', suffix);\n  }\n  // var(${value},${fallback})\n  let value = inner.substring(0, comma).trim();\n  let fallback = inner.substring(comma + 1).trim();\n  return callback(prefix, value, fallback, suffix);\n}\n\nfunction setElementClassRaw(element, value) {\n  // use native setAttribute provided by ShadyDOM when setAttribute is patched\n  if (window.ShadyDOM) {\n    window.ShadyDOM.nativeMethods.setAttribute.call(element, 'class', value);\n  } else {\n    element.setAttribute('class', value);\n  }\n}\n\nlet rx = {\n  VAR_ASSIGN: /(?:^|[;\\s{]\\s*)(--[\\w-]*?)\\s*:\\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\\s}])|$)/gi,\n  MIXIN_MATCH: /(?:^|\\W+)@apply\\s*\\(?([^);\\n]*)\\)?/gi,\n  VAR_CONSUMED: /(--[\\w-]+)\\s*([:,;)]|$)/gi,\n  ANIMATION_MATCH: /(animation\\s*:)|(animation-name\\s*:)/,\n  MEDIA_MATCH: /@media[^(]*(\\([^)]*\\))/,\n  IS_VAR: /^--/,\n  BRACKETED: /\\{[^}]*\\}/g,\n  HOST_PREFIX: '(?:^|[^.#[:])',\n  HOST_SUFFIX: '($|[.:[\\\\s>+~])'\n};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* Transforms ShadowDOM styling into ShadyDOM styling\n\n* scoping:\n\n  * elements in scope get scoping selector class=\"x-foo-scope\"\n  * selectors re-written as follows:\n\n    div button -> div.x-foo-scope button.x-foo-scope\n\n* :host -> scopeName\n\n* :host(...) -> scopeName...\n\n* ::slotted(...) -> scopeName > ...\n\n* ...:dir(ltr|rtl) -> [dir=\"ltr|rtl\"] ..., ...[dir=\"ltr|rtl\"]\n\n* :host(:dir[rtl]) -> scopeName:dir(rtl) -> [dir=\"rtl\"] scopeName, scopeName[dir=\"rtl\"]\n\n*/\nconst SCOPE_NAME = 'style-scope';\n\nclass StyleTransformer {\n  get SCOPE_NAME() {\n    return SCOPE_NAME;\n  }\n  // Given a node and scope name, add a scoping class to each node\n  // in the tree. This facilitates transforming css into scoped rules.\n  dom(node, scope, shouldRemoveScope) {\n    // one time optimization to skip scoping...\n    if (node.__styleScoped) {\n      node.__styleScoped = null;\n    } else {\n      this._transformDom(node, scope || '', shouldRemoveScope);\n    }\n  }\n\n  _transformDom(node, selector, shouldRemoveScope) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      this.element(node, selector, shouldRemoveScope);\n    }\n    let c$ = (node.localName === 'template') ?\n      (node.content || node._content).childNodes :\n      node.children || node.childNodes;\n    if (c$) {\n      for (let i=0; i<c$.length; i++) {\n        this._transformDom(c$[i], selector, shouldRemoveScope);\n      }\n    }\n  }\n\n  element(element, scope, shouldRemoveScope) {\n    // note: if using classes, we add both the general 'style-scope' class\n    // as well as the specific scope. This enables easy filtering of all\n    // `style-scope` elements\n    if (scope) {\n      // note: svg on IE does not have classList so fallback to class\n      if (element.classList) {\n        if (shouldRemoveScope) {\n          element.classList.remove(SCOPE_NAME);\n          element.classList.remove(scope);\n        } else {\n          element.classList.add(SCOPE_NAME);\n          element.classList.add(scope);\n        }\n      } else if (element.getAttribute) {\n        let c = element.getAttribute(CLASS);\n        if (shouldRemoveScope) {\n          if (c) {\n            let newValue = c.replace(SCOPE_NAME, '').replace(scope, '');\n            setElementClassRaw(element, newValue);\n          }\n        } else {\n          let newValue = (c ? c + ' ' : '') + SCOPE_NAME + ' ' + scope;\n          setElementClassRaw(element, newValue);\n        }\n      }\n    }\n  }\n\n  elementStyles(element, styleRules, callback) {\n    let cssBuildType = element.__cssBuild;\n    // no need to shim selectors if settings.useNativeShadow, also\n    // a shady css build will already have transformed selectors\n    // NOTE: This method may be called as part of static or property shimming.\n    // When there is a targeted build it will not be called for static shimming,\n    // but when the property shim is used it is called and should opt out of\n    // static shimming work when a proper build exists.\n    let cssText = (nativeShadow || cssBuildType === 'shady') ?\n    toCssText(styleRules, callback) :\n    this.css(styleRules, element.is, element.extends, callback) + '\\n\\n';\n    return cssText.trim();\n  }\n\n  // Given a string of cssText and a scoping string (scope), returns\n  // a string of scoped css where each selector is transformed to include\n  // a class created from the scope. ShadowDOM selectors are also transformed\n  // (e.g. :host) to use the scoping selector.\n  css(rules, scope, ext, callback) {\n    let hostScope = this._calcHostScope(scope, ext);\n    scope = this._calcElementScope(scope);\n    let self = this;\n    return toCssText(rules, function(rule) {\n      if (!rule.isScoped) {\n        self.rule(rule, scope, hostScope);\n        rule.isScoped = true;\n      }\n      if (callback) {\n        callback(rule, scope, hostScope);\n      }\n    });\n  }\n\n  _calcElementScope(scope) {\n    if (scope) {\n      return CSS_CLASS_PREFIX + scope;\n    } else {\n      return '';\n    }\n  }\n\n  _calcHostScope(scope, ext) {\n    return ext ? '[is=' +  scope + ']' : scope;\n  }\n\n  rule(rule, scope, hostScope) {\n    this._transformRule(rule, this._transformComplexSelector,\n      scope, hostScope);\n  }\n\n  // transforms a css rule to a scoped rule.\n  _transformRule(rule, transformer, scope, hostScope) {\n    // NOTE: save transformedSelector for subsequent matching of elements\n    // against selectors (e.g. when calculating style properties)\n    rule.selector = rule.transformedSelector =\n      this._transformRuleCss(rule, transformer, scope, hostScope);\n  }\n\n  _transformRuleCss(rule, transformer, scope, hostScope) {\n    let p$ = rule.selector.split(COMPLEX_SELECTOR_SEP);\n    // we want to skip transformation of rules that appear in keyframes,\n    // because they are keyframe selectors, not element selectors.\n    if (!isKeyframesSelector(rule)) {\n      for (let i=0, l=p$.length, p; (i<l) && (p=p$[i]); i++) {\n        p$[i] = transformer.call(this, p, scope, hostScope);\n      }\n    }\n    return p$.join(COMPLEX_SELECTOR_SEP);\n  }\n\n  _transformComplexSelector(selector, scope, hostScope) {\n    let stop = false;\n    selector = selector.trim();\n    // Remove spaces inside of selectors like `:nth-of-type` because it confuses SIMPLE_SELECTOR_SEP\n    selector = selector.replace(NTH, (m, type, inner) => `:${type}(${inner.replace(/\\s/g, '')})`);\n    selector = selector.replace(SLOTTED_START, `${HOST} $1`);\n    selector = selector.replace(SIMPLE_SELECTOR_SEP, (m, c, s) => {\n      if (!stop) {\n        let info = this._transformCompoundSelector(s, c, scope, hostScope);\n        stop = stop || info.stop;\n        c = info.combinator;\n        s = info.value;\n      }\n      return c + s;\n    });\n    return selector;\n  }\n\n  _transformCompoundSelector(selector, combinator, scope, hostScope) {\n    // replace :host with host scoping class\n    let slottedIndex = selector.indexOf(SLOTTED);\n    if (selector.indexOf(HOST) >= 0) {\n      selector = this._transformHostSelector(selector, hostScope);\n    // replace other selectors with scoping class\n    } else if (slottedIndex !== 0) {\n      selector = scope ? this._transformSimpleSelector(selector, scope) :\n        selector;\n    }\n    // mark ::slotted() scope jump to replace with descendant selector + arg\n    // also ignore left-side combinator\n    let slotted = false;\n    if (slottedIndex >= 0) {\n      combinator = '';\n      slotted = true;\n    }\n    // process scope jumping selectors up to the scope jump and then stop\n    let stop;\n    if (slotted) {\n      stop = true;\n      if (slotted) {\n        // .zonk ::slotted(.foo) -> .zonk.scope > .foo\n        selector = selector.replace(SLOTTED_PAREN, (m, paren) => ` > ${paren}`);\n      }\n    }\n    selector = selector.replace(DIR_PAREN, (m, before, dir) =>\n      `[dir=\"${dir}\"] ${before}, ${before}[dir=\"${dir}\"]`);\n    return {value: selector, combinator, stop};\n  }\n\n  _transformSimpleSelector(selector, scope) {\n    let p$ = selector.split(PSEUDO_PREFIX);\n    p$[0] += scope;\n    return p$.join(PSEUDO_PREFIX);\n  }\n\n  // :host(...) -> scopeName...\n  _transformHostSelector(selector, hostScope) {\n    let m = selector.match(HOST_PAREN);\n    let paren = m && m[2].trim() || '';\n    if (paren) {\n      if (!paren[0].match(SIMPLE_SELECTOR_PREFIX)) {\n        // paren starts with a type selector\n        let typeSelector = paren.split(SIMPLE_SELECTOR_PREFIX)[0];\n        // if the type selector is our hostScope then avoid pre-pending it\n        if (typeSelector === hostScope) {\n          return paren;\n        // otherwise, this selector should not match in this scope so\n        // output a bogus selector.\n        } else {\n          return SELECTOR_NO_MATCH;\n        }\n      } else {\n        // make sure to do a replace here to catch selectors like:\n        // `:host(.foo)::before`\n        return selector.replace(HOST_PAREN, function(m, host, paren) {\n          return hostScope + paren;\n        });\n      }\n    // if no paren, do a straight :host replacement.\n    // TODO(sorvell): this should not strictly be necessary but\n    // it's needed to maintain support for `:host[foo]` type selectors\n    // which have been improperly used under Shady DOM. This should be\n    // deprecated.\n    } else {\n      return selector.replace(HOST, hostScope);\n    }\n  }\n\n  documentRule(rule) {\n    // reset selector in case this is redone.\n    rule.selector = rule.parsedSelector;\n    this.normalizeRootSelector(rule);\n    this._transformRule(rule, this._transformDocumentSelector);\n  }\n\n  normalizeRootSelector(rule) {\n    if (rule.selector === ROOT) {\n      rule.selector = 'html';\n    }\n  }\n\n  _transformDocumentSelector(selector) {\n    return selector.match(SLOTTED) ?\n      this._transformComplexSelector(selector, SCOPE_DOC_SELECTOR) :\n      this._transformSimpleSelector(selector.trim(), SCOPE_DOC_SELECTOR);\n  }\n}\n\nlet NTH = /:(nth[-\\w]+)\\(([^)]+)\\)/;\nlet SCOPE_DOC_SELECTOR = `:not(.${SCOPE_NAME})`;\nlet COMPLEX_SELECTOR_SEP = ',';\nlet SIMPLE_SELECTOR_SEP = /(^|[\\s>+~]+)((?:\\[.+?\\]|[^\\s>+~=\\[])+)/g;\nlet SIMPLE_SELECTOR_PREFIX = /[[.:#*]/;\nlet HOST = ':host';\nlet ROOT = ':root';\nlet SLOTTED = '::slotted';\nlet SLOTTED_START = new RegExp(`^(${SLOTTED})`);\n// NOTE: this supports 1 nested () pair for things like\n// :host(:not([selected]), more general support requires\n// parsing which seems like overkill\nlet HOST_PAREN = /(:host)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/;\n// similar to HOST_PAREN\nlet SLOTTED_PAREN = /(?:::slotted)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/;\nlet DIR_PAREN = /(.*):dir\\((?:(ltr|rtl))\\)/;\nlet CSS_CLASS_PREFIX = '.';\nlet PSEUDO_PREFIX = ':';\nlet CLASS = 'class';\nlet SELECTOR_NO_MATCH = 'should_not_match';\n\nvar StyleTransformer$1 = new StyleTransformer();\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar templateMap = {};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nconst promise = Promise.resolve();\n\nclass StyleInfo {\n  static get(node) {\n    return node.__styleInfo;\n  }\n  static set(node, styleInfo) {\n    node.__styleInfo = styleInfo;\n    return styleInfo;\n  }\n  static invalidate(elementName) {\n    if (templateMap[elementName]) {\n      templateMap[elementName]._applyShimInvalid = true;\n    }\n  }\n  /*\n  the template is marked as `validating` for one microtask so that all instances\n  found in the tree crawl of `applyStyle` will update themselves,\n  but the template will only be updated once.\n  */\n  static startValidating(elementName) {\n    const template = templateMap[elementName];\n    if (!template._validating) {\n      template._validating = true;\n      promise.then(() => {\n        template._applyShimInvalid = false;\n        template._validating = false;\n      });\n    }\n  }\n  constructor(ast, placeholder, ownStylePropertyNames, elementName, typeExtension, cssBuild) {\n    this.styleRules = ast || null;\n    this.placeholder = placeholder || null;\n    this.ownStylePropertyNames = ownStylePropertyNames || [];\n    this.overrideStyleProperties = null;\n    this.elementName = elementName || '';\n    this.cssBuild = cssBuild || '';\n    this.typeExtension = typeExtension || '';\n    this.styleProperties = null;\n    this.scopeSelector = null;\n    this.customStyle = null;\n  }\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// TODO: dedupe with shady\nconst p = window.Element.prototype;\nconst matchesSelector = p.matches || p.matchesSelector ||\n  p.mozMatchesSelector || p.msMatchesSelector ||\n  p.oMatchesSelector || p.webkitMatchesSelector;\n\nconst IS_IE = navigator.userAgent.match('Trident');\n\nconst XSCOPE_NAME = 'x-scope';\n\nclass StyleProperties {\n  get XSCOPE_NAME() {\n    return XSCOPE_NAME;\n  }\n  // decorates styles with rule info and returns an array of used style\n  // property names\n  decorateStyles(rules) {\n    let self = this, props = {}, keyframes = [], ruleIndex = 0;\n    forEachRule(rules, function(rule) {\n      self.decorateRule(rule);\n      // mark in-order position of ast rule in styles block, used for cache key\n      rule.index = ruleIndex++;\n      self.collectPropertiesInCssText(rule.propertyInfo.cssText, props);\n    }, function onKeyframesRule(rule) {\n      keyframes.push(rule);\n    });\n    // Cache all found keyframes rules for later reference:\n    rules._keyframes = keyframes;\n    // return this list of property names *consumes* in these styles.\n    let names = [];\n    for (let i in props) {\n      names.push(i);\n    }\n    return names;\n  }\n\n  // decorate a single rule with property info\n  decorateRule(rule) {\n    if (rule.propertyInfo) {\n      return rule.propertyInfo;\n    }\n    let info = {}, properties = {};\n    let hasProperties = this.collectProperties(rule, properties);\n    if (hasProperties) {\n      info.properties = properties;\n      // TODO(sorvell): workaround parser seeing mixins as additional rules\n      rule.rules = null;\n    }\n    info.cssText = this.collectCssText(rule);\n    rule.propertyInfo = info;\n    return info;\n  }\n\n  // collects the custom properties from a rule's cssText\n  collectProperties(rule, properties) {\n    let info = rule.propertyInfo;\n    if (info) {\n      if (info.properties) {\n        Object.assign(properties, info.properties);\n        return true;\n      }\n    } else {\n      let m, rx$$1 = rx.VAR_ASSIGN;\n      let cssText = rule.parsedCssText;\n      let value;\n      let any;\n      while ((m = rx$$1.exec(cssText))) {\n        // note: group 2 is var, 3 is mixin\n        value = (m[2] || m[3]).trim();\n        // value of 'inherit' or 'unset' is equivalent to not setting the property here\n        if (value !== 'inherit' || value !== 'unset') {\n          properties[m[1].trim()] = value;\n        }\n        any = true;\n      }\n      return any;\n    }\n\n  }\n\n  // returns cssText of properties that consume variables/mixins\n  collectCssText(rule) {\n    return this.collectConsumingCssText(rule.parsedCssText);\n  }\n\n  // NOTE: we support consumption inside mixin assignment\n  // but not production, so strip out {...}\n  collectConsumingCssText(cssText) {\n    return cssText.replace(rx.BRACKETED, '')\n      .replace(rx.VAR_ASSIGN, '');\n  }\n\n  collectPropertiesInCssText(cssText, props) {\n    let m;\n    while ((m = rx.VAR_CONSUMED.exec(cssText))) {\n      let name = m[1];\n      // This regex catches all variable names, and following non-whitespace char\n      // If next char is not ':', then variable is a consumer\n      if (m[2] !== ':') {\n        props[name] = true;\n      }\n    }\n  }\n\n  // turns custom properties into realized values.\n  reify(props) {\n    // big perf optimization here: reify only *own* properties\n    // since this object has __proto__ of the element's scope properties\n    let names = Object.getOwnPropertyNames(props);\n    for (let i=0, n; i < names.length; i++) {\n      n = names[i];\n      props[n] = this.valueForProperty(props[n], props);\n    }\n  }\n\n  // given a property value, returns the reified value\n  // a property value may be:\n  // (1) a literal value like: red or 5px;\n  // (2) a variable value like: var(--a), var(--a, red), or var(--a, --b) or\n  // var(--a, var(--b));\n  // (3) a literal mixin value like { properties }. Each of these properties\n  // can have values that are: (a) literal, (b) variables, (c) @apply mixins.\n  valueForProperty(property, props) {\n    // case (1) default\n    // case (3) defines a mixin and we have to reify the internals\n    if (property) {\n      if (property.indexOf(';') >=0) {\n        property = this.valueForProperties(property, props);\n      } else {\n        // case (2) variable\n        let self = this;\n        let fn = function(prefix, value, fallback, suffix) {\n          if (!value) {\n            return prefix + suffix;\n          }\n          let propertyValue = self.valueForProperty(props[value], props);\n          // if value is \"initial\", then the variable should be treated as unset\n          if (!propertyValue || propertyValue === 'initial') {\n            // fallback may be --a or var(--a) or literal\n            propertyValue = self.valueForProperty(props[fallback] || fallback, props) ||\n            fallback;\n          } else if (propertyValue === 'apply-shim-inherit') {\n            // CSS build will replace `inherit` with `apply-shim-inherit`\n            // for use with native css variables.\n            // Since we have full control, we can use `inherit` directly.\n            propertyValue = 'inherit';\n          }\n          return prefix + (propertyValue || '') + suffix;\n        };\n        property = processVariableAndFallback(property, fn);\n      }\n    }\n    return property && property.trim() || '';\n  }\n\n  // note: we do not yet support mixin within mixin\n  valueForProperties(property, props) {\n    let parts = property.split(';');\n    for (let i=0, p, m; i<parts.length; i++) {\n      if ((p = parts[i])) {\n        rx.MIXIN_MATCH.lastIndex = 0;\n        m = rx.MIXIN_MATCH.exec(p);\n        if (m) {\n          p = this.valueForProperty(props[m[1]], props);\n        } else {\n          let colon = p.indexOf(':');\n          if (colon !== -1) {\n            let pp = p.substring(colon);\n            pp = pp.trim();\n            pp = this.valueForProperty(pp, props) || pp;\n            p = p.substring(0, colon) + pp;\n          }\n        }\n        parts[i] = (p && p.lastIndexOf(';') === p.length - 1) ?\n          // strip trailing ;\n          p.slice(0, -1) :\n          p || '';\n      }\n    }\n    return parts.join(';');\n  }\n\n  applyProperties(rule, props) {\n    let output = '';\n    // dynamically added sheets may not be decorated so ensure they are.\n    if (!rule.propertyInfo) {\n      this.decorateRule(rule);\n    }\n    if (rule.propertyInfo.cssText) {\n      output = this.valueForProperties(rule.propertyInfo.cssText, props);\n    }\n    rule.cssText = output;\n  }\n\n  // Apply keyframe transformations to the cssText of a given rule. The\n  // keyframeTransforms object is a map of keyframe names to transformer\n  // functions which take in cssText and spit out transformed cssText.\n  applyKeyframeTransforms(rule, keyframeTransforms) {\n    let input = rule.cssText;\n    let output = rule.cssText;\n    if (rule.hasAnimations == null) {\n      // Cache whether or not the rule has any animations to begin with:\n      rule.hasAnimations = rx.ANIMATION_MATCH.test(input);\n    }\n    // If there are no animations referenced, we can skip transforms:\n    if (rule.hasAnimations) {\n      let transform;\n      // If we haven't transformed this rule before, we iterate over all\n      // transforms:\n      if (rule.keyframeNamesToTransform == null) {\n        rule.keyframeNamesToTransform = [];\n        for (let keyframe in keyframeTransforms) {\n          transform = keyframeTransforms[keyframe];\n          output = transform(input);\n          // If the transform actually changed the CSS text, we cache the\n          // transform name for future use:\n          if (input !== output) {\n            input = output;\n            rule.keyframeNamesToTransform.push(keyframe);\n          }\n        }\n      } else {\n        // If we already have a list of keyframe names that apply to this\n        // rule, we apply only those keyframe name transforms:\n        for (let i = 0; i < rule.keyframeNamesToTransform.length; ++i) {\n          transform = keyframeTransforms[rule.keyframeNamesToTransform[i]];\n          input = transform(input);\n        }\n        output = input;\n      }\n    }\n    rule.cssText = output;\n  }\n\n  // Test if the rules in these styles matches the given `element` and if so,\n  // collect any custom properties into `props`.\n  propertyDataFromStyles(rules, element) {\n    let props = {}, self = this;\n    // generates a unique key for these matches\n    let o = [];\n    // note: active rules excludes non-matching @media rules\n    forEachRule(rules, function(rule) {\n      // TODO(sorvell): we could trim the set of rules at declaration\n      // time to only include ones that have properties\n      if (!rule.propertyInfo) {\n        self.decorateRule(rule);\n      }\n      // match element against transformedSelector: selector may contain\n      // unwanted uniquification and parsedSelector does not directly match\n      // for :host selectors.\n      let selectorToMatch = rule.transformedSelector || rule.parsedSelector;\n      if (element && rule.propertyInfo.properties && selectorToMatch) {\n        if (matchesSelector.call(element, selectorToMatch)) {\n          self.collectProperties(rule, props);\n          // produce numeric key for these matches for lookup\n          addToBitMask(rule.index, o);\n        }\n      }\n    }, null, true);\n    return {properties: props, key: o};\n  }\n\n  whenHostOrRootRule(scope, rule, cssBuild, callback) {\n    if (!rule.propertyInfo) {\n      this.decorateRule(rule);\n    }\n    if (!rule.propertyInfo.properties) {\n      return;\n    }\n    let hostScope = scope.is ?\n    StyleTransformer$1._calcHostScope(scope.is, scope.extends) :\n    'html';\n    let parsedSelector = rule.parsedSelector;\n    let isRoot = (parsedSelector === ':host > *' || parsedSelector === 'html');\n    let isHost = parsedSelector.indexOf(':host') === 0 && !isRoot;\n    // build info is either in scope (when scope is an element) or in the style\n    // when scope is the default scope; note: this allows default scope to have\n    // mixed mode built and unbuilt styles.\n    if (cssBuild === 'shady') {\n      // :root -> x-foo > *.x-foo for elements and html for custom-style\n      isRoot = parsedSelector === (hostScope + ' > *.' + hostScope) || parsedSelector.indexOf('html') !== -1;\n      // :host -> x-foo for elements, but sub-rules have .x-foo in them\n      isHost = !isRoot && parsedSelector.indexOf(hostScope) === 0;\n    }\n    if (cssBuild === 'shadow') {\n      isRoot = parsedSelector === ':host > *' || parsedSelector === 'html';\n      isHost = isHost && !isRoot;\n    }\n    if (!isRoot && !isHost) {\n      return;\n    }\n    let selectorToMatch = hostScope;\n    if (isHost) {\n      // need to transform :host under ShadowDOM because `:host` does not work with `matches`\n      if (nativeShadow && !rule.transformedSelector) {\n        // transform :host into a matchable selector\n        rule.transformedSelector =\n        StyleTransformer$1._transformRuleCss(\n          rule,\n          StyleTransformer$1._transformComplexSelector,\n          StyleTransformer$1._calcElementScope(scope.is),\n          hostScope\n        );\n      }\n      selectorToMatch = rule.transformedSelector || hostScope;\n    }\n    callback({\n      selector: selectorToMatch,\n      isHost: isHost,\n      isRoot: isRoot\n    });\n  }\n\n  hostAndRootPropertiesForScope(scope, rules) {\n    let hostProps = {}, rootProps = {}, self = this;\n    // note: active rules excludes non-matching @media rules\n    let cssBuild = rules && rules.__cssBuild;\n    forEachRule(rules, function(rule) {\n      // if scope is StyleDefaults, use _element for matchesSelector\n      self.whenHostOrRootRule(scope, rule, cssBuild, function(info) {\n        let element = scope._element || scope;\n        if (matchesSelector.call(element, info.selector)) {\n          if (info.isHost) {\n            self.collectProperties(rule, hostProps);\n          } else {\n            self.collectProperties(rule, rootProps);\n          }\n        }\n      });\n    }, null, true);\n    return {rootProps: rootProps, hostProps: hostProps};\n  }\n\n  transformStyles(element, properties, scopeSelector) {\n    let self = this;\n    let hostSelector = StyleTransformer$1\n      ._calcHostScope(element.is, element.extends);\n    let rxHostSelector = element.extends ?\n      '\\\\' + hostSelector.slice(0, -1) + '\\\\]' :\n      hostSelector;\n    let hostRx = new RegExp(rx.HOST_PREFIX + rxHostSelector +\n      rx.HOST_SUFFIX);\n    let rules = StyleInfo.get(element).styleRules;\n    let keyframeTransforms =\n      this._elementKeyframeTransforms(element, rules, scopeSelector);\n    return StyleTransformer$1.elementStyles(element, rules, function(rule) {\n      self.applyProperties(rule, properties);\n      if (!nativeShadow &&\n          !isKeyframesSelector(rule) &&\n          rule.cssText) {\n        // NOTE: keyframe transforms only scope munge animation names, so it\n        // is not necessary to apply them in ShadowDOM.\n        self.applyKeyframeTransforms(rule, keyframeTransforms);\n        self._scopeSelector(rule, hostRx, hostSelector, scopeSelector);\n      }\n    });\n  }\n\n  _elementKeyframeTransforms(element, rules, scopeSelector) {\n    let keyframesRules = rules._keyframes;\n    let keyframeTransforms = {};\n    if (!nativeShadow && keyframesRules) {\n      // For non-ShadowDOM, we transform all known keyframes rules in\n      // advance for the current scope. This allows us to catch keyframes\n      // rules that appear anywhere in the stylesheet:\n      for (let i = 0, keyframesRule = keyframesRules[i];\n           i < keyframesRules.length;\n           keyframesRule = keyframesRules[++i]) {\n        this._scopeKeyframes(keyframesRule, scopeSelector);\n        keyframeTransforms[keyframesRule.keyframesName] =\n            this._keyframesRuleTransformer(keyframesRule);\n      }\n    }\n    return keyframeTransforms;\n  }\n\n  // Generate a factory for transforming a chunk of CSS text to handle a\n  // particular scoped keyframes rule.\n  _keyframesRuleTransformer(keyframesRule) {\n    return function(cssText) {\n      return cssText.replace(\n          keyframesRule.keyframesNameRx,\n          keyframesRule.transformedKeyframesName);\n    };\n  }\n\n  // Transforms `@keyframes` names to be unique for the current host.\n  // Example: @keyframes foo-anim -> @keyframes foo-anim-x-foo-0\n  _scopeKeyframes(rule, scopeId) {\n    rule.keyframesNameRx = new RegExp(rule.keyframesName, 'g');\n    rule.transformedKeyframesName = rule.keyframesName + '-' + scopeId;\n    rule.transformedSelector = rule.transformedSelector || rule.selector;\n    rule.selector = rule.transformedSelector.replace(\n        rule.keyframesName, rule.transformedKeyframesName);\n  }\n\n  // Strategy: x scope shim a selector e.g. to scope `.x-foo-42` (via classes):\n  // non-host selector: .a.x-foo -> .x-foo-42 .a.x-foo\n  // host selector: x-foo.wide -> .x-foo-42.wide\n  // note: we use only the scope class (.x-foo-42) and not the hostSelector\n  // (x-foo) to scope :host rules; this helps make property host rules\n  // have low specificity. They are overrideable by class selectors but,\n  // unfortunately, not by type selectors (e.g. overriding via\n  // `.special` is ok, but not by `x-foo`).\n  _scopeSelector(rule, hostRx, hostSelector, scopeId) {\n    rule.transformedSelector = rule.transformedSelector || rule.selector;\n    let selector = rule.transformedSelector;\n    let scope = '.' + scopeId;\n    let parts = selector.split(',');\n    for (let i=0, l=parts.length, p; (i<l) && (p=parts[i]); i++) {\n      parts[i] = p.match(hostRx) ?\n        p.replace(hostSelector, scope) :\n        scope + ' ' + p;\n    }\n    rule.selector = parts.join(',');\n  }\n\n  applyElementScopeSelector(element, selector, old) {\n    let c = element.getAttribute('class') || '';\n    let v = c;\n    if (old) {\n      v = c.replace(\n        new RegExp('\\\\s*' + XSCOPE_NAME + '\\\\s*' + old + '\\\\s*', 'g'), ' ');\n    }\n    v += (v ? ' ' : '') + XSCOPE_NAME + ' ' + selector;\n    if (c !== v) {\n      setElementClassRaw(element, v);\n    }\n  }\n\n  applyElementStyle(element, properties, selector, style) {\n    // calculate cssText to apply\n    let cssText = style ? style.textContent || '' :\n      this.transformStyles(element, properties, selector);\n    // if shady and we have a cached style that is not style, decrement\n    let styleInfo = StyleInfo.get(element);\n    let s = styleInfo.customStyle;\n    if (s && !nativeShadow && (s !== style)) {\n      s._useCount--;\n      if (s._useCount <= 0 && s.parentNode) {\n        s.parentNode.removeChild(s);\n      }\n    }\n    // apply styling always under native or if we generated style\n    // or the cached style is not in document(!)\n    if (nativeShadow) {\n      // update existing style only under native\n      if (styleInfo.customStyle) {\n        styleInfo.customStyle.textContent = cssText;\n        style = styleInfo.customStyle;\n      // otherwise, if we have css to apply, do so\n      } else if (cssText) {\n        // apply css after the scope style of the element to help with\n        // style precedence rules.\n        style = applyCss(cssText, selector, element.shadowRoot,\n          styleInfo.placeholder);\n      }\n    } else {\n      // shady and no cache hit\n      if (!style) {\n        // apply css after the scope style of the element to help with\n        // style precedence rules.\n        if (cssText) {\n          style = applyCss(cssText, selector, null,\n            styleInfo.placeholder);\n        }\n      // shady and cache hit but not in document\n      } else if (!style.parentNode) {\n        applyStyle(style, null, styleInfo.placeholder);\n      }\n\n    }\n    // ensure this style is our custom style and increment its use count.\n    if (style) {\n      style._useCount = style._useCount || 0;\n      // increment use count if we changed styles\n      if (styleInfo.customStyle != style) {\n        style._useCount++;\n      }\n      styleInfo.customStyle = style;\n    }\n    // @media rules may be stale in IE 10 and 11\n    if (IS_IE) {\n      style.textContent = style.textContent;\n    }\n    return style;\n  }\n\n  applyCustomStyle(style, properties) {\n    let rules = rulesForStyle(style);\n    let self = this;\n    style.textContent = toCssText(rules, function(rule) {\n      let css = rule.cssText = rule.parsedCssText;\n      if (rule.propertyInfo && rule.propertyInfo.cssText) {\n        // remove property assignments\n        // so next function isn't confused\n        // NOTE: we have 3 categories of css:\n        // (1) normal properties,\n        // (2) custom property assignments (--foo: red;),\n        // (3) custom property usage: border: var(--foo); @apply(--foo);\n        // In elements, 1 and 3 are separated for efficiency; here they\n        // are not and this makes this case unique.\n        css = removeCustomPropAssignment(css);\n        // replace with reified properties, scenario is same as mixin\n        rule.cssText = self.valueForProperties(css, properties);\n      }\n    });\n  }\n}\n\nfunction addToBitMask(n, bits) {\n  let o = parseInt(n / 32);\n  let v = 1 << (n % 32);\n  bits[o] = (bits[o] || 0) | v;\n}\n\nvar StyleProperties$1 = new StyleProperties();\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet placeholderMap = {};\n\nconst ce = window.customElements;\nif (ce && !nativeShadow) {\n  const origDefine = ce.define;\n  ce.define = function(name, clazz, options) {\n    placeholderMap[name] = applyStylePlaceHolder(name);\n    return origDefine.call(ce, name, clazz, options);\n  };\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nclass StyleCache {\n  constructor(typeMax = 100) {\n    // map element name -> [{properties, styleElement, scopeSelector}]\n    this.cache = {};\n    this.typeMax = typeMax;\n  }\n\n  _validate(cacheEntry, properties, ownPropertyNames) {\n    for (let idx = 0; idx < ownPropertyNames.length; idx++) {\n      let pn = ownPropertyNames[idx];\n      if (cacheEntry.properties[pn] !== properties[pn]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  store(tagname, properties, styleElement, scopeSelector) {\n    let list = this.cache[tagname] || [];\n    list.push({properties, styleElement, scopeSelector});\n    if (list.length > this.typeMax) {\n      list.shift();\n    }\n    this.cache[tagname] = list;\n  }\n\n  fetch(tagname, properties, ownPropertyNames) {\n    let list = this.cache[tagname];\n    if (!list) {\n      return;\n    }\n    // reverse list for most-recent lookups\n    for (let idx = list.length - 1; idx >= 0; idx--) {\n      let entry = list[idx];\n      if (this._validate(entry, properties, ownPropertyNames)) {\n        return entry;\n      }\n    }\n  }\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/**\n * The apply shim simulates the behavior of `@apply` proposed at\n * https://tabatkins.github.io/specs/css-apply-rule/.\n * The approach is to convert a property like this:\n *\n *    --foo: {color: red; background: blue;}\n *\n * to this:\n *\n *    --foo_-_color: red;\n *    --foo_-_background: blue;\n *\n * Then where `@apply --foo` is used, that is converted to:\n *\n *    color: var(--foo_-_color);\n *    background: var(--foo_-_background);\n *\n * This approach generally works but there are some issues and limitations.\n * Consider, for example, that somewhere *between* where `--foo` is set and used,\n * another element sets it to:\n *\n *    --foo: { border: 2px solid red; }\n *\n * We must now ensure that the color and background from the previous setting\n * do not apply. This is accomplished by changing the property set to this:\n *\n *    --foo_-_border: 2px solid red;\n *    --foo_-_color: initial;\n *    --foo_-_background: initial;\n *\n * This works but introduces one new issue.\n * Consider this setup at the point where the `@apply` is used:\n *\n *    background: orange;\n *    @apply --foo;\n *\n * In this case the background will be unset (initial) rather than the desired\n * `orange`. We address this by altering the property set to use a fallback\n * value like this:\n *\n *    color: var(--foo_-_color);\n *    background: var(--foo_-_background, orange);\n *    border: var(--foo_-_border);\n *\n * Note that the default is retained in the property set and the `background` is\n * the desired `orange`. This leads us to a limitation.\n *\n * Limitation 1:\n\n * Only properties in the rule where the `@apply`\n * is used are considered as default values.\n * If another rule matches the element and sets `background` with\n * less specificity than the rule in which `@apply` appears,\n * the `background` will not be set.\n *\n * Limitation 2:\n *\n * When using Polymer's `updateStyles` api, new properties may not be set for\n * `@apply` properties.\n\n*/\n\nlet MIXIN_MATCH = rx.MIXIN_MATCH;\nlet VAR_ASSIGN = rx.VAR_ASSIGN;\n\nlet APPLY_NAME_CLEAN = /;\\s*/m;\nlet INITIAL_INHERIT = /^\\s*(initial)|(inherit)\\s*$/;\n\n// separator used between mixin-name and mixin-property-name when producing properties\n// NOTE: plain '-' may cause collisions in user styles\nlet MIXIN_VAR_SEP = '_-_';\n\n// map of mixin to property names\n// --foo: {border: 2px} -> {properties: {(--foo, ['border'])}, dependants: {'element-name': proto}}\nclass MixinMap {\n  constructor() {\n    this._map = {};\n  }\n  set(name, props) {\n    name = name.trim();\n    this._map[name] = {\n      properties: props,\n      dependants: {}\n    };\n  }\n  get(name) {\n    name = name.trim();\n    return this._map[name];\n  }\n}\n\nclass ApplyShim {\n  constructor() {\n    this._currentTemplate = null;\n    this._measureElement = null;\n    this._map = new MixinMap();\n    this._separator = MIXIN_VAR_SEP;\n    this._boundProduceCssProperties = (\n      matchText, propertyName, valueProperty, valueMixin) =>\n        this._produceCssProperties(\n          matchText, propertyName, valueProperty, valueMixin);\n  }\n  // return true if `cssText` contains a mixin definition or consumption\n  detectMixin(cssText) {\n    const has = MIXIN_MATCH.test(cssText) || VAR_ASSIGN.test(cssText);\n    // reset state of the regexes\n    MIXIN_MATCH.lastIndex = 0;\n    VAR_ASSIGN.lastIndex = 0;\n    return has;\n  }\n  transformStyle(style, elementName) {\n    let ast = rulesForStyle(style);\n    this.transformRules(ast, elementName);\n    return ast;\n  }\n  transformRules(rules, elementName) {\n    this._currentTemplate = templateMap[elementName];\n    forEachRule(rules, (r) => {\n      this.transformRule(r);\n    });\n    this._currentTemplate = null;\n  }\n  transformRule(rule) {\n    rule.cssText = this.transformCssText(rule.parsedCssText);\n    // :root was only used for variable assignment in property shim,\n    // but generates invalid selectors with real properties.\n    // replace with `:host > *`, which serves the same effect\n    if (rule.selector === ':root') {\n      rule.selector = ':host > *';\n    }\n  }\n  transformCssText(cssText) {\n    // produce variables\n    cssText = cssText.replace(VAR_ASSIGN, this._boundProduceCssProperties);\n    // consume mixins\n    return this._consumeCssProperties(cssText);\n  }\n  _getInitialValueForProperty(property) {\n    if (!this._measureElement) {\n      this._measureElement = document.createElement('meta');\n      this._measureElement.style.all = 'initial';\n      document.head.appendChild(this._measureElement);\n    }\n    return window.getComputedStyle(this._measureElement).getPropertyValue(property);\n  }\n  // replace mixin consumption with variable consumption\n  _consumeCssProperties(text) {\n    let m;\n    // loop over text until all mixins with defintions have been applied\n    while((m = MIXIN_MATCH.exec(text))) {\n      let matchText = m[0];\n      let mixinName = m[1];\n      let idx = m.index;\n      // collect properties before apply to be \"defaults\" if mixin might override them\n      // match includes a \"prefix\", so find the start and end positions of @apply\n      let applyPos = idx + matchText.indexOf('@apply');\n      let afterApplyPos = idx + matchText.length;\n      // find props defined before this @apply\n      let textBeforeApply = text.slice(0, applyPos);\n      let textAfterApply = text.slice(afterApplyPos);\n      let defaults = this._cssTextToMap(textBeforeApply);\n      let replacement = this._atApplyToCssProperties(mixinName, defaults);\n      // use regex match position to replace mixin, keep linear processing time\n      text = [textBeforeApply, replacement, textAfterApply].join('');\n      // move regex search to _after_ replacement\n      MIXIN_MATCH.lastIndex = idx + replacement.length;\n    }\n    return text;\n  }\n  // produce variable consumption at the site of mixin consumption\n  // @apply --foo; -> for all props (${propname}: var(--foo_-_${propname}, ${fallback[propname]}}))\n  // Example:\n  // border: var(--foo_-_border); padding: var(--foo_-_padding, 2px)\n  _atApplyToCssProperties(mixinName, fallbacks) {\n    mixinName = mixinName.replace(APPLY_NAME_CLEAN, '');\n    let vars = [];\n    let mixinEntry = this._map.get(mixinName);\n    // if we depend on a mixin before it is created\n    // make a sentinel entry in the map to add this element as a dependency for when it is defined.\n    if (!mixinEntry) {\n      this._map.set(mixinName, {});\n      mixinEntry = this._map.get(mixinName);\n    }\n    if (mixinEntry) {\n      if (this._currentTemplate) {\n        mixinEntry.dependants[this._currentTemplate.name] = this._currentTemplate;\n      }\n      let p, parts, f;\n      for (p in mixinEntry.properties) {\n        f = fallbacks && fallbacks[p];\n        parts = [p, ': var(', mixinName, MIXIN_VAR_SEP, p];\n        if (f) {\n          parts.push(',', f);\n        }\n        parts.push(')');\n        vars.push(parts.join(''));\n      }\n    }\n    return vars.join('; ');\n  }\n\n  _replaceInitialOrInherit(property, value) {\n    let match = INITIAL_INHERIT.exec(value);\n    if (match) {\n      if (match[1]) {\n        // initial\n        // replace `initial` with the concrete initial value for this property\n        value = ApplyShim._getInitialValueForProperty(property);\n      } else {\n        // inherit\n        // with this purposfully illegal value, the variable will be invalid at\n        // compute time (https://www.w3.org/TR/css-variables/#invalid-at-computed-value-time)\n        // and for inheriting values, will behave similarly\n        // we cannot support the same behavior for non inheriting values like 'border'\n        value = 'apply-shim-inherit';\n      }\n    }\n    return value;\n  }\n\n  // \"parse\" a mixin definition into a map of properties and values\n  // cssTextToMap('border: 2px solid black') -> ('border', '2px solid black')\n  _cssTextToMap(text) {\n    let props = text.split(';');\n    let property, value;\n    let out = {};\n    for (let i = 0, p, sp; i < props.length; i++) {\n      p = props[i];\n      if (p) {\n        sp = p.split(':');\n        // ignore lines that aren't definitions like @media\n        if (sp.length > 1) {\n          property = sp[0].trim();\n          // some properties may have ':' in the value, like data urls\n          value = this._replaceInitialOrInherit(property, sp.slice(1).join(':'));\n          out[property] = value;\n        }\n      }\n    }\n    return out;\n  }\n\n  _invalidateMixinEntry(mixinEntry) {\n    for (let elementName in mixinEntry.dependants) {\n      if (!this._currentTemplate || elementName !== this._currentTemplate.name) {\n        StyleInfo.invalidate(elementName);\n      }\n    }\n  }\n\n  _produceCssProperties(matchText, propertyName, valueProperty, valueMixin) {\n    // handle case where property value is a mixin\n    if (valueProperty) {\n      // form: --mixin2: var(--mixin1), where --mixin1 is in the map\n      processVariableAndFallback(valueProperty, (prefix, value) => {\n        if (value && this._map.get(value)) {\n          valueMixin = '@apply ' + value + ';';\n        }\n      });\n    }\n    if (!valueMixin) {\n      return matchText;\n    }\n    let mixinAsProperties = this._consumeCssProperties(valueMixin);\n    let prefix = matchText.slice(0, matchText.indexOf('--'));\n    let mixinValues = this._cssTextToMap(mixinAsProperties);\n    let combinedProps = mixinValues;\n    let mixinEntry = this._map.get(propertyName);\n    let oldProps = mixinEntry && mixinEntry.properties;\n    if (oldProps) {\n      // NOTE: since we use mixin, the map of properties is updated here\n      // and this is what we want.\n      combinedProps = Object.assign(Object.create(oldProps), mixinValues);\n    } else {\n      this._map.set(propertyName, combinedProps);\n    }\n    let out = [];\n    let p, v;\n    // set variables defined by current mixin\n    let needToInvalidate = false;\n    for (p in combinedProps) {\n      v = mixinValues[p];\n      // if property not defined by current mixin, set initial\n      if (v === undefined) {\n        v = 'initial';\n      }\n      if (oldProps && !(p in oldProps)) {\n        needToInvalidate = true;\n      }\n      out.push(propertyName + MIXIN_VAR_SEP + p + ': ' + v);\n    }\n    if (needToInvalidate) {\n      this._invalidateMixinEntry(mixinEntry);\n    }\n    if (mixinEntry) {\n      mixinEntry.properties = combinedProps;\n    }\n    // because the mixinMap is global, the mixin might conflict with\n    // a different scope's simple variable definition:\n    // Example:\n    // some style somewhere:\n    // --mixin1:{ ... }\n    // --mixin2: var(--mixin1);\n    // some other element:\n    // --mixin1: 10px solid red;\n    // --foo: var(--mixin1);\n    // In this case, we leave the original variable definition in place.\n    if (valueProperty) {\n      prefix = matchText + ';' + prefix;\n    }\n    return prefix + out.join('; ') + ';';\n  }\n}\n\nlet applyShim = new ApplyShim();\nwindow['ApplyShim'] = applyShim;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nlet flush$1 = function() {};\n\nif (!nativeShadow) {\n  let elementNeedsScoping = (element) => {\n    return (element.classList &&\n      !element.classList.contains(StyleTransformer$1.SCOPE_NAME) ||\n      // note: necessary for IE11\n      (element instanceof SVGElement && (!element.hasAttribute('class') ||\n      element.getAttribute('class').indexOf(StyleTransformer$1.SCOPE_NAME) < 0)));\n  };\n\n  let handler = (mxns) => {\n    for (let x=0; x < mxns.length; x++) {\n      let mxn = mxns[x];\n      if (mxn.target === document.documentElement ||\n        mxn.target === document.head) {\n        continue;\n      }\n      for (let i=0; i < mxn.addedNodes.length; i++) {\n        let n = mxn.addedNodes[i];\n        if (elementNeedsScoping(n)) {\n          let root = n.getRootNode();\n          if (root.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            // may no longer be in a shadowroot\n            let host = root.host;\n            if (host) {\n              let scope = host.is || host.localName;\n              StyleTransformer$1.dom(n, scope);\n            }\n          }\n        }\n      }\n      for (let i=0; i < mxn.removedNodes.length; i++) {\n        let n = mxn.removedNodes[i];\n        if (n.nodeType === Node.ELEMENT_NODE) {\n          let classes = undefined;\n          if (n.classList) {\n            classes = Array.from(n.classList);\n          } else if (n.hasAttribute('class')) {\n            classes = n.getAttribute('class').split(/\\s+/);\n          }\n          if (classes !== undefined) {\n            // NOTE: relies on the scoping class always being adjacent to the\n            // SCOPE_NAME class.\n            let classIdx = classes.indexOf(StyleTransformer$1.SCOPE_NAME);\n            if (classIdx >= 0) {\n              let scope = classes[classIdx + 1];\n              if (scope) {\n                StyleTransformer$1.dom(n, scope, true);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  let observer = new MutationObserver(handler);\n  let start = (node) => {\n    observer.observe(node, {childList: true, subtree: true});\n  };\n  let nativeCustomElements = (window.customElements &&\n    !window.customElements.flush);\n  // need to start immediately with native custom elements\n  // TODO(dfreedm): with polyfilled HTMLImports and native custom elements\n  // excessive mutations may be observed; this can be optimized via cooperation\n  // with the HTMLImports polyfill.\n  if (nativeCustomElements) {\n    start(document);\n  } else {\n    let delayedStart = () => {\n      start(document.body);\n    };\n    // use polyfill timing if it's available\n    if (window.HTMLImports) {\n      window.HTMLImports.whenReady(delayedStart);\n    // otherwise push beyond native imports being ready\n    // which requires RAF + readystate interactive.\n    } else {\n      requestAnimationFrame(function() {\n        if (document.readyState === 'loading') {\n          let listener = function() {\n            delayedStart();\n            document.removeEventListener('readystatechange', listener);\n          };\n          document.addEventListener('readystatechange', listener);\n        } else {\n          delayedStart();\n        }\n      });\n    }\n  }\n\n  flush$1 = function() {\n    handler(observer.takeRecords());\n  };\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// TODO(dfreedm): consider spliting into separate global\nlet styleCache = new StyleCache();\n\nclass ShadyCSS {\n  constructor() {\n    this._scopeCounter = {};\n    this._documentOwner = document.documentElement;\n    this._documentOwnerStyleInfo = StyleInfo.set(document.documentElement, new StyleInfo({rules: []}));\n    this._elementsHaveApplied = false;\n  }\n  get nativeShadow() {\n    return nativeShadow;\n  }\n  get nativeCss() {\n    return nativeCssVariables;\n  }\n  get nativeCssApply() {\n    return nativeCssApply;\n  }\n  flush() {\n    flush$1();\n  }\n  _generateScopeSelector(name) {\n    let id = this._scopeCounter[name] = (this._scopeCounter[name] || 0) + 1;\n    return `${name}-${id}`;\n  }\n  getStyleAst(style) {\n    return rulesForStyle(style);\n  }\n  styleAstToString(ast) {\n    return toCssText(ast);\n  }\n  _gatherStyles(template) {\n    let styles = template.content.querySelectorAll('style');\n    let cssText = [];\n    for (let i = 0; i < styles.length; i++) {\n      let s = styles[i];\n      cssText.push(s.textContent);\n      s.parentNode.removeChild(s);\n    }\n    return cssText.join('').trim();\n  }\n  _getCssBuild(template) {\n    let style = template.content.querySelector('style');\n    if (!style) {\n      return '';\n    }\n    return style.getAttribute('css-build') || '';\n  }\n  prepareTemplate(template, elementName, typeExtension) {\n    if (template._prepared) {\n      return;\n    }\n    template._prepared = true;\n    template.name = elementName;\n    template.extends = typeExtension;\n    templateMap[elementName] = template;\n    let cssBuild = this._getCssBuild(template);\n    let cssText = this._gatherStyles(template);\n    let info = {\n      is: elementName,\n      extends: typeExtension,\n      __cssBuild: cssBuild,\n    };\n    if (!this.nativeShadow) {\n      StyleTransformer$1.dom(template.content, elementName);\n    }\n    // check if the styling has mixin definitions or uses\n    let hasMixins = applyShim.detectMixin(cssText);\n    let ast = parse(cssText);\n    // only run the applyshim transforms if there is a mixin involved\n    if (hasMixins && this.nativeCss && !this.nativeCssApply) {\n      applyShim.transformRules(ast, elementName);\n    }\n    template._styleAst = ast;\n\n    let ownPropertyNames = [];\n    if (!this.nativeCss) {\n      ownPropertyNames = StyleProperties$1.decorateStyles(template._styleAst, info);\n    }\n    if (!ownPropertyNames.length || this.nativeCss) {\n      let root = this.nativeShadow ? template.content : null;\n      let placeholder = placeholderMap[elementName];\n      let style = this._generateStaticStyle(info, template._styleAst, root, placeholder);\n      template._style = style;\n    }\n    template._ownPropertyNames = ownPropertyNames;\n  }\n  _generateStaticStyle(info, rules, shadowroot, placeholder) {\n    let cssText = StyleTransformer$1.elementStyles(info, rules);\n    if (cssText.length) {\n      return applyCss(cssText, info.is, shadowroot, placeholder);\n    }\n  }\n  _prepareHost(host) {\n    let is = host.getAttribute('is') || host.localName;\n    let typeExtension;\n    if (is !== host.localName) {\n      typeExtension = host.localName;\n    }\n    let placeholder = placeholderMap[is];\n    let template = templateMap[is];\n    let ast;\n    let ownStylePropertyNames;\n    let cssBuild;\n    if (template) {\n      ast = template._styleAst;\n      ownStylePropertyNames = template._ownPropertyNames;\n      cssBuild = template._cssBuild;\n    }\n    return StyleInfo.set(host,\n      new StyleInfo(\n        ast,\n        placeholder,\n        ownStylePropertyNames,\n        is,\n        typeExtension,\n        cssBuild\n      )\n    );\n  }\n  applyStyle(host, overrideProps) {\n    let is = host.getAttribute('is') || host.localName;\n    let styleInfo = StyleInfo.get(host);\n    let hasApplied = Boolean(styleInfo);\n    if (!styleInfo) {\n      styleInfo = this._prepareHost(host);\n    }\n    // Only trip the `elementsHaveApplied` flag if a node other that the root document has `applyStyle` called\n    if (!this._isRootOwner(host)) {\n      this._elementsHaveApplied = true;\n    }\n    if (window.CustomStyle) {\n      let CS = window.CustomStyle;\n      if (CS._documentDirty) {\n        CS.findStyles();\n        if (!this.nativeCss) {\n          this._updateProperties(this._documentOwner, this._documentOwnerStyleInfo);\n        } else if (!this.nativeCssApply) {\n          CS._revalidateApplyShim();\n        }\n        CS.applyStyles();\n        // if no elements have booted yet, we can just update the document and be done\n        if (!this._elementsHaveApplied) {\n          return;\n        }\n        // if no native css custom properties, we must recalculate the whole tree\n        if (!this.nativeCss) {\n          this.updateStyles();\n          /*\n          When updateStyles() runs, this element may not have a shadowroot yet.\n          If not, we need to make sure that this element runs `applyStyle` on itself at least once to generate a style\n          */\n          if (hasApplied) {\n            return;\n          }\n        }\n      }\n    }\n    if (overrideProps) {\n      styleInfo.overrideStyleProperties =\n        styleInfo.overrideStyleProperties || {};\n      Object.assign(styleInfo.overrideStyleProperties, overrideProps);\n    }\n    if (this.nativeCss) {\n      if (styleInfo.overrideStyleProperties) {\n        this._updateNativeProperties(host, styleInfo.overrideStyleProperties);\n      }\n      let template = templateMap[is];\n      // bail early if there is no shadowroot for this element\n      if (!template && !this._isRootOwner(host)) {\n        return;\n      }\n      if (template && template._applyShimInvalid && template._style) {\n        // update template\n        if (!template._validating) {\n          applyShim.transformRules(template._styleAst, is);\n          template._style.textContent = StyleTransformer$1.elementStyles(host, styleInfo.styleRules);\n          StyleInfo.startValidating(is);\n        }\n        // update instance if native shadowdom\n        if (this.nativeShadow) {\n          let root = host.shadowRoot;\n          if (root) {\n            let style = root.querySelector('style');\n            style.textContent = StyleTransformer$1.elementStyles(host, styleInfo.styleRules);\n          }\n        }\n        styleInfo.styleRules = template._styleAst;\n      }\n    } else {\n      this._updateProperties(host, styleInfo);\n      if (styleInfo.ownStylePropertyNames && styleInfo.ownStylePropertyNames.length) {\n        this._applyStyleProperties(host, styleInfo);\n      }\n    }\n    if (hasApplied) {\n      let root = this._isRootOwner(host) ? host : host.shadowRoot;\n      // note: some elements may not have a root!\n      if (root) {\n        this._applyToDescendants(root);\n      }\n    }\n  }\n  _applyToDescendants(root) {\n    let c$ = root.children;\n    for (let i = 0, c; i < c$.length; i++) {\n      c = c$[i];\n      if (c.shadowRoot) {\n        this.applyStyle(c);\n      }\n      this._applyToDescendants(c);\n    }\n  }\n  _styleOwnerForNode(node) {\n    let root = node.getRootNode();\n    let host = root.host;\n    if (host) {\n      if (StyleInfo.get(host)) {\n        return host;\n      } else {\n        return this._styleOwnerForNode(host);\n      }\n    }\n    return this._documentOwner;\n  }\n  _isRootOwner(node) {\n    return (node === this._documentOwner);\n  }\n  _applyStyleProperties(host, styleInfo) {\n    let is = host.getAttribute('is') || host.localName;\n    let cacheEntry = styleCache.fetch(is, styleInfo.styleProperties, styleInfo.ownStylePropertyNames);\n    let cachedScopeSelector = cacheEntry && cacheEntry.scopeSelector;\n    let cachedStyle = cacheEntry ? cacheEntry.styleElement : null;\n    let oldScopeSelector = styleInfo.scopeSelector;\n    // only generate new scope if cached style is not found\n    styleInfo.scopeSelector = cachedScopeSelector || this._generateScopeSelector(is);\n    let style = StyleProperties$1.applyElementStyle(host, styleInfo.styleProperties, styleInfo.scopeSelector, cachedStyle);\n    if (!this.nativeShadow) {\n      StyleProperties$1.applyElementScopeSelector(host, styleInfo.scopeSelector, oldScopeSelector);\n    }\n    if (!cacheEntry) {\n      styleCache.store(is, styleInfo.styleProperties, style, styleInfo.scopeSelector);\n    }\n    return style;\n  }\n  _updateProperties(host, styleInfo) {\n    let owner = this._styleOwnerForNode(host);\n    let ownerStyleInfo = StyleInfo.get(owner);\n    let ownerProperties = ownerStyleInfo.styleProperties;\n    let props = Object.create(ownerProperties || null);\n    let hostAndRootProps = StyleProperties$1.hostAndRootPropertiesForScope(host, styleInfo.styleRules);\n    let propertyData = StyleProperties$1.propertyDataFromStyles(ownerStyleInfo.styleRules, host);\n    let propertiesMatchingHost = propertyData.properties;\n    Object.assign(\n      props,\n      hostAndRootProps.hostProps,\n      propertiesMatchingHost,\n      hostAndRootProps.rootProps\n    );\n    this._mixinOverrideStyles(props, styleInfo.overrideStyleProperties);\n    StyleProperties$1.reify(props);\n    styleInfo.styleProperties = props;\n  }\n  _mixinOverrideStyles(props, overrides) {\n    for (let p in overrides) {\n      let v = overrides[p];\n      // skip override props if they are not truthy or 0\n      // in order to fall back to inherited values\n      if (v || v === 0) {\n        props[p] = v;\n      }\n    }\n  }\n  _updateNativeProperties(element, properties) {\n    // remove previous properties\n    for (let p in properties) {\n      // NOTE: for bc with shim, don't apply null values.\n      if (p === null) {\n        element.style.removeProperty(p);\n      } else {\n        element.style.setProperty(p, properties[p]);\n      }\n    }\n  }\n  updateStyles(properties) {\n    this.applyStyle(this._documentOwner, properties);\n  }\n  /* Custom Style operations */\n  _transformCustomStyleForDocument(style) {\n    let ast = rulesForStyle(style);\n    forEachRule(ast, (rule) => {\n      if (nativeShadow) {\n        StyleTransformer$1.normalizeRootSelector(rule);\n      } else {\n        StyleTransformer$1.documentRule(rule);\n      }\n      if (this.nativeCss && !this.nativeCssApply) {\n        applyShim.transformRule(rule);\n      }\n    });\n    if (this.nativeCss) {\n      style.textContent = toCssText(ast);\n    } else {\n      this._documentOwnerStyleInfo.styleRules.rules.push(ast);\n    }\n  }\n  _revalidateApplyShim(style) {\n    if (this.nativeCss && !this.nativeCssApply) {\n      let ast = rulesForStyle(style);\n      applyShim.transformRules(ast);\n      style.textContent = toCssText(ast);\n    }\n  }\n  _applyCustomStyleToDocument(style) {\n    if (!this.nativeCss) {\n      StyleProperties$1.applyCustomStyle(style, this._documentOwnerStyleInfo.styleProperties);\n    }\n  }\n  getComputedStyleValue(element, property) {\n    let value;\n    if (!this.nativeCss) {\n      // element is either a style host, or an ancestor of a style host\n      let styleInfo = StyleInfo.get(element) || StyleInfo.get(this._styleOwnerForNode(element));\n      value = styleInfo.styleProperties[property];\n    }\n    // fall back to the property value from the computed styling\n    value = value || window.getComputedStyle(element).getPropertyValue(property);\n    // trim whitespace that can come after the `:` in css\n    // example: padding: 2px -> \" 2px\"\n    return value.trim();\n  }\n  // given an element and a classString, replaces\n  // the element's class with the provided classString and adds\n  // any necessary ShadyCSS static and property based scoping selectors\n  setElementClass(element, classString) {\n    let root = element.getRootNode();\n    let classes = classString ? classString.split(/\\s/) : [];\n    let scopeName = root.host && root.host.localName;\n    // If no scope, try to discover scope name from existing class.\n    // This can occur if, for example, a template stamped element that\n    // has been scoped is manipulated when not in a root.\n    if (!scopeName) {\n      var classAttr = element.getAttribute('class');\n      if (classAttr) {\n        let k$ = classAttr.split(/\\s/);\n        for (let i=0; i < k$.length; i++) {\n          if (k$[i] === StyleTransformer$1.SCOPE_NAME) {\n            scopeName = k$[i+1];\n            break;\n          }\n        }\n      }\n    }\n    if (scopeName) {\n      classes.push(StyleTransformer$1.SCOPE_NAME, scopeName);\n    }\n    if (!this.nativeCss) {\n      let styleInfo = StyleInfo.get(element);\n      if (styleInfo && styleInfo.scopeSelector) {\n        classes.push(StyleProperties$1.XSCOPE_NAME, styleInfo.scopeSelector);\n      }\n    }\n    setElementClassRaw(element, classes.join(' '));\n  }\n  _styleInfoForNode(node) {\n    return StyleInfo.get(node);\n  }\n}\n\nwindow['ShadyCSS'] = new ShadyCSS();\n\n/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function(scope) {\n\n  'use strict';\n\n  HTMLImports.whenReady(function() {\n    requestAnimationFrame(function() {\n      window.dispatchEvent(new CustomEvent('WebComponentsReady'));\n    });\n  });\n\n})(window.WebComponents);\n\n/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function(scope) {\n\n  // It's desireable to provide a default stylesheet\n  // that's convenient for styling unresolved elements, but\n  // it's cumbersome to have to include this manually in every page.\n  // It would make sense to put inside some HTMLImport but\n  // the HTMLImports polyfill does not allow loading of stylesheets\n  // that block rendering. Therefore this injection is tolerated here.\n  //\n  // NOTE: position: relative fixes IE's failure to inherit opacity\n  // when a child is not statically positioned.\n  var style = document.createElement('style');\n  style.textContent = ''\n      + 'body {'\n      + 'transition: opacity ease-in 0.2s;'\n      + ' } \\n'\n      + 'body[unresolved] {'\n      + 'opacity: 0; display: block; overflow: hidden; position: relative;'\n      + ' } \\n'\n      ;\n  var head = document.querySelector('head');\n  head.insertBefore(style, head.firstChild);\n\n})(window.WebComponents);\n\n/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\n * Polyfills loaded: HTML Imports, Custom Elements, Shady DOM/Shady CSS, platform polyfills (URL/template)\n * Used in: IE 11\n */\n\n}());\n","export function objectOrFunction(x) {\n  return typeof x === 'function' || (typeof x === 'object' && x !== null);\n}\n\nexport function isFunction(x) {\n  return typeof x === 'function';\n}\n\nexport function isMaybeThenable(x) {\n  return typeof x === 'object' && x !== null;\n}\n\nlet _isArray;\nif (!Array.isArray) {\n  _isArray = x => Object.prototype.toString.call(x) === '[object Array]';\n} else {\n  _isArray = Array.isArray;\n}\n\nexport const isArray = _isArray;\n","let len = 0;\nlet vertxNext;\nlet customSchedulerFn;\n\nexport var asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n}\n\nexport function setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nexport function setAsap(asapFn) {\n  asap = asapFn;\n}\n\nconst browserWindow = (typeof window !== 'undefined') ? window : undefined;\nconst browserGlobal = browserWindow || {};\nconst BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nconst isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nconst isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n  typeof importScripts !== 'undefined' &&\n  typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return () => process.nextTick(flush);\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function() {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  let iterations = 0;\n  const observer = new BrowserMutationObserver(flush);\n  const node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return () => {\n    node.data = (iterations = ++iterations % 2);\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  const channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return () => channel.port2.postMessage(0);\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  const globalSetTimeout = setTimeout;\n  return () => globalSetTimeout(flush, 1);\n}\n\nconst queue = new Array(1000);\nfunction flush() {\n  for (let i = 0; i < len; i+=2) {\n    let callback = queue[i];\n    let arg = queue[i+1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i+1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    const r = require;\n    const vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch(e) {\n    return useSetTimeout();\n  }\n}\n\nlet scheduleFlush;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n","import {\n  invokeCallback,\n  subscribe,\n  FULFILLED,\n  REJECTED,\n  noop,\n  makePromise,\n  PROMISE_ID\n} from './-internal';\n\nimport { asap } from './asap';\n\nexport default function then(onFulfillment, onRejection) {\n  const parent = this;\n\n  const child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  const { _state } = parent;\n\n  if (_state) {\n    const callback = arguments[_state - 1];\n    asap(() => invokeCallback(_state, child, callback, parent._result));\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n","import {\n  noop,\n  resolve as _resolve\n} from '../-internal';\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nexport default function resolve(object) {\n  /*jshint validthis:true */\n  let Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  let promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}\n","import {\n  objectOrFunction,\n  isFunction\n} from './utils';\n\nimport {\n  asap\n} from './asap';\n\nimport originalThen from './then';\nimport originalResolve from './promise/resolve';\n\nexport const PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nconst PENDING   = void 0;\nconst FULFILLED = 1;\nconst REJECTED  = 2;\n\nconst GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch(error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch(e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n   asap(promise => {\n    var sealed = false;\n    var error = tryThen(then, thenable, value => {\n      if (sealed) { return; }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, reason => {\n      if (sealed) { return; }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, value  => resolve(promise, value),\n                                   reason => reject(promise, reason))\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then) {\n  if (maybeThenable.constructor === promise.constructor &&\n      then === originalThen &&\n      maybeThenable.constructor.resolve === originalResolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n    } else if (then === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then)) {\n      handleForeignThenable(promise, maybeThenable, then);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) { return; }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) { return; }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  let { _subscribers } = parent;\n  let { length } = _subscribers;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED]  = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  let subscribers = promise._subscribers;\n  let settled = promise._state;\n\n  if (subscribers.length === 0) { return; }\n\n  let child, callback, detail = promise._result;\n\n  for (let i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nconst TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch(e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  let hasCallback = isFunction(callback),\n      value, error, succeeded, failed;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (failed) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value){\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch(e) {\n    reject(promise, e);\n  }\n}\n\nlet id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nexport {\n  nextId,\n  makePromise,\n  getThen,\n  noop,\n  resolve,\n  reject,\n  fulfill,\n  subscribe,\n  publish,\n  publishRejection,\n  initializePromise,\n  invokeCallback,\n  FULFILLED,\n  REJECTED,\n  PENDING,\n  handleMaybeThenable\n};\n","import {\n  isArray,\n  isMaybeThenable\n} from './utils';\n\nimport {\n  noop,\n  reject,\n  fulfill,\n  subscribe,\n  FULFILLED,\n  REJECTED,\n  PENDING,\n  getThen,\n  handleMaybeThenable\n} from './-internal';\n\nimport then from './then';\nimport Promise from './promise';\nimport originalResolve from './promise/resolve';\nimport originalThen from './then';\nimport { makePromise, PROMISE_ID } from './-internal';\n\nexport default Enumerator;\nfunction Enumerator(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this._input     = input;\n    this.length     = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nEnumerator.prototype._enumerate = function() {\n  let { length, _input } = this;\n\n  for (let i = 0; this._state === PENDING && i < length; i++) {\n    this._eachEntry(_input[i], i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function(entry, i) {\n  let c = this._instanceConstructor;\n  let { resolve } = c;\n\n  if (resolve === originalResolve) {\n    let then = getThen(entry);\n\n    if (then === originalThen &&\n        entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise) {\n      let promise = new c(noop);\n      handleMaybeThenable(promise, entry, then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(resolve => resolve(entry)), i);\n    }\n  } else {\n    this._willSettleAt(resolve(entry), i);\n  }\n};\n\nEnumerator.prototype._settledAt = function(state, i, value) {\n  let { promise } = this;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator.prototype._willSettleAt = function(promise, i) {\n  let enumerator = this;\n\n  subscribe(promise, undefined, value => enumerator._settledAt(FULFILLED, i, value),\n                               reason => enumerator._settledAt(REJECTED, i, reason));\n};\n","import {\n  isFunction\n} from './utils';\n\nimport {\n  noop,\n  nextId,\n  PROMISE_ID,\n  initializePromise\n} from './-internal';\n\nimport {\n  asap,\n  setAsap,\n  setScheduler\n} from './asap';\n\nimport all from './promise/all';\nimport race from './promise/race';\nimport Resolve from './promise/resolve';\nimport Reject from './promise/reject';\nimport then from './then';\n\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nexport default function Promise(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = Resolve;\nPromise.reject = Reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;\n\nPromise.prototype = {\n  constructor: Promise,\n\n/**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n\n  ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n\n  Chaining\n  --------\n\n  The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n\n  ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n\n  findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n  ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n\n  Assimilation\n  ------------\n\n  Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n\n  ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n\n  If the assimliated promise rejects, then the downstream promise will also reject.\n\n  ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n\n  Simple Example\n  --------------\n\n  Synchronous Example\n\n  ```javascript\n  let result;\n\n  try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n\n  Errback Example\n\n  ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n\n  Promise Example;\n\n  ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n\n  Advanced Example\n  --------------\n\n  Synchronous Example\n\n  ```javascript\n  let author, books;\n\n  try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n\n  Errback Example\n\n  ```js\n\n  function foundBooks(books) {\n\n  }\n\n  function failure(reason) {\n\n  }\n\n  findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n\n  Promise Example;\n\n  ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n\n  @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n*/\n  then: then,\n\n/**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n\n  ```js\n  function findAuthor(){\n    throw new Error('couldn't find that author');\n  }\n\n  // synchronous\n  try {\n    findAuthor();\n  } catch(reason) {\n    // something went wrong\n  }\n\n  // async with promises\n  findAuthor().catch(function(reason){\n    // something went wrong\n  });\n  ```\n\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n*/\n  catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n","'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&'function'==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,'value'in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}(function(){'use strict';/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/function t(Qt){return!('ShadyRoot'!==Qt.__localName)}function o(Qt){var Kt=Qt.getRootNode();if(t(Kt))return Kt}function r(Qt,Kt){return We.call(Qt,Kt)}function a(Qt,Kt,Jt){var Yt=Object.getOwnPropertyDescriptor(Kt,Qt);Yt&&Object.defineProperty(Jt,Qt,Yt)}function _(Qt,Kt){if(Qt&&Kt){var Jt=Object.getOwnPropertyNames(Kt);for(var Zt,Yt=0;Yt<Jt.length&&(Zt=Jt[Yt]);Yt++)a(Zt,Kt,Qt)}return Qt||Kt}function h(Qt){for(var _len=arguments.length,Kt=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)Kt[_key-1]=arguments[_key];for(var Jt=0;Jt<Kt.length;Jt++)_(Qt,Kt[Jt]);return Qt}function u(Qt,Kt){for(var Jt in Kt)Qt[Jt]=Kt[Jt];return Qt}function g(Qt,Kt){var Jt=Object.getPrototypeOf(Qt);if(!Jt.hasOwnProperty('__patchProto')){var Yt=Object.create(Jt);Yt.__sourceProto=Jt,_(Yt,Kt),Jt.__patchProto=Yt}Qt.__proto__=Jt.__patchProto}function y(Qt){He||(He=!0,Fe.then(N)),je.push(Qt)}function N(){for(He=!1,qe++;je.length;)je.shift()();Ue&&Ue.flush&&Ue.flush();var Qt=100<qe;if(je.length&&!Qt&&N(),qe=0,Qt)throw new Error('Loop detected in ShadyDOM distribution, aborting.')}function b(Qt,Kt){var Jt=Kt.getRootNode();return Qt.map(function(Yt){var Zt=Jt===Yt.target.getRootNode();if(Zt&&Yt.addedNodes){var $t=Array.from(Yt.addedNodes).filter(function(eo){return Jt===eo.getRootNode()});if($t.length)return Yt=Object.create(Yt),Object.defineProperty(Yt,'addedNodes',{value:$t,configurable:!0}),Yt}else if(Zt)return Yt}).filter(function(Yt){return Yt})}function f(Qt){return'&'===Qt?'&amp;':'<'===Qt?'&lt;':'>'===Qt?'&gt;':'\"'===Qt?'&quot;':'\\xA0'===Qt?'&nbsp;':void 0}function v(Qt){return Qt.replace(ht,f)}function E(Qt){return Qt.replace(pt,f)}function S(Qt){var Kt={};for(var Jt=0;Jt<Qt.length;Jt++)Kt[Qt[Jt]]=!0;return Kt}function P(Qt,Kt,Jt){switch(Qt.nodeType){case Node.ELEMENT_NODE:{var Yt=Qt.localName,Zt='<'+Yt,$t=Qt.attributes;for(var to,eo=0;to=$t[eo];eo++)Zt+=' '+to.name+'=\"'+v(to.value)+'\"';return Zt+='>',ut[Yt]?Zt:Zt+C(Qt,Jt)+'</'+Yt+'>'}case Node.TEXT_NODE:{var _Yt=Qt.data;return Kt&&ct[Kt.localName]?_Yt:E(_Yt)}case Node.COMMENT_NODE:return'<!--'+Qt.data+'-->';default:throw window.console.error(Qt),new Error('not implemented');}}function C(Qt,Kt){'template'===Qt.localName&&(Qt=Qt.content);var Jt='',Yt=Kt?Kt(Qt):Qt.childNodes;for(var eo,Zt=0,$t=Yt.length;Zt<$t&&(eo=Yt[Zt]);Zt++)Jt+=P(eo,Qt,Kt);return Jt}function T(Qt){return gt.currentNode=Qt,gt.parentNode()}function D(Qt){return gt.currentNode=Qt,gt.firstChild()}function O(Qt){return gt.currentNode=Qt,gt.lastChild()}function M(Qt){var Kt=[];gt.currentNode=Qt;for(var Jt=gt.firstChild();Jt;)Kt.push(Jt),Jt=gt.nextSibling();return Kt}function R(Qt){return yt.currentNode=Qt,yt.firstChild()}function x(Qt){return yt.currentNode=Qt,yt.lastChild()}function I(Qt){return yt.currentNode=Qt,yt.previousSibling()}function A(Qt){return yt.currentNode=Qt,yt.nextSibling()}function w(Qt){var Kt=[];yt.currentNode=Qt;for(var Jt=yt.firstChild();Jt;)Kt.push(Jt),Jt=yt.nextSibling();return Kt}function L(Qt){return C(Qt,function(Kt){return M(Kt)})}function k(Qt){if(Qt.nodeType!==Node.ELEMENT_NODE)return Qt.nodeValue;for(var Yt,Kt=document.createTreeWalker(Qt,NodeFilter.SHOW_TEXT,null,!1),Jt='';Yt=Kt.nextNode();)Jt+=Yt.nodeValue;return Jt}function W(Qt,Kt){return Qt.__shady&&Qt.__shady[Kt]}function F(Qt,Kt){return W(Qt,Kt)!==void 0}function U(Qt){return{get:function get(){var Kt=W(this,Qt);return Kt===void 0?Nt[Qt](this):Kt},configurable:!0}}function H(Qt,Kt){var Jt=Array.from(Kt.childNodes);for(var Yt=0;Yt<Jt.length;Yt++)Qt.appendChild(Jt[Yt])}function q(Qt){for(;Qt.firstChild;)Qt.removeChild(Qt.firstChild)}function G(){if(bt&&bt.get)return bt.get.call(document);return we.hasDescriptors?void 0:document.activeElement}function B(Qt){var Kt=G();if(!Kt)return null;var Jt=!!t(Qt);if(Qt!==document){if(!Jt)return null;if(Qt.host===Kt||!Qt.host.contains(Kt))return null}for(var Yt=o(Kt);Yt&&Yt!==Qt;)Kt=Yt.host,Yt=o(Kt);return Qt===document?Yt?null:Kt:Yt===Qt?Kt:null}function z(Qt,Kt,Jt){for(var Yt in Kt){var Zt=Object.getOwnPropertyDescriptor(Qt,Yt);Zt&&Zt.configurable||!Zt&&Jt?Object.defineProperty(Qt,Yt,Kt[Yt]):Jt&&console.warn('Could not define',Yt,'on',Qt)}}function V(Qt){z(Qt,ft),z(Qt,vt),z(Qt,St)}function X(Qt,Kt,Jt){if(Ct(Kt),Kt.__shady=Kt.__shady||{},F(Kt,'firstChild')&&(Kt.__shady.childNodes=null),Qt.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var Yt=Qt.childNodes;for(var $t=0;$t<Yt.length;$t++)Q(Yt[$t],Kt,Jt);Qt.__shady=Qt.__shady||{};var Zt=F(Qt,'firstChild')?null:void 0;Qt.__shady.firstChild=Qt.__shady.lastChild=Zt,Qt.__shady.childNodes=Zt}else Q(Qt,Kt,Jt)}function Q(Qt,Kt,Jt){Pt(Qt),Jt=Jt||null,Qt.__shady=Qt.__shady||{},Kt.__shady=Kt.__shady||{},Jt&&(Jt.__shady=Jt.__shady||{}),Qt.__shady.previousSibling=Jt?Jt.__shady.previousSibling:Kt.lastChild;var Yt=Qt.__shady.previousSibling;Yt&&Yt.__shady&&(Yt.__shady.nextSibling=Qt);var Zt=Qt.__shady.nextSibling=Jt;Zt&&Zt.__shady&&(Zt.__shady.previousSibling=Qt),Qt.__shady.parentNode=Kt,Jt?Jt===Kt.__shady.firstChild&&(Kt.__shady.firstChild=Qt):(Kt.__shady.lastChild=Qt,!Kt.__shady.firstChild&&(Kt.__shady.firstChild=Qt)),Kt.__shady.childNodes=null}function K(Qt,Kt){Qt.__shady=Qt.__shady||{},Kt.__shady=Kt.__shady||{},Qt===Kt.__shady.firstChild&&(Kt.__shady.firstChild=Qt.__shady.nextSibling),Qt===Kt.__shady.lastChild&&(Kt.__shady.lastChild=Qt.__shady.previousSibling);var Jt=Qt.__shady.previousSibling,Yt=Qt.__shady.nextSibling;Jt&&(Jt.__shady=Jt.__shady||{},Jt.__shady.nextSibling=Yt),Yt&&(Yt.__shady=Yt.__shady||{},Yt.__shady.previousSibling=Jt),Qt.__shady.parentNode=Qt.__shady.previousSibling=Qt.__shady.nextSibling=void 0,F(Kt,'childNodes')&&(Kt.__shady.childNodes=null)}function J(Qt,Kt,Jt){var Yt=o(Qt),Zt;Yt&&(Kt.__noInsertionPoint&&!Yt._changePending&&(Yt._skipUpdateInsertionPoints=!0),Zt=se(Kt,Qt,Yt),Zt&&(Yt._skipUpdateInsertionPoints=!1)),F(Qt,'firstChild')&&X(Kt,Qt,Jt);var $t=oe(Kt,Qt,Yt,Zt)||Qt.shadyRoot;return $t}function Y(Qt){var Kt=F(Qt,'parentNode')&&W(Qt,'parentNode'),Jt,Yt=o(Qt);if(Kt||Yt){Jt=le(Qt),Kt&&K(Qt,Kt);var Zt=Yt&&re(Yt,Qt),$t=Kt&&Yt&&Kt.localName===Yt.getInsertionPointTag();(Zt||$t)&&(Yt._skipUpdateInsertionPoints=!1,_e(Yt))}return ie(Qt),Jt}function Z(Qt,Kt,Jt){var Yt=Qt.__shady&&Qt.__shady.observer;Yt&&(Kt&&Yt.addedNodes.push(Kt),Jt&&Yt.removedNodes.push(Jt),Yt.schedule())}function $(Qt,Kt){return Kt?(Z(Kt,null,Qt),Y(Qt)):void ie(Qt)}function ee(Qt){return!(Qt.__ownerShadyRoot===void 0)}function te(Qt){if(Qt&&Qt.nodeType){var _Kt=Qt.__ownerShadyRoot;if(void 0===_Kt){if(t(Qt))_Kt=Qt;else{var Jt=Qt.parentNode;_Kt=Jt?te(Jt):Qt}document.documentElement.contains(Qt)&&(Qt.__ownerShadyRoot=_Kt)}return _Kt}}function oe(Qt,Kt,Jt,Yt){var Zt=Jt&&Jt.getInsertionPointTag()||'',$t=Qt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!Qt.__noInsertionPoint&&Zt&&Qt.querySelector(Zt),eo=$t&&$t.parentNode.nodeType!==Node.DOCUMENT_FRAGMENT_NODE,to=$t||Qt.localName===Zt;(to||Kt.localName===Zt||Yt)&&Jt&&_e(Jt);var oo=ne(Kt);return oo&&_e(Kt.shadyRoot),oo||to&&!eo}function se(Qt,Kt,Jt){var Yt,Zt=Jt.getInsertionPointTag();if(Qt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!Qt.__noInsertionPoint){var $t=Qt.querySelectorAll(Zt);for(var to,oo,so,eo=0;eo<$t.length&&(to=$t[eo]);eo++)oo=to.parentNode,oo===Qt&&(oo=Kt),so=se(to,oo,Jt),Yt=Yt||so}else Qt.localName===Zt&&(Tt(Kt),Tt(Qt),Yt=!0);return Yt}function ne(Qt){return Qt&&Qt.shadyRoot&&Qt.shadyRoot.hasInsertionPoint()}function re(Qt,Kt){var Jt,Yt=Qt._insertionPoints;for(var Zt=0;Zt<Yt.length;Zt++){var $t=Yt[Zt];if(de(Kt,$t)){var eo=$t.assignedNodes({flatten:!0});for(var to=0;to<eo.length;to++){Jt=!0;var oo=eo[to],so=T(oo);so&&Ye.call(so,oo)}}}return Jt}function de(Qt,Kt){for(;Kt;){if(Kt==Qt)return!0;Kt=Kt.parentNode}}function ie(Qt){if(ee(Qt)){var Kt=Qt.childNodes;for(var Zt,Jt=0,Yt=Kt.length;Jt<Yt&&(Zt=Kt[Jt]);Jt++)ie(Zt)}Qt.__ownerShadyRoot=void 0}function ae(Qt){var Kt=Qt.assignedNodes({flatten:!0}),Jt=te(Qt);for(var $t,Yt=0,Zt=Kt.length;Yt<Zt&&($t=Kt[Yt]);Yt++)if(Jt.isFinalDestination(Qt,$t))return $t}function le(Qt){var Kt=Qt.parentNode;if(ne(Kt))return _e(Kt.shadyRoot),!0}function _e(Qt){Qt._changePending=!0,Qt.update()}function he(Qt,Kt){if('slot'===Kt)le(Qt);else if('slot'===Qt.localName&&'name'===Kt){var Jt=o(Qt);Jt&&Jt.update()}}function pe(Qt,Kt,Jt){var Yt=[];return ue(Qt.childNodes,Kt,Jt,Yt),Yt}function ue(Qt,Kt,Jt,Yt){for(var eo,Zt=0,$t=Qt.length;Zt<$t&&(eo=Qt[Zt]);Zt++)if(eo.nodeType===Node.ELEMENT_NODE&&ce(eo,Kt,Jt,Yt))return!0}function ce(Qt,Kt,Jt,Yt){var Zt=Kt(Qt);return Zt&&Yt.push(Qt),Jt&&Jt(Zt)?Zt:void ue(Qt.childNodes,Kt,Jt,Yt)}function ge(Qt){var Kt=Qt.getRootNode();t(Kt)&&Kt.render()}function ye(Qt,Kt,Jt){window.ShadyCSS&&'class'===Kt&&Qt.ownerDocument===document?window.ShadyCSS.setElementClass(Qt,Jt):($e.call(Qt,Kt,Jt),he(Qt,Kt))}function Ne(Qt,Kt){tt.call(Qt,Kt),he(Qt,Kt)}function me(Qt,Kt,Jt){if(Jt){var Yt=W(Jt,'parentNode');if(void 0!==Yt&&Yt!==Qt)throw Error('The ref_node to be inserted before is not a child of this node')}if(Kt.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var _Yt2=W(Kt,'parentNode');$(Kt,_Yt2)}if(!J(Qt,Kt,Jt)){if(Jt){var Zt=o(Jt);Zt&&(Jt=Jt.localName===Zt.getInsertionPointTag()?ae(Jt):Jt)}var _Yt3=t(Qt)?Qt.host:Qt;Jt?Ke.call(_Yt3,Kt,Jt):Xe.call(_Yt3,Kt)}return Z(Qt,Kt),Kt}function be(Qt,Kt){if(Kt.parentNode!==Qt)throw Error('The node to be removed is not a child of this node: '+Kt);if(!Y(Kt)){var Jt=t(Qt)?Qt.host:Qt,Yt=T(Kt);Jt===Yt&&Ye.call(Jt,Kt)}return Z(Qt,null,Kt),Kt}function fe(Qt,Kt){if('template'==Qt.localName)return st.call(Qt,Kt);var Jt=st.call(Qt,!1);if(Kt){var Yt=Qt.childNodes;for(var _$t,_Zt=0;_Zt<Yt.length;_Zt++)_$t=Yt[_Zt].cloneNode(!0),Jt.appendChild(_$t)}return Jt}function ve(Qt,Kt,Jt){if(Jt||(Jt=rt),Qt.ownerDocument!==document)return Jt.call(document,Qt,Kt);var Yt=Jt.call(document,Qt,!1);if(Kt){var Zt=Qt.childNodes;for(var eo,$t=0;$t<Zt.length;$t++)eo=ve(Zt[$t],!0,Jt),Yt.appendChild(eo)}return Yt}function Ee(Qt,Kt){for(var Jt=[],Yt=Qt,Zt=Qt===window?window:Qt.getRootNode();Yt;)Jt.push(Yt),Yt=Yt.assignedSlot?Yt.assignedSlot:Yt.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Yt.host&&(Kt||Yt!==Zt)?Yt.host:Yt.parentNode;return Jt[Jt.length-1]===document&&Jt.push(window),Jt}function Se(Qt,Kt){if(!t)return Qt;var Jt=Ee(Qt,!0),Yt=Kt;for(var $t,eo,to,oo,Zt=0;Zt<Yt.length;Zt++)if($t=Yt[Zt],to=$t===window?window:$t.getRootNode(),to!=eo&&(oo=Jt.indexOf(to),eo=to),!t(to)||-1<oo)return $t}function Pe(Qt){var Kt=function Kt(Jt,Yt){var Zt=new Qt(Jt,Yt);return Zt.__composed=Yt&&!!Yt.composed,Zt};return u(Kt,Qt),Kt.prototype=Qt.prototype,Kt}function Ce(Qt,Kt,Jt){var Yt=Kt.__handlers&&Kt.__handlers[Qt.type]&&Kt.__handlers[Qt.type][Jt];if(Yt)for(var _$t2,_Zt2=0;_$t2=Yt[_Zt2];_Zt2++)if(_$t2.call(Kt,Qt),Qt.__immediatePropagationStopped)return}function Te(Qt){var Kt=Qt.composedPath(),Jt;Object.defineProperty(Qt,'currentTarget',{get:function get(){return Jt},configurable:!0});for(var Zt=Kt.length-1;0<=Zt;Zt--)if(Jt=Kt[Zt],Ce(Qt,Jt,'capture'),Qt.__propagationStopped)return;Object.defineProperty(Qt,'eventPhase',{value:Event.AT_TARGET});var Yt;for(var _Zt3=0;_Zt3<Kt.length;_Zt3++)if(Jt=Kt[_Zt3],(0===_Zt3||Jt.shadowRoot&&Jt.shadowRoot===Yt)&&(Ce(Qt,Jt,'bubble'),Jt!==window&&(Yt=Jt.getRootNode()),Qt.__propagationStopped))return}function De(){for(var Qt in Mt)window.addEventListener(Qt,function(Kt){Kt.__target||(Kt.__target=Kt.target,Kt.__relatedTarget=Kt.relatedTarget,g(Kt,Ot),Te(Kt),Kt.stopImmediatePropagation())},!0)}function Oe(){window.Event=Rt,window.CustomEvent=xt,window.MouseEvent=It,De()}function Me(Qt,Kt,Jt){return{index:Qt,removed:Kt,addedCount:Jt}}function Re(Qt,Kt){if(!Qt)throw'Must provide a host.';if(!Kt)throw'Not enough arguments.';var Jt=document.createDocumentFragment();return Jt.__proto__=Ht,Jt._init(Qt),Jt}function xe(Qt){return ge(Qt),W(Qt,'assignedSlot')||null}function Ie(Qt,Kt){var Jt=Object.getOwnPropertyNames(Kt);for(var Yt=0;Yt<Jt.length;Yt++){var Zt=Jt[Yt],$t=Object.getOwnPropertyDescriptor(Kt,Zt);$t.value?Qt[Zt]=$t.value:Object.defineProperty(Qt,Zt,$t)}}function Ae(){Ie(window.Node.prototype,qt),Ie(window.Text.prototype,Gt),Ie(window.DocumentFragment.prototype,Bt),Ie(window.Element.prototype,Vt),Ie(window.Document.prototype,Xt);var Qt=document.importNode;if(document.importNode=function(Kt,Jt){return ve(Kt,Jt,Qt)},window.HTMLSlotElement&&Ie(window.HTMLSlotElement.prototype,zt),we.hasDescriptors){V(window.Node.prototype),V(window.Text.prototype),V(window.DocumentFragment.prototype),V(window.Element.prototype);var Kt=window.customElements&&customElements.nativeHTMLElement||HTMLElement;V(Kt.prototype),V(window.Document.prototype),window.HTMLSlotElement&&V(window.HTMLSlotElement.prototype)}}var we=window.ShadyDOM||{};we.hasNativeShadowDOM=!!(Element.prototype.attachShadow&&Node.prototype.getRootNode);var Le=Object.getOwnPropertyDescriptor(Node.prototype,'firstChild');we.hasDescriptors=!!(Le&&Le.configurable&&Le.get),we.inUse=we.force||!we.hasNativeShadowDOM;var ke=Element.prototype,We=ke.matches||ke.matchesSelector||ke.mozMatchesSelector||ke.msMatchesSelector||ke.oMatchesSelector||ke.webkitMatchesSelector,Fe;window.Promise?Fe=Promise.resolve():function(){var Qt=document.createTextNode(''),Kt=0;Fe={then:function then(Jt){var Yt=new MutationObserver(function(){Yt.disconnect(),Jt()});Yt.observe(Qt,{characterData:!0}),Qt.textContent=Kt++}}}();var Ue=window.customElements,je=[],He,qe=0;N.list=je;var Ge=function(){function Ge(){_classCallCheck(this,Ge),this._scheduled=!1,this.addedNodes=[],this.removedNodes=[],this.callbacks=new Set}return _createClass(Ge,[{key:'schedule',value:function schedule(){var _this=this;this._scheduled||(this._scheduled=!0,Fe.then(function(){_this.flush()}))}},{key:'flush',value:function flush(){var _this2=this;this._scheduled&&function(){_this2._scheduled=!1;var Qt=_this2.takeRecords();Qt.length&&_this2.callbacks.forEach(function(Kt){Kt(Qt)})}()}},{key:'takeRecords',value:function takeRecords(){if(this.addedNodes.length||this.removedNodes.length){var Qt=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],Qt}return[]}}]),Ge}(),Be=function Be(Qt,Kt){Qt.__shady=Qt.__shady||{},Qt.__shady.observer||(Qt.__shady.observer=new Ge),Qt.__shady.observer.callbacks.add(Kt);var Jt=Qt.__shady.observer;return{_callback:Kt,_observer:Jt,_node:Qt,takeRecords:function takeRecords(){return Jt.takeRecords()}}},ze=function ze(Qt){var Kt=Qt&&Qt._observer;Kt&&(Kt.callbacks.delete(Qt._callback),!Kt.callbacks.size&&(Qt._node.__shady.observer=null))},Ve=Element.prototype.appendChild,Xe=Ve,Qe=Element.prototype.insertBefore,Ke=Qe,Je=Element.prototype.removeChild,Ye=Je,Ze=Element.prototype.setAttribute,$e=Ze,et=Element.prototype.removeAttribute,tt=et,ot=Element.prototype.cloneNode,st=ot,nt=Document.prototype.importNode,rt=nt,dt=Element.prototype.addEventListener,it=dt,at=Element.prototype.removeEventListener,lt=at,_t=Object.freeze({appendChild:Xe,insertBefore:Ke,removeChild:Ye,setAttribute:$e,removeAttribute:tt,cloneNode:st,importNode:rt,addEventListener:it,removeEventListener:lt}),ht=/[&\\u00A0\"]/g,pt=/[&\\u00A0<>]/g,ut=S(['area','base','br','col','command','embed','hr','img','input','keygen','link','meta','param','source','track','wbr']),ct=S(['style','script','xmp','iframe','noembed','noframes','plaintext','noscript']),gt=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),yt=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),Nt=Object.freeze({parentNode:T,firstChild:D,lastChild:O,previousSibling:function previousSibling(Kt){return gt.currentNode=Kt,gt.previousSibling()},nextSibling:function nextSibling(Kt){return gt.currentNode=Kt,gt.nextSibling()},childNodes:M,parentElement:function parentElement(Kt){return yt.currentNode=Kt,yt.parentNode()},firstElementChild:R,lastElementChild:x,previousElementSibling:I,nextElementSibling:A,children:w,innerHTML:L,textContent:k}),mt=new DOMParser,bt=Object.getOwnPropertyDescriptor(Document.prototype,'activeElement'),ft={parentElement:U('parentElement'),parentNode:U('parentNode'),nextSibling:U('nextSibling'),previousSibling:U('previousSibling'),className:{get:function get(){return this.getAttribute('class')},set:function set(Qt){this.setAttribute('class',Qt)},configurable:!0},nextElementSibling:{get:function get(){if(F(this,'nextSibling')){for(var Qt=this.nextSibling;Qt&&Qt.nodeType!==Node.ELEMENT_NODE;)Qt=Qt.nextSibling;return Qt}return A(this)},configurable:!0},previousElementSibling:{get:function get(){if(F(this,'previousSibling')){for(var Qt=this.previousSibling;Qt&&Qt.nodeType!==Node.ELEMENT_NODE;)Qt=Qt.previousSibling;return Qt}return I(this)},configurable:!0}},vt={childNodes:{get:function get(){if(F(this,'firstChild')){if(!this.__shady.childNodes){this.__shady.childNodes=[];for(var Qt=this.firstChild;Qt;Qt=Qt.nextSibling)this.__shady.childNodes.push(Qt)}return this.__shady.childNodes}return M(this)},configurable:!0},firstChild:U('firstChild'),lastChild:U('lastChild'),textContent:{get:function get(){if(F(this,'firstChild')){var Qt=[];for(var Yt,Kt=0,Jt=this.childNodes;Yt=Jt[Kt];Kt++)Yt.nodeType!==Node.COMMENT_NODE&&Qt.push(Yt.textContent);return Qt.join('')}return k(this)},set:function set(Qt){this.nodeType===Node.ELEMENT_NODE?(q(this),Qt&&this.appendChild(document.createTextNode(Qt))):this.nodeValue=Qt},configurable:!0},firstElementChild:{get:function get(){if(F(this,'firstChild')){for(var Qt=this.firstChild;Qt&&Qt.nodeType!==Node.ELEMENT_NODE;)Qt=Qt.nextSibling;return Qt}return R(this)},configurable:!0},lastElementChild:{get:function get(){if(F(this,'lastChild')){for(var Qt=this.lastChild;Qt&&Qt.nodeType!==Node.ELEMENT_NODE;)Qt=Qt.previousSibling;return Qt}return x(this)},configurable:!0},children:{get:function get(){return F(this,'firstChild')?Array.prototype.filter.call(this.childNodes,function(Qt){return Qt.nodeType===Node.ELEMENT_NODE}):w(this)},configurable:!0},innerHTML:{get:function get(){var Qt='template'===this.localName?this.content:this;return F(this,'firstChild')?C(Qt):L(Qt)},set:function set(Qt){var Kt='template'===this.localName?this.content:this;q(Kt);var Jt=mt.parseFromString(Qt,'text/html');Jt.head&&H(Kt,Jt.head),Jt.body&&H(Kt,Jt.body)},configurable:!0}},Et={shadowRoot:{get:function get(){return this.shadyRoot},set:function set(Qt){this.shadyRoot=Qt},configurable:!0}},St={activeElement:{get:function get(){return B(this)},set:function set(){},configurable:!0}},Pt=we.hasDescriptors?function(){}:function(Qt){Qt.__shady&&Qt.__shady.__outsideAccessors||(Qt.__shady=Qt.__shady||{},Qt.__shady.__outsideAccessors=!0,z(Qt,ft,!0))},Ct=we.hasDescriptors?function(){}:function(Qt){Qt.__shady&&Qt.__shady.__insideAccessors||(Qt.__shady=Qt.__shady||{},Qt.__shady.__insideAccessors=!0,z(Qt,vt,!0),z(Qt,Et,!0))},Tt=function Tt(Qt){if(!F(Qt,'firstChild')){Qt.__shady=Qt.__shady||{},Qt.__shady.firstChild=D(Qt),Qt.__shady.lastChild=O(Qt),Ct(Qt);var Kt=Qt.__shady.childNodes=M(Qt);for(var Yt,Jt=0;Jt<Kt.length&&(Yt=Kt[Jt]);Jt++)Yt.__shady=Yt.__shady||{},Yt.__shady.parentNode=Qt,Yt.__shady.nextSibling=Kt[Jt+1]||null,Yt.__shady.previousSibling=Kt[Jt-1]||null,Pt(Yt)}},Dt={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},Ot={get composed(){return this.isTrusted&&void 0===this.__composed&&(this.__composed=Dt[this.type]),this.__composed||!1},composedPath:function composedPath(){return this.__composedPath||(this.__composedPath=Ee(this.__target,this.composed)),this.__composedPath},get target(){return Se(this.currentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=Ee(this.__relatedTarget,!0)),Se(this.currentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function stopPropagation(){Event.prototype.stopPropagation.call(this),this.__propagationStopped=!0},stopImmediatePropagation:function stopImmediatePropagation(){Event.prototype.stopImmediatePropagation.call(this),this.__immediatePropagationStopped=!0,this.__propagationStopped=!0}},Mt={focus:!0,blur:!0},Rt=Pe(window.Event),xt=Pe(window.CustomEvent),It=Pe(window.MouseEvent),At=0,wt=1,Lt=2,kt=3,Wt={calcEditDistances:function calcEditDistances(Qt,Kt,Jt,Yt,Zt,$t){var eo=$t-Zt+1,to=Jt-Kt+1,oo=Array(eo);for(var so=0;so<eo;so++)oo[so]=Array(to),oo[so][0]=so;for(var _so=0;_so<to;_so++)oo[0][_so]=_so;for(var _so2=1;_so2<eo;_so2++)for(var no=1;no<to;no++)if(this.equals(Qt[Kt+no-1],Yt[Zt+_so2-1]))oo[_so2][no]=oo[_so2-1][no-1];else{var ro=oo[_so2-1][no]+1,io=oo[_so2][no-1]+1;oo[_so2][no]=ro<io?ro:io}return oo},spliceOperationsFromEditDistances:function spliceOperationsFromEditDistances(Qt){for(var Kt=Qt.length-1,Jt=Qt[0].length-1,Yt=Qt[Kt][Jt],Zt=[];0<Kt||0<Jt;){if(0==Kt){Zt.push(Lt),Jt--;continue}if(0==Jt){Zt.push(kt),Kt--;continue}var $t=Qt[Kt-1][Jt-1],eo=Qt[Kt-1][Jt],to=Qt[Kt][Jt-1],oo=void 0;oo=eo<to?eo<$t?eo:$t:to<$t?to:$t,oo==$t?($t==Yt?Zt.push(At):(Zt.push(wt),Yt=$t),Kt--,Jt--):oo==eo?(Zt.push(kt),Kt--,Yt=eo):(Zt.push(Lt),Jt--,Yt=to)}return Zt.reverse(),Zt},calcSplices:function calcSplices(Qt,Kt,Jt,Yt,Zt,$t){var eo=0,to=0,oo,so=Math.min(Jt-Kt,$t-Zt);if(0==Kt&&0==Zt&&(eo=this.sharedPrefix(Qt,Yt,so)),Jt==Qt.length&&$t==Yt.length&&(to=this.sharedSuffix(Qt,Yt,so-eo)),Kt+=eo,Zt+=eo,Jt-=to,$t-=to,0==Jt-Kt&&0==$t-Zt)return[];if(Kt==Jt){for(oo=Me(Kt,[],0);Zt<$t;)oo.removed.push(Yt[Zt++]);return[oo]}if(Zt==$t)return[Me(Kt,[],Jt-Kt)];var no=this.spliceOperationsFromEditDistances(this.calcEditDistances(Qt,Kt,Jt,Yt,Zt,$t));oo=void 0;var ro=[],io=Kt,ao=Zt;for(var lo=0;lo<no.length;lo++)switch(no[lo]){case At:oo&&(ro.push(oo),oo=void 0),io++,ao++;break;case wt:oo||(oo=Me(io,[],0)),oo.addedCount++,io++,oo.removed.push(Yt[ao]),ao++;break;case Lt:oo||(oo=Me(io,[],0)),oo.addedCount++,io++;break;case kt:oo||(oo=Me(io,[],0)),oo.removed.push(Yt[ao]),ao++;}return oo&&ro.push(oo),ro},sharedPrefix:function sharedPrefix(Qt,Kt,Jt){for(var Yt=0;Yt<Jt;Yt++)if(!this.equals(Qt[Yt],Kt[Yt]))return Yt;return Jt},sharedSuffix:function sharedSuffix(Qt,Kt,Jt){for(var Yt=Qt.length,Zt=Kt.length,$t=0;$t<Jt&&this.equals(Qt[--Yt],Kt[--Zt]);)$t++;return $t},calculateSplices:function calculateSplices(Qt,Kt){return this.calcSplices(Qt,0,Qt.length,Kt,0,Kt.length)},equals:function equals(Qt,Kt){return Qt===Kt}},Ft=function Ft(Qt,Kt){return Wt.calculateSplices(Qt,Kt)},Ut='function'==typeof Event?Event:function(Qt,Kt){Kt=Kt||{};var Jt=document.createEvent('Event');return Jt.initEvent(Qt,!!Kt.bubbles,!!Kt.cancelable),Jt},jt=function(){function jt(Qt){_classCallCheck(this,jt),this.root=Qt,this.insertionPointTag='slot'}return _createClass(jt,[{key:'getInsertionPoints',value:function getInsertionPoints(){return this.root.querySelectorAll(this.insertionPointTag)}},{key:'hasInsertionPoint',value:function hasInsertionPoint(){return!!(this.root._insertionPoints&&this.root._insertionPoints.length)}},{key:'isInsertionPoint',value:function isInsertionPoint(Qt){return Qt.localName&&Qt.localName==this.insertionPointTag}},{key:'distribute',value:function distribute(){return this.hasInsertionPoint()?this.distributePool(this.root,this.collectPool()):[]}},{key:'collectPool',value:function collectPool(){var Qt=this.root.host,Kt=[],Jt=0;for(var Yt=Qt.firstChild;Yt;Yt=Yt.nextSibling)Kt[Jt++]=Yt;return Kt}},{key:'distributePool',value:function distributePool(Qt,Kt){var Jt=[],Yt=this.root._insertionPoints;for(var eo,Zt=0,$t=Yt.length;Zt<$t&&(eo=Yt[Zt]);Zt++){this.distributeInsertionPoint(eo,Kt);var to=eo.parentNode;to&&to.shadyRoot&&this.hasInsertionPoint(to.shadyRoot)&&Jt.push(to.shadyRoot)}for(var _Zt4=0;_Zt4<Kt.length;_Zt4++){var _$t3=Kt[_Zt4];if(_$t3){_$t3.__shady=_$t3.__shady||{},_$t3.__shady.assignedSlot=void 0;var _eo=T(_$t3);_eo&&Ye.call(_eo,_$t3)}}return Jt}},{key:'distributeInsertionPoint',value:function distributeInsertionPoint(Qt,Kt){var Jt=Qt.__shady.assignedNodes;Jt&&this.clearAssignedSlots(Qt,!0),Qt.__shady.assignedNodes=[];var Yt=!1,Zt=!1;for(var to,$t=0,eo=Kt.length;$t<eo;$t++)(to=Kt[$t],!!to)&&this.matchesInsertionPoint(to,Qt)&&(to.__shady._prevAssignedSlot!=Qt&&(Yt=!0),this.distributeNodeInto(to,Qt),Kt[$t]=void 0,Zt=!0);if(!Zt){var _$t4=Qt.childNodes;for(var _to,_eo2=0;_eo2<_$t4.length;_eo2++)_to=_$t4[_eo2],_to.__shady._prevAssignedSlot!=Qt&&(Yt=!0),this.distributeNodeInto(_to,Qt)}if(Jt){for(var _$t5=0;_$t5<Jt.length;_$t5++)Jt[_$t5].__shady._prevAssignedSlot=null;Qt.__shady.assignedNodes.length<Jt.length&&(Yt=!0)}this.setDistributedNodesOnInsertionPoint(Qt),Yt&&this._fireSlotChange(Qt)}},{key:'clearAssignedSlots',value:function clearAssignedSlots(Qt,Kt){var Jt=Qt.__shady.assignedNodes;if(Jt)for(var Yt=0;Yt<Jt.length;Yt++){var Zt=Jt[Yt];Kt&&(Zt.__shady._prevAssignedSlot=Zt.__shady.assignedSlot),Zt.__shady.assignedSlot===Qt&&(Zt.__shady.assignedSlot=null)}}},{key:'matchesInsertionPoint',value:function matchesInsertionPoint(Qt,Kt){var Jt=Kt.getAttribute('name');Jt=Jt?Jt.trim():'';var Yt=Qt.getAttribute&&Qt.getAttribute('slot');return Yt=Yt?Yt.trim():'',Yt==Jt}},{key:'distributeNodeInto',value:function distributeNodeInto(Qt,Kt){Kt.__shady.assignedNodes.push(Qt),Qt.__shady.assignedSlot=Kt}},{key:'setDistributedNodesOnInsertionPoint',value:function setDistributedNodesOnInsertionPoint(Qt){var Kt=Qt.__shady.assignedNodes;Qt.__shady.distributedNodes=[];for(var Yt,Jt=0;Jt<Kt.length&&(Yt=Kt[Jt]);Jt++)if(this.isInsertionPoint(Yt)){var Zt=Yt.__shady.distributedNodes;if(Zt)for(var _$t6=0;_$t6<Zt.length;_$t6++)Qt.__shady.distributedNodes.push(Zt[_$t6])}else Qt.__shady.distributedNodes.push(Kt[Jt])}},{key:'_fireSlotChange',value:function _fireSlotChange(Qt){Qt.dispatchEvent(new Ut('slotchange')),Qt.__shady.assignedSlot&&this._fireSlotChange(Qt.__shady.assignedSlot)}},{key:'isFinalDestination',value:function isFinalDestination(Qt){return!Qt.__shady.assignedSlot}}]),jt}(),Ht=Object.create(DocumentFragment.prototype);h(Ht,{_init:function _init(Qt){this.__localName='ShadyRoot',Tt(Qt),Tt(this),Qt.shadowRoot=this,this.host=Qt,this._renderPending=!1,this._hasRendered=!1,this._changePending=!1,this._distributor=new jt(this),this.update()},update:function update(){var _this3=this;this._renderPending||(this._renderPending=!0,y(function(){return _this3.render()}))},_getRenderRoot:function _getRenderRoot(){for(var Qt=this,Kt=this;Kt;)Kt._renderPending&&(Qt=Kt),Kt=Kt._rendererForHost();return Qt},_rendererForHost:function _rendererForHost(){var Qt=this.host.getRootNode();if(t(Qt)){var Kt=this.host.childNodes;for(var Yt,Jt=0;Jt<Kt.length;Jt++)if(Yt=Kt[Jt],this._distributor.isInsertionPoint(Yt))return Qt}},render:function render(){this._renderPending&&this._getRenderRoot()._render()},_render:function _render(){this._renderPending=!1,this._changePending=!1,this._skipUpdateInsertionPoints?!this._hasRendered&&(this._insertionPoints=[]):this.updateInsertionPoints(),this._skipUpdateInsertionPoints=!1,this.distribute(),this.compose(),this._hasRendered=!0},forceRender:function forceRender(){this._renderPending=!0,this.render()},distribute:function distribute(){var Qt=this._distributor.distribute();for(var Kt=0;Kt<Qt.length;Kt++)Qt[Kt]._render()},updateInsertionPoints:function updateInsertionPoints(){var Qt=this.__insertionPoints;if(Qt)for(var _Jt,_Kt2=0;_Kt2<Qt.length;_Kt2++)_Jt=Qt[_Kt2],_Jt.getRootNode()!==this&&this._distributor.clearAssignedSlots(_Jt);Qt=this._insertionPoints=this._distributor.getInsertionPoints();for(var _Jt2,_Kt3=0;_Kt3<Qt.length;_Kt3++)_Jt2=Qt[_Kt3],_Jt2.__shady=_Jt2.__shady||{},Tt(_Jt2),Tt(_Jt2.parentNode)},get _insertionPoints(){return this.__insertionPoints||this.updateInsertionPoints(),this.__insertionPoints||(this.__insertionPoints=[])},set _insertionPoints(Qt){this.__insertionPoints=Qt},hasInsertionPoint:function hasInsertionPoint(){return this._distributor.hasInsertionPoint()},compose:function compose(){this._composeTree()},_composeTree:function _composeTree(){this._updateChildNodes(this.host,this._composeNode(this.host));var Qt=this._insertionPoints||[];for(var Yt,Zt,Kt=0,Jt=Qt.length;Kt<Jt&&(Yt=Qt[Kt]);Kt++)Zt=Yt.parentNode,Zt!==this.host&&Zt!==this&&this._updateChildNodes(Zt,this._composeNode(Zt))},_composeNode:function _composeNode(Qt){var Kt=[],Jt=(Qt.shadyRoot||Qt).childNodes;for(var Yt=0;Yt<Jt.length;Yt++){var Zt=Jt[Yt];if(this._distributor.isInsertionPoint(Zt)){var $t=Zt.__shady.distributedNodes||(Zt.__shady.distributedNodes=[]);for(var eo=0;eo<$t.length;eo++){var to=$t[eo];this.isFinalDestination(Zt,to)&&Kt.push(to)}}else Kt.push(Zt)}return Kt},isFinalDestination:function isFinalDestination(Qt,Kt){return this._distributor.isFinalDestination(Qt,Kt)},_updateChildNodes:function _updateChildNodes(Qt,Kt){var Jt=M(Qt),Yt=Ft(Kt,Jt);for(var eo,Zt=0,$t=0;Zt<Yt.length&&(eo=Yt[Zt]);Zt++){for(var oo,to=0;to<eo.removed.length&&(oo=eo.removed[to]);to++)T(oo)===Qt&&Ye.call(Qt,oo),Jt.splice(eo.index+$t,1);$t-=eo.addedCount}for(var _$t7,_eo3,_Zt5=0;_Zt5<Yt.length&&(_$t7=Yt[_Zt5]);_Zt5++){_eo3=Jt[_$t7.index];for(var _oo,_to2=_$t7.index;_to2<_$t7.index+_$t7.addedCount;_to2++)_oo=Kt[_to2],Ke.call(Qt,_oo,_eo3),Jt.splice(_to2,0,_oo)}},getInsertionPointTag:function getInsertionPointTag(){return this._distributor.insertionPointTag}}),function(Kt){z(Kt,vt,!0),z(Kt,St,!0)}(Ht);var qt={addEventListener:function addEventListener(Kt,Jt,Yt){var _this4=this;if(Jt){var _ret3=function(){var Zt,$t,eo;if('object'==('undefined'==typeof Yt?'undefined':_typeof(Yt))?(Zt=!!Yt.capture,$t=!!Yt.once,eo=!!Yt.passive):(Zt=!!Yt,$t=!1,eo=!1),Jt.__eventWrappers){for(var _oo3=0;_oo3<Jt.__eventWrappers.length;_oo3++)if(Jt.__eventWrappers[_oo3].node===_this4&&Jt.__eventWrappers[_oo3].type===Kt&&Jt.__eventWrappers[_oo3].capture===Zt&&Jt.__eventWrappers[_oo3].once===$t&&Jt.__eventWrappers[_oo3].passive===eo)return{v:void 0};}else Jt.__eventWrappers=[];var to=function to(oo){if($t&&this.removeEventListener(Kt,Jt,Yt),oo.__target||(oo.__target=oo.target,oo.__relatedTarget=oo.relatedTarget,g(oo,Ot)),oo.composed||-1<oo.composedPath().indexOf(this))return oo.eventPhase===Event.BUBBLING_PHASE&&oo.target===oo.relatedTarget?void oo.stopImmediatePropagation():Jt(oo)};Jt.__eventWrappers.push({node:_this4,type:Kt,capture:Zt,once:$t,passive:eo,wrapperFn:to}),Mt[Kt]?(_this4.__handlers=_this4.__handlers||{},_this4.__handlers[Kt]=_this4.__handlers[Kt]||{capture:[],bubble:[]},_this4.__handlers[Kt][Zt?'capture':'bubble'].push(to)):it.call(_this4,Kt,to,Yt)}();if('object'==('undefined'==typeof _ret3?'undefined':_typeof(_ret3)))return _ret3.v}},removeEventListener:function removeEventListener(Kt,Jt,Yt){if(Jt){var _Zt6,_$t8,_eo4;'object'==('undefined'==typeof Yt?'undefined':_typeof(Yt))?(_Zt6=!!Yt.capture,_$t8=!!Yt.once,_eo4=!!Yt.passive):(_Zt6=!!Yt,_$t8=!1,_eo4=!1);var _to3;if(Jt.__eventWrappers)for(var _oo6=0;_oo6<Jt.__eventWrappers.length;_oo6++)if(Jt.__eventWrappers[_oo6].node===this&&Jt.__eventWrappers[_oo6].type===Kt&&Jt.__eventWrappers[_oo6].capture===_Zt6&&Jt.__eventWrappers[_oo6].once===_$t8&&Jt.__eventWrappers[_oo6].passive===_eo4){_to3=Jt.__eventWrappers.splice(_oo6,1)[0].wrapperFn,Jt.__eventWrappers.length||(Jt.__eventWrappers=void 0);break}if(lt.call(this,Kt,_to3||Jt,Yt),_to3&&Mt[Kt]&&this.__handlers&&this.__handlers[Kt]){var _oo5=this.__handlers[Kt][_Zt6?'capture':'bubble'],so=_oo5.indexOf(_to3);-1<so&&_oo5.splice(so,1)}}},appendChild:function appendChild(Qt){return me(this,Qt)},insertBefore:function insertBefore(Qt,Kt){return me(this,Qt,Kt)},removeChild:function removeChild(Qt){return be(this,Qt)},replaceChild:function replaceChild(Qt,Kt){return this.insertBefore(Qt,Kt),this.removeChild(Kt),Qt},cloneNode:function cloneNode(Qt){return fe(this,Qt)},getRootNode:function getRootNode(Qt){return te(this,Qt)},get isConnected(){return document.documentElement.contains(this)}},Gt={get assignedSlot(){return xe(this)}},Bt={querySelector:function querySelector(Qt){var Kt=pe(this,function(Jt){return r(Jt,Qt)},function(Jt){return!!Jt})[0];return Kt||null},querySelectorAll:function querySelectorAll(Qt){return pe(this,function(Kt){return r(Kt,Qt)})}},zt={assignedNodes:function assignedNodes(Qt){if('slot'===this.localName)return ge(this),this.__shady?(Qt&&Qt.flatten?this.__shady.distributedNodes:this.__shady.assignedNodes)||[]:[]}},Vt=h({setAttribute:function setAttribute(Qt,Kt){ye(this,Qt,Kt)},removeAttribute:function removeAttribute(Qt){Ne(this,Qt)},attachShadow:function attachShadow(Qt){return Re(this,Qt)},get slot(){return this.getAttribute('slot')},set slot(Qt){this.setAttribute('slot',Qt)},get assignedSlot(){return xe(this)}},Bt,zt);Object.defineProperties(Vt,Et);var Xt=h({},Bt);Object.defineProperties(Xt,{_activeElement:St.activeElement}),we.inUse&&(window.ShadyDOM={inUse:we.inUse,patch:function patch(Qt){return Qt},isShadyRoot:t,enqueue:y,flush:N,settings:we,filterMutations:b,observeChildren:Be,unobserveChildren:ze,nativeMethods:_t,nativeTree:Nt},Oe(),Ae())})();\n//# sourceMappingURL=shadydom.min.js.map\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/*\nExtremely simple css parser. Intended to be not more than what we need\nand definitely not necessarily correct =).\n*/\n\n'use strict';\n\n// given a string of css, return a simple rule tree\nexport function parse(text) {\n  text = clean(text);\n  return parseCss(lex(text), text);\n}\n\n// remove stuff we don't care about that may hinder parsing\nfunction clean(cssText) {\n  return cssText.replace(RX.comments, '').replace(RX.port, '');\n}\n\n// super simple {...} lexer that returns a node tree\nfunction lex(text) {\n  let root = {\n    start: 0,\n    end: text.length\n  };\n  let n = root;\n  for (let i = 0, l = text.length; i < l; i++) {\n    if (text[i] === OPEN_BRACE) {\n      if (!n.rules) {\n        n.rules = [];\n      }\n      let p = n;\n      let previous = p.rules[p.rules.length - 1];\n      n = {\n        start: i + 1,\n        parent: p,\n        previous: previous\n      };\n      p.rules.push(n);\n    } else if (text[i] === CLOSE_BRACE) {\n      n.end = i + 1;\n      n = n.parent || root;\n    }\n  }\n  return root;\n}\n\n// add selectors/cssText to node tree\nfunction parseCss(node, text) {\n  let t = text.substring(node.start, node.end - 1);\n  node.parsedCssText = node.cssText = t.trim();\n  if (node.parent) {\n    let ss = node.previous ? node.previous.end : node.parent.start;\n    t = text.substring(ss, node.start - 1);\n    t = _expandUnicodeEscapes(t);\n    t = t.replace(RX.multipleSpaces, ' ');\n    // TODO(sorvell): ad hoc; make selector include only after last ;\n    // helps with mixin syntax\n    t = t.substring(t.lastIndexOf(';') + 1);\n    let s = node.parsedSelector = node.selector = t.trim();\n    node.atRule = (s.indexOf(AT_START) === 0);\n    // note, support a subset of rule types...\n    if (node.atRule) {\n      if (s.indexOf(MEDIA_START) === 0) {\n        node.type = types.MEDIA_RULE;\n      } else if (s.match(RX.keyframesRule)) {\n        node.type = types.KEYFRAMES_RULE;\n        node.keyframesName =\n          node.selector.split(RX.multipleSpaces).pop();\n      }\n    } else {\n      if (s.indexOf(VAR_START) === 0) {\n        node.type = types.MIXIN_RULE;\n      } else {\n        node.type = types.STYLE_RULE;\n      }\n    }\n  }\n  let r$ = node.rules;\n  if (r$) {\n    for (let i = 0, l = r$.length, r;\n      (i < l) && (r = r$[i]); i++) {\n      parseCss(r, text);\n    }\n  }\n  return node;\n}\n\n// conversion of sort unicode escapes with spaces like `\\33 ` (and longer) into\n// expanded form that doesn't require trailing space `\\000033`\nfunction _expandUnicodeEscapes(s) {\n  return s.replace(/\\\\([0-9a-f]{1,6})\\s/gi, function() {\n    let code = arguments[1],\n      repeat = 6 - code.length;\n    while (repeat--) {\n      code = '0' + code;\n    }\n    return '\\\\' + code;\n  });\n}\n\n// stringify parsed css.\nexport function stringify(node, preserveProperties, text) {\n  text = text || '';\n  // calc rule cssText\n  let cssText = '';\n  if (node.cssText || node.rules) {\n    let r$ = node.rules;\n    if (r$ && !_hasMixinRules(r$)) {\n      for (let i = 0, l = r$.length, r;\n        (i < l) && (r = r$[i]); i++) {\n        cssText = stringify(r, preserveProperties, cssText);\n      }\n    } else {\n      cssText = preserveProperties ? node.cssText :\n        removeCustomProps(node.cssText);\n      cssText = cssText.trim();\n      if (cssText) {\n        cssText = '  ' + cssText + '\\n';\n      }\n    }\n  }\n  // emit rule if there is cssText\n  if (cssText) {\n    if (node.selector) {\n      text += node.selector + ' ' + OPEN_BRACE + '\\n';\n    }\n    text += cssText;\n    if (node.selector) {\n      text += CLOSE_BRACE + '\\n\\n';\n    }\n  }\n  return text;\n}\n\nfunction _hasMixinRules(rules) {\n  return rules[0].selector.indexOf(VAR_START) === 0;\n}\n\nfunction removeCustomProps(cssText) {\n  cssText = removeCustomPropAssignment(cssText);\n  return removeCustomPropApply(cssText);\n}\n\nexport function removeCustomPropAssignment(cssText) {\n  return cssText\n    .replace(RX.customProp, '')\n    .replace(RX.mixinProp, '');\n}\n\nfunction removeCustomPropApply(cssText) {\n  return cssText\n    .replace(RX.mixinApply, '')\n    .replace(RX.varApply, '');\n}\n\nexport let types = {\n  STYLE_RULE: 1,\n  KEYFRAMES_RULE: 7,\n  MEDIA_RULE: 4,\n  MIXIN_RULE: 1000\n}\n\nlet OPEN_BRACE = '{';\nlet CLOSE_BRACE = '}';\n\n// helper regexp's\nlet RX = {\n  comments: /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim,\n  port: /@import[^;]*;/gim,\n  customProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\\n]|$)/gim,\n  mixinProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\\n]|$)?/gim,\n  mixinApply: /@apply\\s*\\(?[^);]*\\)?\\s*(?:[;\\n]|$)?/gim,\n  varApply: /[^;:]*?:[^;]*?var\\([^;]*\\)(?:[;\\n]|$)?/gim,\n  keyframesRule: /^@[^\\s]*keyframes/,\n  multipleSpaces: /\\s+/g\n}\n\nlet VAR_START = '--';\nlet MEDIA_START = '@media';\nlet AT_START = '@';\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nexport let nativeShadow = !(window.ShadyDOM && window.ShadyDOM.inUse);\n// chrome 49 has semi-working css vars, check if box-shadow works\n// safari 9.1 has a recalc bug: https://bugs.webkit.org/show_bug.cgi?id=155782\nexport let nativeCssVariables = (!navigator.userAgent.match('AppleWebKit/601') &&\nwindow.CSS && CSS.supports && CSS.supports('box-shadow', '0 0 0 var(--foo)'));\n\n// experimental support for native @apply\nfunction detectNativeApply() {\n  let style = document.createElement('style');\n  style.textContent = '.foo { @apply --foo }';\n  document.head.appendChild(style);\n  let nativeCssApply = (style.sheet.cssRules[0].cssText.indexOf('apply') >= 0);\n  document.head.removeChild(style);\n  return nativeCssApply;\n}\n\nexport let nativeCssApply = false && detectNativeApply();\n\nfunction parseSettings(settings) {\n  if (settings) {\n    nativeCssVariables = nativeCssVariables && !settings.shimcssproperties;\n    nativeShadow = nativeShadow && !settings.shimshadow;\n  }\n}\n\nif (window.ShadyCSS) {\n  parseSettings(window.ShadyCSS);\n} else if (window.WebComponents) {\n  parseSettings(window.WebComponents.flags);\n}\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {nativeShadow, nativeCssVariables} from './style-settings'\nimport {parse, stringify, types} from './css-parse'\n\nexport function toCssText (rules, callback) {\n  if (typeof rules === 'string') {\n    rules = parse(rules);\n  }\n  if (callback) {\n    forEachRule(rules, callback);\n  }\n  return stringify(rules, nativeCssVariables);\n}\n\nexport function rulesForStyle(style) {\n  if (!style.__cssRules && style.textContent) {\n    style.__cssRules = parse(style.textContent);\n  }\n  return style.__cssRules;\n}\n\n// Tests if a rule is a keyframes selector, which looks almost exactly\n// like a normal selector but is not (it has nothing to do with scoping\n// for example).\nexport function isKeyframesSelector(rule) {\n  return rule.parent &&\n  rule.parent.type === types.KEYFRAMES_RULE;\n}\n\nexport function forEachRule(node, styleRuleCallback, keyframesRuleCallback, onlyActiveRules) {\n  if (!node) {\n    return;\n  }\n  let skipRules = false;\n  if (onlyActiveRules) {\n    if (node.type === types.MEDIA_RULE) {\n      let matchMedia = node.selector.match(rx.MEDIA_MATCH);\n      if (matchMedia) {\n        // if rule is a non matching @media rule, skip subrules\n        if (!window.matchMedia(matchMedia[1]).matches) {\n          skipRules = true;\n        }\n      }\n    }\n  }\n  if (node.type === types.STYLE_RULE) {\n    styleRuleCallback(node);\n  } else if (keyframesRuleCallback &&\n    node.type === types.KEYFRAMES_RULE) {\n    keyframesRuleCallback(node);\n  } else if (node.type === types.MIXIN_RULE) {\n    skipRules = true;\n  }\n  let r$ = node.rules;\n  if (r$ && !skipRules) {\n    for (let i=0, l=r$.length, r; (i<l) && (r=r$[i]); i++) {\n      forEachRule(r, styleRuleCallback, keyframesRuleCallback, onlyActiveRules);\n    }\n  }\n}\n\n// add a string of cssText to the document.\nexport function applyCss(cssText, moniker, target, contextNode) {\n  let style = createScopeStyle(cssText, moniker);\n  return applyStyle(style, target, contextNode);\n}\n\nexport function applyStyle(style, target, contextNode) {\n  target = target || document.head;\n  let after = (contextNode && contextNode.nextSibling) ||\n  target.firstChild;\n  lastHeadApplyNode = style;\n  return target.insertBefore(style, after);\n}\n\nexport function createScopeStyle(cssText, moniker) {\n  let style = document.createElement('style');\n  if (moniker) {\n    style.setAttribute('scope', moniker);\n  }\n  style.textContent = cssText;\n  return style;\n}\n\nlet lastHeadApplyNode = null;\n\n// insert a comment node as a styling position placeholder.\nexport function applyStylePlaceHolder(moniker) {\n  let placeHolder = document.createComment(' Shady DOM styles for ' +\n    moniker + ' ');\n  let after = lastHeadApplyNode ?\n    lastHeadApplyNode.nextSibling : null;\n  let scope = document.head;\n  scope.insertBefore(placeHolder, after || scope.firstChild);\n  lastHeadApplyNode = placeHolder;\n  return placeHolder;\n}\n\nexport function isTargetedBuild(buildType) {\n  return nativeShadow ? buildType === 'shadow' : buildType === 'shady';\n}\n\n// cssBuildTypeForModule: function (module) {\n//   let dm = Polymer.DomModule.import(module);\n//   if (dm) {\n//     return getCssBuildType(dm);\n//   }\n// },\n//\nexport function getCssBuildType(element) {\n  return element.getAttribute('css-build');\n}\n\n// Walk from text[start] matching parens\n// returns position of the outer end paren\nfunction findMatchingParen(text, start) {\n  let level = 0;\n  for (let i=start, l=text.length; i < l; i++) {\n    if (text[i] === '(') {\n      level++;\n    } else if (text[i] === ')') {\n      if (--level === 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nexport function processVariableAndFallback(str, callback) {\n  // find 'var('\n  let start = str.indexOf('var(');\n  if (start === -1) {\n    // no var?, everything is prefix\n    return callback(str, '', '', '');\n  }\n  //${prefix}var(${inner})${suffix}\n  let end = findMatchingParen(str, start + 3);\n  let inner = str.substring(start + 4, end);\n  let prefix = str.substring(0, start);\n  // suffix may have other variables\n  let suffix = processVariableAndFallback(str.substring(end + 1), callback);\n  let comma = inner.indexOf(',');\n  // value and fallback args should be trimmed to match in property lookup\n  if (comma === -1) {\n    // variable, no fallback\n    return callback(prefix, inner.trim(), '', suffix);\n  }\n  // var(${value},${fallback})\n  let value = inner.substring(0, comma).trim();\n  let fallback = inner.substring(comma + 1).trim();\n  return callback(prefix, value, fallback, suffix);\n}\n\nexport function setElementClassRaw(element, value) {\n  // use native setAttribute provided by ShadyDOM when setAttribute is patched\n  if (window.ShadyDOM) {\n    window.ShadyDOM.nativeMethods.setAttribute.call(element, 'class', value);\n  } else {\n    element.setAttribute('class', value);\n  }\n}\n\nexport let rx = {\n  VAR_ASSIGN: /(?:^|[;\\s{]\\s*)(--[\\w-]*?)\\s*:\\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\\s}])|$)/gi,\n  MIXIN_MATCH: /(?:^|\\W+)@apply\\s*\\(?([^);\\n]*)\\)?/gi,\n  VAR_CONSUMED: /(--[\\w-]+)\\s*([:,;)]|$)/gi,\n  ANIMATION_MATCH: /(animation\\s*:)|(animation-name\\s*:)/,\n  MEDIA_MATCH: /@media[^(]*(\\([^)]*\\))/,\n  IS_VAR: /^--/,\n  BRACKETED: /\\{[^}]*\\}/g,\n  HOST_PREFIX: '(?:^|[^.#[:])',\n  HOST_SUFFIX: '($|[.:[\\\\s>+~])'\n}\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {removeCustomPropAssignment} from './css-parse'\nimport {nativeShadow} from './style-settings'\nimport StyleTransformer from './style-transformer'\nimport * as StyleUtil from './style-util'\nimport StyleInfo from './style-info'\n\n// TODO: dedupe with shady\nconst p = window.Element.prototype;\nconst matchesSelector = p.matches || p.matchesSelector ||\n  p.mozMatchesSelector || p.msMatchesSelector ||\n  p.oMatchesSelector || p.webkitMatchesSelector;\n\nconst IS_IE = navigator.userAgent.match('Trident');\n\nconst XSCOPE_NAME = 'x-scope';\n\nclass StyleProperties {\n  get XSCOPE_NAME() {\n    return XSCOPE_NAME;\n  }\n  // decorates styles with rule info and returns an array of used style\n  // property names\n  decorateStyles(rules) {\n    let self = this, props = {}, keyframes = [], ruleIndex = 0;\n    StyleUtil.forEachRule(rules, function(rule) {\n      self.decorateRule(rule);\n      // mark in-order position of ast rule in styles block, used for cache key\n      rule.index = ruleIndex++;\n      self.collectPropertiesInCssText(rule.propertyInfo.cssText, props);\n    }, function onKeyframesRule(rule) {\n      keyframes.push(rule);\n    });\n    // Cache all found keyframes rules for later reference:\n    rules._keyframes = keyframes;\n    // return this list of property names *consumes* in these styles.\n    let names = [];\n    for (let i in props) {\n      names.push(i);\n    }\n    return names;\n  }\n\n  // decorate a single rule with property info\n  decorateRule(rule) {\n    if (rule.propertyInfo) {\n      return rule.propertyInfo;\n    }\n    let info = {}, properties = {};\n    let hasProperties = this.collectProperties(rule, properties);\n    if (hasProperties) {\n      info.properties = properties;\n      // TODO(sorvell): workaround parser seeing mixins as additional rules\n      rule.rules = null;\n    }\n    info.cssText = this.collectCssText(rule);\n    rule.propertyInfo = info;\n    return info;\n  }\n\n  // collects the custom properties from a rule's cssText\n  collectProperties(rule, properties) {\n    let info = rule.propertyInfo;\n    if (info) {\n      if (info.properties) {\n        Object.assign(properties, info.properties);\n        return true;\n      }\n    } else {\n      let m, rx = StyleUtil.rx.VAR_ASSIGN;\n      let cssText = rule.parsedCssText;\n      let value;\n      let any;\n      while ((m = rx.exec(cssText))) {\n        // note: group 2 is var, 3 is mixin\n        value = (m[2] || m[3]).trim();\n        // value of 'inherit' or 'unset' is equivalent to not setting the property here\n        if (value !== 'inherit' || value !== 'unset') {\n          properties[m[1].trim()] = value;\n        }\n        any = true;\n      }\n      return any;\n    }\n\n  }\n\n  // returns cssText of properties that consume variables/mixins\n  collectCssText(rule) {\n    return this.collectConsumingCssText(rule.parsedCssText);\n  }\n\n  // NOTE: we support consumption inside mixin assignment\n  // but not production, so strip out {...}\n  collectConsumingCssText(cssText) {\n    return cssText.replace(StyleUtil.rx.BRACKETED, '')\n      .replace(StyleUtil.rx.VAR_ASSIGN, '');\n  }\n\n  collectPropertiesInCssText(cssText, props) {\n    let m;\n    while ((m = StyleUtil.rx.VAR_CONSUMED.exec(cssText))) {\n      let name = m[1];\n      // This regex catches all variable names, and following non-whitespace char\n      // If next char is not ':', then variable is a consumer\n      if (m[2] !== ':') {\n        props[name] = true;\n      }\n    }\n  }\n\n  // turns custom properties into realized values.\n  reify(props) {\n    // big perf optimization here: reify only *own* properties\n    // since this object has __proto__ of the element's scope properties\n    let names = Object.getOwnPropertyNames(props);\n    for (let i=0, n; i < names.length; i++) {\n      n = names[i];\n      props[n] = this.valueForProperty(props[n], props);\n    }\n  }\n\n  // given a property value, returns the reified value\n  // a property value may be:\n  // (1) a literal value like: red or 5px;\n  // (2) a variable value like: var(--a), var(--a, red), or var(--a, --b) or\n  // var(--a, var(--b));\n  // (3) a literal mixin value like { properties }. Each of these properties\n  // can have values that are: (a) literal, (b) variables, (c) @apply mixins.\n  valueForProperty(property, props) {\n    // case (1) default\n    // case (3) defines a mixin and we have to reify the internals\n    if (property) {\n      if (property.indexOf(';') >=0) {\n        property = this.valueForProperties(property, props);\n      } else {\n        // case (2) variable\n        let self = this;\n        let fn = function(prefix, value, fallback, suffix) {\n          if (!value) {\n            return prefix + suffix;\n          }\n          let propertyValue = self.valueForProperty(props[value], props);\n          // if value is \"initial\", then the variable should be treated as unset\n          if (!propertyValue || propertyValue === 'initial') {\n            // fallback may be --a or var(--a) or literal\n            propertyValue = self.valueForProperty(props[fallback] || fallback, props) ||\n            fallback;\n          } else if (propertyValue === 'apply-shim-inherit') {\n            // CSS build will replace `inherit` with `apply-shim-inherit`\n            // for use with native css variables.\n            // Since we have full control, we can use `inherit` directly.\n            propertyValue = 'inherit';\n          }\n          return prefix + (propertyValue || '') + suffix;\n        };\n        property = StyleUtil.processVariableAndFallback(property, fn);\n      }\n    }\n    return property && property.trim() || '';\n  }\n\n  // note: we do not yet support mixin within mixin\n  valueForProperties(property, props) {\n    let parts = property.split(';');\n    for (let i=0, p, m; i<parts.length; i++) {\n      if ((p = parts[i])) {\n        StyleUtil.rx.MIXIN_MATCH.lastIndex = 0;\n        m = StyleUtil.rx.MIXIN_MATCH.exec(p);\n        if (m) {\n          p = this.valueForProperty(props[m[1]], props);\n        } else {\n          let colon = p.indexOf(':');\n          if (colon !== -1) {\n            let pp = p.substring(colon);\n            pp = pp.trim();\n            pp = this.valueForProperty(pp, props) || pp;\n            p = p.substring(0, colon) + pp;\n          }\n        }\n        parts[i] = (p && p.lastIndexOf(';') === p.length - 1) ?\n          // strip trailing ;\n          p.slice(0, -1) :\n          p || '';\n      }\n    }\n    return parts.join(';');\n  }\n\n  applyProperties(rule, props) {\n    let output = '';\n    // dynamically added sheets may not be decorated so ensure they are.\n    if (!rule.propertyInfo) {\n      this.decorateRule(rule);\n    }\n    if (rule.propertyInfo.cssText) {\n      output = this.valueForProperties(rule.propertyInfo.cssText, props);\n    }\n    rule.cssText = output;\n  }\n\n  // Apply keyframe transformations to the cssText of a given rule. The\n  // keyframeTransforms object is a map of keyframe names to transformer\n  // functions which take in cssText and spit out transformed cssText.\n  applyKeyframeTransforms(rule, keyframeTransforms) {\n    let input = rule.cssText;\n    let output = rule.cssText;\n    if (rule.hasAnimations == null) {\n      // Cache whether or not the rule has any animations to begin with:\n      rule.hasAnimations = StyleUtil.rx.ANIMATION_MATCH.test(input);\n    }\n    // If there are no animations referenced, we can skip transforms:\n    if (rule.hasAnimations) {\n      let transform;\n      // If we haven't transformed this rule before, we iterate over all\n      // transforms:\n      if (rule.keyframeNamesToTransform == null) {\n        rule.keyframeNamesToTransform = [];\n        for (let keyframe in keyframeTransforms) {\n          transform = keyframeTransforms[keyframe];\n          output = transform(input);\n          // If the transform actually changed the CSS text, we cache the\n          // transform name for future use:\n          if (input !== output) {\n            input = output;\n            rule.keyframeNamesToTransform.push(keyframe);\n          }\n        }\n      } else {\n        // If we already have a list of keyframe names that apply to this\n        // rule, we apply only those keyframe name transforms:\n        for (let i = 0; i < rule.keyframeNamesToTransform.length; ++i) {\n          transform = keyframeTransforms[rule.keyframeNamesToTransform[i]];\n          input = transform(input);\n        }\n        output = input;\n      }\n    }\n    rule.cssText = output;\n  }\n\n  // Test if the rules in these styles matches the given `element` and if so,\n  // collect any custom properties into `props`.\n  propertyDataFromStyles(rules, element) {\n    let props = {}, self = this;\n    // generates a unique key for these matches\n    let o = [];\n    // note: active rules excludes non-matching @media rules\n    StyleUtil.forEachRule(rules, function(rule) {\n      // TODO(sorvell): we could trim the set of rules at declaration\n      // time to only include ones that have properties\n      if (!rule.propertyInfo) {\n        self.decorateRule(rule);\n      }\n      // match element against transformedSelector: selector may contain\n      // unwanted uniquification and parsedSelector does not directly match\n      // for :host selectors.\n      let selectorToMatch = rule.transformedSelector || rule.parsedSelector;\n      if (element && rule.propertyInfo.properties && selectorToMatch) {\n        if (matchesSelector.call(element, selectorToMatch)) {\n          self.collectProperties(rule, props);\n          // produce numeric key for these matches for lookup\n          addToBitMask(rule.index, o);\n        }\n      }\n    }, null, true);\n    return {properties: props, key: o};\n  }\n\n  whenHostOrRootRule(scope, rule, cssBuild, callback) {\n    if (!rule.propertyInfo) {\n      this.decorateRule(rule);\n    }\n    if (!rule.propertyInfo.properties) {\n      return;\n    }\n    let hostScope = scope.is ?\n    StyleTransformer._calcHostScope(scope.is, scope.extends) :\n    'html';\n    let parsedSelector = rule.parsedSelector;\n    let isRoot = (parsedSelector === ':host > *' || parsedSelector === 'html');\n    let isHost = parsedSelector.indexOf(':host') === 0 && !isRoot;\n    // build info is either in scope (when scope is an element) or in the style\n    // when scope is the default scope; note: this allows default scope to have\n    // mixed mode built and unbuilt styles.\n    if (cssBuild === 'shady') {\n      // :root -> x-foo > *.x-foo for elements and html for custom-style\n      isRoot = parsedSelector === (hostScope + ' > *.' + hostScope) || parsedSelector.indexOf('html') !== -1;\n      // :host -> x-foo for elements, but sub-rules have .x-foo in them\n      isHost = !isRoot && parsedSelector.indexOf(hostScope) === 0;\n    }\n    if (cssBuild === 'shadow') {\n      isRoot = parsedSelector === ':host > *' || parsedSelector === 'html';\n      isHost = isHost && !isRoot;\n    }\n    if (!isRoot && !isHost) {\n      return;\n    }\n    let selectorToMatch = hostScope;\n    if (isHost) {\n      // need to transform :host under ShadowDOM because `:host` does not work with `matches`\n      if (nativeShadow && !rule.transformedSelector) {\n        // transform :host into a matchable selector\n        rule.transformedSelector =\n        StyleTransformer._transformRuleCss(\n          rule,\n          StyleTransformer._transformComplexSelector,\n          StyleTransformer._calcElementScope(scope.is),\n          hostScope\n        );\n      }\n      selectorToMatch = rule.transformedSelector || hostScope;\n    }\n    callback({\n      selector: selectorToMatch,\n      isHost: isHost,\n      isRoot: isRoot\n    });\n  }\n\n  hostAndRootPropertiesForScope(scope, rules) {\n    let hostProps = {}, rootProps = {}, self = this;\n    // note: active rules excludes non-matching @media rules\n    let cssBuild = rules && rules.__cssBuild;\n    StyleUtil.forEachRule(rules, function(rule) {\n      // if scope is StyleDefaults, use _element for matchesSelector\n      self.whenHostOrRootRule(scope, rule, cssBuild, function(info) {\n        let element = scope._element || scope;\n        if (matchesSelector.call(element, info.selector)) {\n          if (info.isHost) {\n            self.collectProperties(rule, hostProps);\n          } else {\n            self.collectProperties(rule, rootProps);\n          }\n        }\n      });\n    }, null, true);\n    return {rootProps: rootProps, hostProps: hostProps};\n  }\n\n  transformStyles(element, properties, scopeSelector) {\n    let self = this;\n    let hostSelector = StyleTransformer\n      ._calcHostScope(element.is, element.extends);\n    let rxHostSelector = element.extends ?\n      '\\\\' + hostSelector.slice(0, -1) + '\\\\]' :\n      hostSelector;\n    let hostRx = new RegExp(StyleUtil.rx.HOST_PREFIX + rxHostSelector +\n      StyleUtil.rx.HOST_SUFFIX);\n    let rules = StyleInfo.get(element).styleRules;\n    let keyframeTransforms =\n      this._elementKeyframeTransforms(element, rules, scopeSelector);\n    return StyleTransformer.elementStyles(element, rules, function(rule) {\n      self.applyProperties(rule, properties);\n      if (!nativeShadow &&\n          !StyleUtil.isKeyframesSelector(rule) &&\n          rule.cssText) {\n        // NOTE: keyframe transforms only scope munge animation names, so it\n        // is not necessary to apply them in ShadowDOM.\n        self.applyKeyframeTransforms(rule, keyframeTransforms);\n        self._scopeSelector(rule, hostRx, hostSelector, scopeSelector);\n      }\n    });\n  }\n\n  _elementKeyframeTransforms(element, rules, scopeSelector) {\n    let keyframesRules = rules._keyframes;\n    let keyframeTransforms = {};\n    if (!nativeShadow && keyframesRules) {\n      // For non-ShadowDOM, we transform all known keyframes rules in\n      // advance for the current scope. This allows us to catch keyframes\n      // rules that appear anywhere in the stylesheet:\n      for (let i = 0, keyframesRule = keyframesRules[i];\n           i < keyframesRules.length;\n           keyframesRule = keyframesRules[++i]) {\n        this._scopeKeyframes(keyframesRule, scopeSelector);\n        keyframeTransforms[keyframesRule.keyframesName] =\n            this._keyframesRuleTransformer(keyframesRule);\n      }\n    }\n    return keyframeTransforms;\n  }\n\n  // Generate a factory for transforming a chunk of CSS text to handle a\n  // particular scoped keyframes rule.\n  _keyframesRuleTransformer(keyframesRule) {\n    return function(cssText) {\n      return cssText.replace(\n          keyframesRule.keyframesNameRx,\n          keyframesRule.transformedKeyframesName);\n    };\n  }\n\n  // Transforms `@keyframes` names to be unique for the current host.\n  // Example: @keyframes foo-anim -> @keyframes foo-anim-x-foo-0\n  _scopeKeyframes(rule, scopeId) {\n    rule.keyframesNameRx = new RegExp(rule.keyframesName, 'g');\n    rule.transformedKeyframesName = rule.keyframesName + '-' + scopeId;\n    rule.transformedSelector = rule.transformedSelector || rule.selector;\n    rule.selector = rule.transformedSelector.replace(\n        rule.keyframesName, rule.transformedKeyframesName);\n  }\n\n  // Strategy: x scope shim a selector e.g. to scope `.x-foo-42` (via classes):\n  // non-host selector: .a.x-foo -> .x-foo-42 .a.x-foo\n  // host selector: x-foo.wide -> .x-foo-42.wide\n  // note: we use only the scope class (.x-foo-42) and not the hostSelector\n  // (x-foo) to scope :host rules; this helps make property host rules\n  // have low specificity. They are overrideable by class selectors but,\n  // unfortunately, not by type selectors (e.g. overriding via\n  // `.special` is ok, but not by `x-foo`).\n  _scopeSelector(rule, hostRx, hostSelector, scopeId) {\n    rule.transformedSelector = rule.transformedSelector || rule.selector;\n    let selector = rule.transformedSelector;\n    let scope = '.' + scopeId;\n    let parts = selector.split(',');\n    for (let i=0, l=parts.length, p; (i<l) && (p=parts[i]); i++) {\n      parts[i] = p.match(hostRx) ?\n        p.replace(hostSelector, scope) :\n        scope + ' ' + p;\n    }\n    rule.selector = parts.join(',');\n  }\n\n  applyElementScopeSelector(element, selector, old) {\n    let c = element.getAttribute('class') || '';\n    let v = c;\n    if (old) {\n      v = c.replace(\n        new RegExp('\\\\s*' + XSCOPE_NAME + '\\\\s*' + old + '\\\\s*', 'g'), ' ');\n    }\n    v += (v ? ' ' : '') + XSCOPE_NAME + ' ' + selector;\n    if (c !== v) {\n      StyleUtil.setElementClassRaw(element, v);\n    }\n  }\n\n  applyElementStyle(element, properties, selector, style) {\n    // calculate cssText to apply\n    let cssText = style ? style.textContent || '' :\n      this.transformStyles(element, properties, selector);\n    // if shady and we have a cached style that is not style, decrement\n    let styleInfo = StyleInfo.get(element);\n    let s = styleInfo.customStyle;\n    if (s && !nativeShadow && (s !== style)) {\n      s._useCount--;\n      if (s._useCount <= 0 && s.parentNode) {\n        s.parentNode.removeChild(s);\n      }\n    }\n    // apply styling always under native or if we generated style\n    // or the cached style is not in document(!)\n    if (nativeShadow) {\n      // update existing style only under native\n      if (styleInfo.customStyle) {\n        styleInfo.customStyle.textContent = cssText;\n        style = styleInfo.customStyle;\n      // otherwise, if we have css to apply, do so\n      } else if (cssText) {\n        // apply css after the scope style of the element to help with\n        // style precedence rules.\n        style = StyleUtil.applyCss(cssText, selector, element.shadowRoot,\n          styleInfo.placeholder);\n      }\n    } else {\n      // shady and no cache hit\n      if (!style) {\n        // apply css after the scope style of the element to help with\n        // style precedence rules.\n        if (cssText) {\n          style = StyleUtil.applyCss(cssText, selector, null,\n            styleInfo.placeholder);\n        }\n      // shady and cache hit but not in document\n      } else if (!style.parentNode) {\n        StyleUtil.applyStyle(style, null, styleInfo.placeholder);\n      }\n\n    }\n    // ensure this style is our custom style and increment its use count.\n    if (style) {\n      style._useCount = style._useCount || 0;\n      // increment use count if we changed styles\n      if (styleInfo.customStyle != style) {\n        style._useCount++;\n      }\n      styleInfo.customStyle = style;\n    }\n    // @media rules may be stale in IE 10 and 11\n    if (IS_IE) {\n      style.textContent = style.textContent;\n    }\n    return style;\n  }\n\n  applyCustomStyle(style, properties) {\n    let rules = StyleUtil.rulesForStyle(style);\n    let self = this;\n    style.textContent = StyleUtil.toCssText(rules, function(rule) {\n      let css = rule.cssText = rule.parsedCssText;\n      if (rule.propertyInfo && rule.propertyInfo.cssText) {\n        // remove property assignments\n        // so next function isn't confused\n        // NOTE: we have 3 categories of css:\n        // (1) normal properties,\n        // (2) custom property assignments (--foo: red;),\n        // (3) custom property usage: border: var(--foo); @apply(--foo);\n        // In elements, 1 and 3 are separated for efficiency; here they\n        // are not and this makes this case unique.\n        css = removeCustomPropAssignment(css);\n        // replace with reified properties, scenario is same as mixin\n        rule.cssText = self.valueForProperties(css, properties);\n      }\n    });\n  }\n}\n\nfunction addToBitMask(n, bits) {\n  let o = parseInt(n / 32);\n  let v = 1 << (n % 32);\n  bits[o] = (bits[o] || 0) | v;\n}\n\nexport default new StyleProperties();","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function(scope) {\n\n  'use strict';\n\n  // defaultPrevented is broken in IE.\n  // https://connect.microsoft.com/IE/feedback/details/790389/event-defaultprevented-returns-false-after-preventdefault-was-called\n  var workingDefaultPrevented = (function() {\n    var e = document.createEvent('Event');\n    e.initEvent('foo', true, true);\n    e.preventDefault();\n    return e.defaultPrevented;\n  })();\n\n  if (!workingDefaultPrevented) {\n    var origPreventDefault = Event.prototype.preventDefault;\n    Event.prototype.preventDefault = function() {\n      if (!this.cancelable) {\n        return;\n      }\n\n      origPreventDefault.call(this);\n\n      Object.defineProperty(this, 'defaultPrevented', {\n        get: function() {\n          return true;\n        },\n        configurable: true\n      });\n    };\n  }\n\n  var isIE = /Trident/.test(navigator.userAgent);\n\n  // CustomEvent constructor shim\n  if (!window.CustomEvent || isIE && (typeof window.CustomEvent !== 'function')) {\n    window.CustomEvent = function(inType, params) {\n      params = params || {};\n      var e = document.createEvent('CustomEvent');\n      e.initCustomEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable), params.detail);\n      return e;\n    };\n    window.CustomEvent.prototype = window.Event.prototype;\n  }\n\n  // Event constructor shim\n  if (!window.Event || isIE && (typeof window.Event !== 'function')) {\n    var origEvent = window.Event;\n    window.Event = function(inType, params) {\n      params = params || {};\n      var e = document.createEvent('Event');\n      e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n      return e;\n    };\n    if (origEvent) {\n      for (var i in origEvent) {\n        window.Event[i] = origEvent[i];\n      }\n    }\n    window.Event.prototype = origEvent.prototype;\n  }\n\n  if (!window.MouseEvent || isIE && (typeof window.MouseEvent !== 'function')) {\n    var origMouseEvent = window.MouseEvent;\n    window.MouseEvent = function(inType, params) {\n      params = params || {};\n      var e = document.createEvent('MouseEvent');\n      e.initMouseEvent(inType,\n        Boolean(params.bubbles), Boolean(params.cancelable),\n        params.view || window, params.detail,\n        params.screenX, params.screenY, params.clientX, params.clientY,\n        params.ctrlKey, params.altKey, params.shiftKey, params.metaKey,\n        params.button, params.relatedTarget);\n      return e;\n    };\n    if (origMouseEvent) {\n      for (var i in origMouseEvent) {\n        window.MouseEvent[i] = origMouseEvent[i];\n      }\n    }\n    window.MouseEvent.prototype = origMouseEvent.prototype;\n  }\n\n  // ES6 stuff\n  if (!Array.from) {\n    Array.from = function (object) {\n      return [].slice.call(object);\n    };\n  }\n\n  if (!Object.assign) {\n    var assign = function(target, source) {\n      var n$ = Object.getOwnPropertyNames(source);\n      for (var i=0, p; i < n$.length; i++) {\n        p = n$[i];\n        target[p] = source[p];\n      }\n    }\n\n    Object.assign = function(target, sources) {\n      var args = [].slice.call(arguments, 1);\n      for (var i=0, s; i < args.length; i++) {\n        s = args[i];\n        if (s) {\n          assign(target, s);\n        }\n      }\n      return target;\n    }\n  }\n\n})(window.WebComponents);\n","/* Any copyright is dedicated to the Public Domain.\n * http://creativecommons.org/publicdomain/zero/1.0/ */\n\n(function(scope) {\n  'use strict';\n\n  // feature detect for URL constructor\n  var hasWorkingUrl = false;\n  if (!scope.forceJURL) {\n    try {\n      var u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      hasWorkingUrl = u.href === 'http://a/c%20d';\n    } catch(e) {}\n  }\n\n  if (hasWorkingUrl)\n    return;\n\n  var relative = Object.create(null);\n  relative['ftp'] = 21;\n  relative['file'] = 0;\n  relative['gopher'] = 70;\n  relative['http'] = 80;\n  relative['https'] = 443;\n  relative['ws'] = 80;\n  relative['wss'] = 443;\n\n  var relativePathDotMapping = Object.create(null);\n  relativePathDotMapping['%2e'] = '.';\n  relativePathDotMapping['.%2e'] = '..';\n  relativePathDotMapping['%2e.'] = '..';\n  relativePathDotMapping['%2e%2e'] = '..';\n\n  function isRelativeScheme(scheme) {\n    return relative[scheme] !== undefined;\n  }\n\n  function invalid() {\n    clear.call(this);\n    this._isInvalid = true;\n  }\n\n  function IDNAToASCII(h) {\n    if ('' == h) {\n      invalid.call(this)\n    }\n    // XXX\n    return h.toLowerCase()\n  }\n\n  function percentEscape(c) {\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ? `\n       [0x22, 0x23, 0x3C, 0x3E, 0x3F, 0x60].indexOf(unicode) == -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  function percentEscapeQuery(c) {\n    // XXX This actually needs to encode c using encoding and then\n    // convert the bytes one-by-one.\n\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ` (do not escape '?')\n       [0x22, 0x23, 0x3C, 0x3E, 0x60].indexOf(unicode) == -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  var EOF = undefined,\n      ALPHA = /[a-zA-Z]/,\n      ALPHANUMERIC = /[a-zA-Z0-9\\+\\-\\.]/;\n\n  function parse(input, stateOverride, base) {\n    function err(message) {\n      errors.push(message)\n    }\n\n    var state = stateOverride || 'scheme start',\n        cursor = 0,\n        buffer = '',\n        seenAt = false,\n        seenBracket = false,\n        errors = [];\n\n    loop: while ((input[cursor - 1] != EOF || cursor == 0) && !this._isInvalid) {\n      var c = input[cursor];\n      switch (state) {\n        case 'scheme start':\n          if (c && ALPHA.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n            state = 'scheme';\n          } else if (!stateOverride) {\n            buffer = '';\n            state = 'no scheme';\n            continue;\n          } else {\n            err('Invalid scheme.');\n            break loop;\n          }\n          break;\n\n        case 'scheme':\n          if (c && ALPHANUMERIC.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n          } else if (':' == c) {\n            this._scheme = buffer;\n            buffer = '';\n            if (stateOverride) {\n              break loop;\n            }\n            if (isRelativeScheme(this._scheme)) {\n              this._isRelative = true;\n            }\n            if ('file' == this._scheme) {\n              state = 'relative';\n            } else if (this._isRelative && base && base._scheme == this._scheme) {\n              state = 'relative or authority';\n            } else if (this._isRelative) {\n              state = 'authority first slash';\n            } else {\n              state = 'scheme data';\n            }\n          } else if (!stateOverride) {\n            buffer = '';\n            cursor = 0;\n            state = 'no scheme';\n            continue;\n          } else if (EOF == c) {\n            break loop;\n          } else {\n            err('Code point not allowed in scheme: ' + c)\n            break loop;\n          }\n          break;\n\n        case 'scheme data':\n          if ('?' == c) {\n            this._query = '?';\n            state = 'query';\n          } else if ('#' == c) {\n            this._fragment = '#';\n            state = 'fragment';\n          } else {\n            // XXX error handling\n            if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n              this._schemeData += percentEscape(c);\n            }\n          }\n          break;\n\n        case 'no scheme':\n          if (!base || !(isRelativeScheme(base._scheme))) {\n            err('Missing scheme.');\n            invalid.call(this);\n          } else {\n            state = 'relative';\n            continue;\n          }\n          break;\n\n        case 'relative or authority':\n          if ('/' == c && '/' == input[cursor+1]) {\n            state = 'authority ignore slashes';\n          } else {\n            err('Expected /, got: ' + c);\n            state = 'relative';\n            continue\n          }\n          break;\n\n        case 'relative':\n          this._isRelative = true;\n          if ('file' != this._scheme)\n            this._scheme = base._scheme;\n          if (EOF == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._username = base._username;\n            this._password = base._password;\n            break loop;\n          } else if ('/' == c || '\\\\' == c) {\n            if ('\\\\' == c)\n              err('\\\\ is an invalid code point.');\n            state = 'relative slash';\n          } else if ('?' == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = '?';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'query';\n          } else if ('#' == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._fragment = '#';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'fragment';\n          } else {\n            var nextC = input[cursor+1]\n            var nextNextC = input[cursor+2]\n            if (\n              'file' != this._scheme || !ALPHA.test(c) ||\n              (nextC != ':' && nextC != '|') ||\n              (EOF != nextNextC && '/' != nextNextC && '\\\\' != nextNextC && '?' != nextNextC && '#' != nextNextC)) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n              this._path = base._path.slice();\n              this._path.pop();\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'relative slash':\n          if ('/' == c || '\\\\' == c) {\n            if ('\\\\' == c) {\n              err('\\\\ is an invalid code point.');\n            }\n            if ('file' == this._scheme) {\n              state = 'file host';\n            } else {\n              state = 'authority ignore slashes';\n            }\n          } else {\n            if ('file' != this._scheme) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'authority first slash':\n          if ('/' == c) {\n            state = 'authority second slash';\n          } else {\n            err(\"Expected '/', got: \" + c);\n            state = 'authority ignore slashes';\n            continue;\n          }\n          break;\n\n        case 'authority second slash':\n          state = 'authority ignore slashes';\n          if ('/' != c) {\n            err(\"Expected '/', got: \" + c);\n            continue;\n          }\n          break;\n\n        case 'authority ignore slashes':\n          if ('/' != c && '\\\\' != c) {\n            state = 'authority';\n            continue;\n          } else {\n            err('Expected authority, got: ' + c);\n          }\n          break;\n\n        case 'authority':\n          if ('@' == c) {\n            if (seenAt) {\n              err('@ already seen.');\n              buffer += '%40';\n            }\n            seenAt = true;\n            for (var i = 0; i < buffer.length; i++) {\n              var cp = buffer[i];\n              if ('\\t' == cp || '\\n' == cp || '\\r' == cp) {\n                err('Invalid whitespace in authority.');\n                continue;\n              }\n              // XXX check URL code points\n              if (':' == cp && null === this._password) {\n                this._password = '';\n                continue;\n              }\n              var tempC = percentEscape(cp);\n              (null !== this._password) ? this._password += tempC : this._username += tempC;\n            }\n            buffer = '';\n          } else if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            cursor -= buffer.length;\n            buffer = '';\n            state = 'host';\n            continue;\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'file host':\n          if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            if (buffer.length == 2 && ALPHA.test(buffer[0]) && (buffer[1] == ':' || buffer[1] == '|')) {\n              state = 'relative path';\n            } else if (buffer.length == 0) {\n              state = 'relative path start';\n            } else {\n              this._host = IDNAToASCII.call(this, buffer);\n              buffer = '';\n              state = 'relative path start';\n            }\n            continue;\n          } else if ('\\t' == c || '\\n' == c || '\\r' == c) {\n            err('Invalid whitespace in file host.');\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'host':\n        case 'hostname':\n          if (':' == c && !seenBracket) {\n            // XXX host parsing\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'port';\n            if ('hostname' == stateOverride) {\n              break loop;\n            }\n          } else if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'relative path start';\n            if (stateOverride) {\n              break loop;\n            }\n            continue;\n          } else if ('\\t' != c && '\\n' != c && '\\r' != c) {\n            if ('[' == c) {\n              seenBracket = true;\n            } else if (']' == c) {\n              seenBracket = false;\n            }\n            buffer += c;\n          } else {\n            err('Invalid code point in host/hostname: ' + c);\n          }\n          break;\n\n        case 'port':\n          if (/[0-9]/.test(c)) {\n            buffer += c;\n          } else if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c || stateOverride) {\n            if ('' != buffer) {\n              var temp = parseInt(buffer, 10);\n              if (temp != relative[this._scheme]) {\n                this._port = temp + '';\n              }\n              buffer = '';\n            }\n            if (stateOverride) {\n              break loop;\n            }\n            state = 'relative path start';\n            continue;\n          } else if ('\\t' == c || '\\n' == c || '\\r' == c) {\n            err('Invalid code point in port: ' + c);\n          } else {\n            invalid.call(this);\n          }\n          break;\n\n        case 'relative path start':\n          if ('\\\\' == c)\n            err(\"'\\\\' not allowed in path.\");\n          state = 'relative path';\n          if ('/' != c && '\\\\' != c) {\n            continue;\n          }\n          break;\n\n        case 'relative path':\n          if (EOF == c || '/' == c || '\\\\' == c || (!stateOverride && ('?' == c || '#' == c))) {\n            if ('\\\\' == c) {\n              err('\\\\ not allowed in relative path.');\n            }\n            var tmp;\n            if (tmp = relativePathDotMapping[buffer.toLowerCase()]) {\n              buffer = tmp;\n            }\n            if ('..' == buffer) {\n              this._path.pop();\n              if ('/' != c && '\\\\' != c) {\n                this._path.push('');\n              }\n            } else if ('.' == buffer && '/' != c && '\\\\' != c) {\n              this._path.push('');\n            } else if ('.' != buffer) {\n              if ('file' == this._scheme && this._path.length == 0 && buffer.length == 2 && ALPHA.test(buffer[0]) && buffer[1] == '|') {\n                buffer = buffer[0] + ':';\n              }\n              this._path.push(buffer);\n            }\n            buffer = '';\n            if ('?' == c) {\n              this._query = '?';\n              state = 'query';\n            } else if ('#' == c) {\n              this._fragment = '#';\n              state = 'fragment';\n            }\n          } else if ('\\t' != c && '\\n' != c && '\\r' != c) {\n            buffer += percentEscape(c);\n          }\n          break;\n\n        case 'query':\n          if (!stateOverride && '#' == c) {\n            this._fragment = '#';\n            state = 'fragment';\n          } else if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n            this._query += percentEscapeQuery(c);\n          }\n          break;\n\n        case 'fragment':\n          if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n            this._fragment += c;\n          }\n          break;\n      }\n\n      cursor++;\n    }\n  }\n\n  function clear() {\n    this._scheme = '';\n    this._schemeData = '';\n    this._username = '';\n    this._password = null;\n    this._host = '';\n    this._port = '';\n    this._path = [];\n    this._query = '';\n    this._fragment = '';\n    this._isInvalid = false;\n    this._isRelative = false;\n  }\n\n  // Does not process domain names or IP addresses.\n  // Does not handle encoding for the query parameter.\n  function jURL(url, base /* , encoding */) {\n    if (base !== undefined && !(base instanceof jURL))\n      base = new jURL(String(base));\n\n    this._url = url;\n    clear.call(this);\n\n    var input = url.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g, '');\n    // encoding = encoding || 'utf-8'\n\n    parse.call(this, input, null, base);\n  }\n\n  jURL.prototype = {\n    toString: function() {\n      return this.href;\n    },\n    get href() {\n      if (this._isInvalid)\n        return this._url;\n\n      var authority = '';\n      if ('' != this._username || null != this._password) {\n        authority = this._username +\n            (null != this._password ? ':' + this._password : '') + '@';\n      }\n\n      return this.protocol +\n          (this._isRelative ? '//' + authority + this.host : '') +\n          this.pathname + this._query + this._fragment;\n    },\n    set href(href) {\n      clear.call(this);\n      parse.call(this, href);\n    },\n\n    get protocol() {\n      return this._scheme + ':';\n    },\n    set protocol(protocol) {\n      if (this._isInvalid)\n        return;\n      parse.call(this, protocol + ':', 'scheme start');\n    },\n\n    get host() {\n      return this._isInvalid ? '' : this._port ?\n          this._host + ':' + this._port : this._host;\n    },\n    set host(host) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      parse.call(this, host, 'host');\n    },\n\n    get hostname() {\n      return this._host;\n    },\n    set hostname(hostname) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      parse.call(this, hostname, 'hostname');\n    },\n\n    get port() {\n      return this._port;\n    },\n    set port(port) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      parse.call(this, port, 'port');\n    },\n\n    get pathname() {\n      return this._isInvalid ? '' : this._isRelative ?\n          '/' + this._path.join('/') : this._schemeData;\n    },\n    set pathname(pathname) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      this._path = [];\n      parse.call(this, pathname, 'relative path start');\n    },\n\n    get search() {\n      return this._isInvalid || !this._query || '?' == this._query ?\n          '' : this._query;\n    },\n    set search(search) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      this._query = '?';\n      if ('?' == search[0])\n        search = search.slice(1);\n      parse.call(this, search, 'query');\n    },\n\n    get hash() {\n      return this._isInvalid || !this._fragment || '#' == this._fragment ?\n          '' : this._fragment;\n    },\n    set hash(hash) {\n      if (this._isInvalid)\n        return;\n      this._fragment = '#';\n      if ('#' == hash[0])\n        hash = hash.slice(1);\n      parse.call(this, hash, 'fragment');\n    },\n\n    get origin() {\n      var host;\n      if (this._isInvalid || !this._scheme) {\n        return '';\n      }\n      // javascript: Gecko returns String(\"\"), WebKit/Blink String(\"null\")\n      // Gecko throws error for \"data://\"\n      // data: Gecko returns \"\", Blink returns \"data://\", WebKit returns \"null\"\n      // Gecko returns String(\"\") for file: mailto:\n      // WebKit/Blink returns String(\"SCHEME://\") for file: mailto:\n      switch (this._scheme) {\n        case 'data':\n        case 'file':\n        case 'javascript':\n        case 'mailto':\n          return 'null';\n      }\n      host = this.host;\n      if (!host) {\n        return '';\n      }\n      return this._scheme + '://' + host;\n    }\n  };\n\n  // Copy over the static methods\n  var OriginalURL = scope.URL;\n  if (OriginalURL) {\n    jURL.createObjectURL = function(blob) {\n      // IE extension allows a second optional options argument.\n      // http://msdn.microsoft.com/en-us/library/ie/hh772302(v=vs.85).aspx\n      return OriginalURL.createObjectURL.apply(OriginalURL, arguments);\n    };\n    jURL.revokeObjectURL = function(url) {\n      OriginalURL.revokeObjectURL(url);\n    };\n  }\n\n  scope.URL = jURL;\n\n})(window);\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n// minimal template polyfill\n(function() {\n  var needsTemplate = (typeof HTMLTemplateElement === 'undefined');\n  // NOTE: Patch document.importNode to work around IE11 bug that\n  // casues children of a document fragment imported while\n  // there is a mutation observer to not have a parentNode (!?!)\n  // This needs to happen *after* patching importNode to fix template cloning\n  if (/Trident/.test(navigator.userAgent)) {\n    (function() {\n      var importNode = document.importNode;\n      document.importNode = function() {\n        var n = importNode.apply(document, arguments);\n        // Copy all children to a new document fragment since\n        // this one may be broken\n        if (n.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n          var f = document.createDocumentFragment();\n          f.appendChild(n);\n          return f;\n        } else {\n          return n;\n        }\n      };\n    })();\n  }\n\n  // returns true if nested templates cannot be cloned (they cannot be on\n  // some impl's like Safari 8)\n  var needsCloning = (function() {\n    if (!needsTemplate) {\n      var t = document.createElement('template');\n      var t2 = document.createElement('template');\n      t2.content.appendChild(document.createElement('div'));\n      t.content.appendChild(t2);\n      var clone = t.cloneNode(true);\n      return (clone.content.childNodes.length === 0 || clone.content.firstChild.content.childNodes.length === 0);\n    }\n  })();\n\n  var TEMPLATE_TAG = 'template';\n  var TemplateImpl = function() {};\n\n  if (needsTemplate) {\n\n    var contentDoc = document.implementation.createHTMLDocument('template');\n    var canDecorate = true;\n\n    var templateStyle = document.createElement('style');\n    templateStyle.textContent = TEMPLATE_TAG + '{display:none;}';\n\n    var head = document.head;\n    head.insertBefore(templateStyle, head.firstElementChild);\n\n    /**\n      Provides a minimal shim for the <template> element.\n    */\n    TemplateImpl.prototype = Object.create(HTMLElement.prototype);\n\n    /**\n      The `decorate` method moves element children to the template's `content`.\n      NOTE: there is no support for dynamically adding elements to templates.\n    */\n    TemplateImpl.decorate = function(template) {\n      // if the template is decorated, return fast\n      if (template.content) {\n        return;\n      }\n      template.content = contentDoc.createDocumentFragment();\n      var child;\n      while (child = template.firstChild) {\n        template.content.appendChild(child);\n      }\n\n      template.cloneNode = function(deep) {\n        return TemplateImpl.cloneNode(this, deep);\n      };\n\n      // add innerHTML to template, if possible\n      // Note: this throws on Safari 7\n      if (canDecorate) {\n        try {\n          Object.defineProperty(template, 'innerHTML', {\n            get: function() {\n              var o = '';\n              for (var e = this.content.firstChild; e; e = e.nextSibling) {\n                o += e.outerHTML || escapeData(e.data);\n              }\n              return o;\n            },\n            set: function(text) {\n              contentDoc.body.innerHTML = text;\n              TemplateImpl.bootstrap(contentDoc);\n              while (this.content.firstChild) {\n                this.content.removeChild(this.content.firstChild);\n              }\n              while (contentDoc.body.firstChild) {\n                this.content.appendChild(contentDoc.body.firstChild);\n              }\n            },\n            configurable: true\n          });\n\n        } catch (err) {\n          canDecorate = false;\n        }\n      }\n      // bootstrap recursively\n      TemplateImpl.bootstrap(template.content);\n    };\n\n    /**\n      The `bootstrap` method is called automatically and \"fixes\" all\n      <template> elements in the document referenced by the `doc` argument.\n    */\n    TemplateImpl.bootstrap = function(doc) {\n      var templates = doc.querySelectorAll(TEMPLATE_TAG);\n      for (var i=0, l=templates.length, t; (i<l) && (t=templates[i]); i++) {\n        TemplateImpl.decorate(t);\n      }\n    };\n\n    // auto-bootstrapping for main document\n    document.addEventListener('DOMContentLoaded', function() {\n      TemplateImpl.bootstrap(document);\n    });\n\n    // Patch document.createElement to ensure newly created templates have content\n    var createElement = document.createElement;\n    document.createElement = function() {\n      'use strict';\n      var el = createElement.apply(document, arguments);\n      if (el.localName === 'template') {\n        TemplateImpl.decorate(el);\n      }\n      return el;\n    };\n\n    var escapeDataRegExp = /[&\\u00A0<>]/g;\n\n    function escapeReplace(c) {\n      switch (c) {\n        case '&':\n          return '&amp;';\n        case '<':\n          return '&lt;';\n        case '>':\n          return '&gt;';\n        case '\\u00A0':\n          return '&nbsp;';\n      }\n    }\n\n    function escapeData(s) {\n      return s.replace(escapeDataRegExp, escapeReplace);\n    }\n  }\n\n  // make cloning/importing work!\n  if (needsTemplate || needsCloning) {\n    // NOTE: we rely on this cloneNode not causing element upgrade.\n    // This means this polyfill must load before the CE polyfill and\n    // this would need to be re-worked if a browser supports native CE\n    // but not <template>.\n    var nativeCloneNode = Node.prototype.cloneNode;\n\n    TemplateImpl.cloneNode = function(template, deep) {\n      var clone = nativeCloneNode.call(template, false);\n      // NOTE: decorate doesn't auto-fix children because they are already\n      // decorated so they need special clone fixup.\n      if (this.decorate) {\n        this.decorate(clone);\n      }\n      if (deep) {\n        // NOTE: use native clone node to make sure CE's wrapped\n        // cloneNode does not cause elements to upgrade.\n        clone.content.appendChild(\n            nativeCloneNode.call(template.content, true));\n        // now ensure nested templates are cloned correctly.\n        this.fixClonedDom(clone.content, template.content);\n      }\n      return clone;\n    };\n\n    // Given a source and cloned subtree, find <template>'s in the cloned\n    // subtree and replace them with cloned <template>'s from source.\n    // We must do this because only the source templates have proper .content.\n    TemplateImpl.fixClonedDom = function(clone, source) {\n      // do nothing if cloned node is not an element\n      if (!source.querySelectorAll) return;\n      // these two lists should be coincident\n      var s$ = source.querySelectorAll(TEMPLATE_TAG);\n      var t$ = clone.querySelectorAll(TEMPLATE_TAG);\n      for (var i=0, l=t$.length, t, s; i<l; i++) {\n        s = s$[i];\n        t = t$[i];\n        if (this.decorate) {\n          this.decorate(s);\n        }\n        t.parentNode.replaceChild(s.cloneNode(true), t);\n      }\n    };\n\n    var originalImportNode = document.importNode;\n\n    // override all cloning to fix the cloned subtree to contain properly\n    // cloned templates.\n    Node.prototype.cloneNode = function(deep) {\n      var dom = nativeCloneNode.call(this, deep);\n      // template.content is cloned iff `deep`.\n      if (deep) {\n        TemplateImpl.fixClonedDom(dom, this);\n      }\n      return dom;\n    };\n\n    // NOTE: we are cloning instead of importing <template>'s.\n    // However, the ownerDocument of the cloned template will be correct!\n    // This is because the native import node creates the right document owned\n    // subtree and `fixClonedDom` inserts cloned templates into this subtree,\n    // thus updating the owner doc.\n    document.importNode = function(element, deep) {\n      if (element.localName === TEMPLATE_TAG) {\n        return TemplateImpl.cloneNode(element, deep);\n      } else {\n        var dom = originalImportNode.call(document, element, deep);\n        if (deep) {\n          TemplateImpl.fixClonedDom(dom, element);\n        }\n        return dom;\n      }\n    };\n\n    if (needsCloning) {\n      HTMLTemplateElement.prototype.cloneNode = function(deep) {\n        return TemplateImpl.cloneNode(this, deep);\n      };\n    }\n  }\n\n  if (needsTemplate) {\n    window.HTMLTemplateElement = TemplateImpl;\n  }\n\n})();\n","import Enumerator from '../enumerator';\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nexport default function all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n","import {\n  isArray\n} from \"../utils\";\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nexport default function race(entries) {\n  /*jshint validthis:true */\n  let Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor((_, reject) => reject(new TypeError('You must pass an array to race.')));\n  } else {\n    return new Constructor((resolve, reject) => {\n      let length = entries.length;\n      for (let i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n","import {\n  noop,\n  reject as _reject\n} from '../-internal';\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nexport default function reject(reason) {\n  /*jshint validthis:true */\n  let Constructor = this;\n  let promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}\n","import Promise from './es6-promise/promise';\nimport polyfill from './es6-promise/polyfill';\n\n// Strange compat..\nPromise.polyfill = polyfill;\nPromise.Promise = Promise;\nexport default Promise;\n","/*global self*/\nimport Promise from './promise';\n\nexport default function polyfill() {\n  let local;\n\n  if (typeof global !== 'undefined') {\n      local = global;\n  } else if (typeof self !== 'undefined') {\n      local = self;\n  } else {\n      try {\n          local = Function('return this')();\n      } catch (e) {\n          throw new Error('polyfill failed because global object is unavailable in this environment');\n      }\n  }\n\n  let P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n        promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch(e) {\n        // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast){\n        return;\n    }\n  }\n\n  local.Promise = Promise;\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n(function(scope) {\n\n  /********************* base setup *********************/\n  const IMPORT_SELECTOR = 'link[rel=import]';\n  const useNative = Boolean('import' in document.createElement('link'));\n  const flags = {\n    bust: false,\n    log: false\n  };\n\n  // Polyfill `currentScript` for browsers without it.\n  let currentScript = null;\n  if ('currentScript' in document === false) {\n    Object.defineProperty(document, 'currentScript', {\n      get: function() {\n        return currentScript ||\n          // NOTE: only works when called in synchronously executing code.\n          // readyState should check if `loading` but IE10 is\n          // interactive when scripts run so we cheat.\n          (document.readyState !== 'complete' ?\n            document.scripts[document.scripts.length - 1] : null);\n      },\n      configurable: true\n    });\n  }\n\n  /********************* path fixup *********************/\n  const ABS_URL_TEST = /(^\\/)|(^#)|(^[\\w-\\d]*:)/;\n  const CSS_URL_REGEXP = /(url\\()([^)]*)(\\))/g;\n  const CSS_IMPORT_REGEXP = /(@import[\\s]+(?!url\\())([^;]*)(;)/g;\n\n\n  // path fixup: style elements in imports must be made relative to the main\n  // document. We fixup url's in url() and @import.\n  const Path = {\n    resolveUrlsInStyle: function(style, linkUrl) {\n      style.textContent = Path.resolveUrlsInCssText(style.textContent, linkUrl);\n    },\n\n    resolveUrlsInCssText: function(cssText, linkUrl) {\n      let r = Path.replaceUrls(cssText, linkUrl, CSS_URL_REGEXP);\n      r = Path.replaceUrls(r, linkUrl, CSS_IMPORT_REGEXP);\n      return r;\n    },\n\n    replaceUrls: function(text, linkUrl, regexp) {\n      return text.replace(regexp, function(m, pre, url, post) {\n        let urlPath = url.replace(/[\"']/g, '');\n        if (linkUrl) {\n          urlPath = Path._resolveUrl(urlPath, linkUrl);\n        }\n        return pre + '\\'' + urlPath + '\\'' + post;\n      });\n    },\n\n    replaceAttrUrl: function(text, linkUrl) {\n      if (text && ABS_URL_TEST.test(text)) {\n        return text;\n      } else {\n        return Path._resolveUrl(text, linkUrl);\n      }\n    },\n\n    _resolveUrl: function(url, base) {\n      // Lazy feature detection.\n      if (Path.__workingURL === undefined) {\n        Path.__workingURL = false;\n        try {\n          const u = new URL('b', 'http://a');\n          u.pathname = 'c%20d';\n          Path.__workingURL = (u.href === 'http://a/c%20d');\n        } catch (e) {}\n      }\n\n      if (Path.__workingURL) {\n        return (new URL(url, base)).href;\n      }\n\n      // Fallback to creating an anchor into a disconnected document.\n      let doc = Path.__tempDoc;\n      if (!doc) {\n        doc = document.implementation.createHTMLDocument('temp');\n        Path.__tempDoc = doc;\n        doc.__base = doc.createElement('base');\n        doc.head.appendChild(doc.__base);\n        doc.__anchor = doc.createElement('a');\n      }\n      doc.__base.href = base;\n      doc.__anchor.href = url;\n      return doc.__anchor.href || url;\n    }\n  };\n\n  /********************* Xhr processor *********************/\n  const Xhr = {\n\n    async: true,\n\n    /**\n     * @param {!string} url\n     * @param {!function(boolean, ?, string=)} callback\n     * @return {XMLHttpRequest}\n     */\n    load: function(url, callback) {\n      const request = new XMLHttpRequest();\n      if (flags.bust) {\n        url += '?' + Math.random();\n      }\n      request.open('GET', url, Xhr.async);\n      request.addEventListener('readystatechange', (e) => {\n        if (request.readyState === 4) {\n          // Servers redirecting an import can add a Location header to help us\n          // polyfill correctly.\n          let redirectedUrl = undefined;\n          try {\n            const locationHeader = request.getResponseHeader('Location');\n            if (locationHeader) {\n              // Relative or full path.\n              redirectedUrl = (locationHeader.substr(0, 1) === '/') ?\n                location.origin + locationHeader : locationHeader;\n            }\n          } catch (e) {\n            console.error(e.message);\n          }\n          const isOk = ((request.status >= 200 && request.status < 300) ||\n            request.status === 304 || request.status === 0);\n          const resource = (request.response || request.responseText);\n          callback(!isOk, resource, redirectedUrl);\n        }\n      });\n      request.send();\n      return request;\n    }\n  };\n\n  /********************* loader *********************/\n  // This loader supports a dynamic list of urls\n  // and an oncomplete callback that is called when the loader is done.\n  // NOTE: The polyfill currently does *not* need this dynamism or the\n  // onComplete concept. Because of this, the loader could be simplified\n  // quite a bit.\n  class Loader {\n    constructor(onLoad, onComplete) {\n      this.cache = {};\n      this.onload = onLoad;\n      this.oncomplete = onComplete;\n      this.inflight = 0;\n      this.pending = {};\n    }\n\n    addNodes(nodes) {\n      // number of transactions to complete\n      this.inflight += nodes.length;\n      // commence transactions\n      for (let i = 0, l = nodes.length, n;\n        (i < l) && (n = nodes[i]); i++) {\n        this.require(n);\n      }\n      // anything to do?\n      this.checkDone();\n    }\n\n    addNode(node) {\n      // number of transactions to complete\n      this.inflight++;\n      // commence transactions\n      this.require(node);\n      // anything to do?\n      this.checkDone();\n    }\n\n    require(elt) {\n      const url = elt.src || elt.href;\n      // deduplication\n      if (!this.dedupe(url, elt)) {\n        // fetch this resource\n        this.fetch(url, elt);\n      }\n    }\n\n    dedupe(url, elt) {\n      if (this.pending[url]) {\n        // add to list of nodes waiting for inUrl\n        this.pending[url].push(elt);\n        // don't need fetch\n        return true;\n      }\n      let resource;\n      if (this.cache[url]) {\n        this.onload(url, elt, this.cache[url]);\n        // finished this transaction\n        this.tail();\n        // don't need fetch\n        return true;\n      }\n      // first node waiting for inUrl\n      this.pending[url] = [elt];\n      // need fetch (not a dupe)\n      return false;\n    }\n\n    fetch(url, elt) {\n      flags.log && console.log('fetch', url, elt);\n      if (!url) {\n        this.receive(url, elt, true, 'error: href must be specified');\n      } else if (url.match(/^data:/)) {\n        // Handle Data URI Scheme\n        const pieces = url.split(',');\n        const header = pieces[0];\n        let body = pieces[1];\n        if (header.indexOf(';base64') > -1) {\n          body = atob(body);\n        } else {\n          body = decodeURIComponent(body);\n        }\n        this.receive(url, elt, false, body);\n      } else {\n        Xhr.load(url, (error, resource, redirectedUrl) =>\n          this.receive(url, elt, error, resource, redirectedUrl));\n      }\n    }\n\n    /**\n     * @param {!string} url\n     * @param {!Element} elt\n     * @param {boolean} err\n     * @param {string=} resource\n     * @param {string=} redirectedUrl\n     */\n    receive(url, elt, err, resource, redirectedUrl) {\n      this.cache[url] = resource;\n      const $p = this.pending[url];\n      for (let i = 0, l = $p.length, p;\n        (i < l) && (p = $p[i]); i++) {\n        // If url was redirected, use the redirected location so paths are\n        // calculated relative to that.\n        this.onload(url, p, resource, err, redirectedUrl);\n        this.tail();\n      }\n      this.pending[url] = null;\n    }\n\n    tail() {\n      --this.inflight;\n      this.checkDone();\n    }\n\n    checkDone() {\n      if (!this.inflight) {\n        this.oncomplete();\n      }\n    }\n  }\n\n  /********************* importer *********************/\n\n  const stylesSelector = [\n    'style:not([type])',\n    'link[rel=stylesheet][href]:not([type])'\n  ].join(',');\n\n  const stylesInImportsSelector = [\n    `${IMPORT_SELECTOR} style:not([type])`,\n    `${IMPORT_SELECTOR} link[rel=stylesheet][href]:not([type])`\n  ].join(',');\n\n  const importsSelectors = [\n    IMPORT_SELECTOR,\n    stylesSelector,\n    'script:not([type])',\n    'script[type=\"application/javascript\"]',\n    'script[type=\"text/javascript\"]'\n  ].join(',');\n\n  /**\n   * Importer will:\n   * - load any linked import documents (with deduping)\n   * - whenever an import is loaded, prompt the parser to try to parse\n   * - observe imported documents for new elements (these are handled via the\n   *   dynamic importer)\n   */\n  class Importer {\n    /**\n     * @param {!HTMLDocument} doc\n     */\n    constructor(doc) {\n      this.documents = {};\n      this._doc = doc;\n      // Make sure to catch any imports that are in the process of loading\n      // when this script is run.\n      const imports = doc.querySelectorAll(IMPORT_SELECTOR);\n      for (let i = 0, l = imports.length; i < l; i++) {\n        whenElementLoaded(imports[i]);\n      }\n      // Observe only document head\n      new MutationObserver(this._onMutation.bind(this)).observe(doc.head, {\n        childList: true\n      });\n\n      if (!useNative) {\n        this._loader = new Loader(\n          this._onLoaded.bind(this), this._onLoadedAll.bind(this)\n        );\n        whenDocumentReady(doc).then(() => this._loadSubtree(doc));\n      }\n    }\n\n    _loadSubtree(doc) {\n      const nodes = doc.querySelectorAll(IMPORT_SELECTOR);\n      // add these nodes to loader's queue\n      this._loader.addNodes(nodes);\n    }\n\n    _onLoaded(url, elt, resource, err, redirectedUrl) {\n      flags.log && console.log('loaded', url, elt);\n      // We've already seen a document at this url, return.\n      if (this.documents[url] !== undefined) {\n        return;\n      }\n      if (err) {\n        this.documents[url] = null;\n      } else {\n        // Generate an HTMLDocument from data.\n        const doc = makeDocument(resource, redirectedUrl || url);\n        // note, we cannot use MO to detect parsed nodes because\n        // SD polyfill does not report these as mutations.\n        this._loadSubtree(doc);\n        this.documents[url] = doc;\n      }\n    }\n\n    _onLoadedAll() {\n      this._flatten(this._doc);\n      Promise.all([\n        runScripts(this._doc),\n        waitForStyles(this._doc)\n      ]).then(() => fireEvents(this._doc));\n    }\n\n    _flatten(element) {\n      const n$ = element.querySelectorAll(IMPORT_SELECTOR);\n      for (let i = 0, l = n$.length, n; i < l && (n = n$[i]); i++) {\n        n.import = this.documents[n.href];\n        if (n.import && !n.import.__firstImport) {\n          n.import.__firstImport = n;\n          this._flatten(n.import);\n          // If in the main document, observe for any imports added later.\n          if (element === document) {\n            // In IE/Edge, when imports have link stylesheets/styles, the cascading order\n            // isn't respected https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/10472273/\n            if (isIE || isEdge) {\n              cloneAndMoveStyles(n);\n            }\n            this._observe(n.import);\n          }\n          n.appendChild(n.import);\n        }\n      }\n    }\n\n    _observe(element) {\n      if (element.__importObserver) {\n        return;\n      }\n      element.__importObserver = new MutationObserver(this._onMutation.bind(this));\n      element.__importObserver.observe(element, {\n        childList: true,\n        subtree: true\n      });\n    }\n\n    /**\n     * @param {Array<MutationRecord>} mutations\n     */\n    _onMutation(mutations) {\n      for (let j = 0, m; j < mutations.length && (m = mutations[j]); j++) {\n        for (let i = 0, l = m.addedNodes ? m.addedNodes.length : 0; i < l; i++) {\n          const n = /** @type {Element} */ (m.addedNodes[i]);\n          if (n && isImportLink(n)) {\n            if (useNative) {\n              whenElementLoaded(n);\n            } else {\n              this._loader.addNode(n);\n            }\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * @type {Function}\n   */\n  const MATCHES = Element.prototype.matches ||\n    Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\n  /**\n   * @param {!Node} node\n   * @return {boolean}\n   */\n  function isImportLink(node) {\n    return node.nodeType === Node.ELEMENT_NODE && MATCHES.call(node, IMPORT_SELECTOR);\n  }\n\n  /********************* vulcanize style inline processing  *********************/\n  const attrs = ['action', 'src', 'href', 'url', 'style'];\n\n  function fixUrlAttributes(element, base) {\n    attrs.forEach((a) => {\n      const at = element.attributes[a];\n      const v = at && at.value;\n      if (v && (v.search(/({{|\\[\\[)/) < 0)) {\n        at.value = (a === 'style') ?\n          Path.resolveUrlsInCssText(v, base) :\n          Path.replaceAttrUrl(v, base);\n      }\n    });\n  }\n\n  function fixUrlsInTemplate(template, base) {\n    const content = template.content;\n    if (!content) { // Template not supported.\n      return;\n    }\n    const n$ = content.querySelectorAll('style, form[action], [src], [href], [url], [style]');\n    for (let i = 0; i < n$.length; i++) {\n      const n = n$[i];\n      if (n.localName == 'style') {\n        Path.resolveUrlsInStyle(n, base);\n      } else {\n        fixUrlAttributes(n, base);\n      }\n    }\n    fixUrlsInTemplates(content, base);\n  }\n\n  function fixUrlsInTemplates(element, base) {\n    const t$ = element.querySelectorAll('template');\n    for (let i = 0; i < t$.length; i++) {\n      fixUrlsInTemplate(t$[i], base);\n    }\n  }\n\n  const scriptType = 'import-script';\n\n  function fixUrls(element, base) {\n    const n$ = element.querySelectorAll(importsSelectors);\n    for (let i = 0, l = n$.length, n; i < l && (n = n$[i]); i++) {\n      // Ensure we add load/error listeners before modifying urls or appending\n      // these to the main document.\n      whenElementLoaded(n);\n      if (n.href) {\n        n.setAttribute('href', Path.replaceAttrUrl(n.getAttribute('href'), base));\n      }\n      if (n.src) {\n        n.setAttribute('src', Path.replaceAttrUrl(n.getAttribute('src'), base));\n      }\n      if (n.localName == 'style') {\n        Path.resolveUrlsInStyle(n, base);\n      } else if (n.localName === 'script') {\n        if (n.textContent) {\n          n.textContent += `\\n//# sourceURL=${base}`;\n        }\n        // NOTE: we override the type here, might need to keep track of original\n        // type and apply it to clone when running the script.\n        n.setAttribute('type', scriptType);\n      }\n    }\n    fixUrlsInTemplates(element, base);\n  }\n\n  function fixDomModules(element, url) {\n    const s$ = element.querySelectorAll('dom-module');\n    for (let i = 0; i < s$.length; i++) {\n      const o = s$[i];\n      const assetpath = o.getAttribute('assetpath') || '';\n      o.setAttribute('assetpath', Path.replaceAttrUrl(assetpath, url));\n    }\n  }\n\n  /**\n   * Replaces all the imported scripts with a clone in order to execute them.\n   * Updates the `currentScript`.\n   * @param {!HTMLDocument} doc\n   * @return {Promise} Resolved when scripts are loaded.\n   */\n  function runScripts(doc) {\n    const s$ = doc.querySelectorAll(`script[type=${scriptType}]`);\n    let promise = Promise.resolve();\n    for (let i = 0, l = s$.length, s; i < l && (s = s$[i]); i++) {\n      promise = promise.then(() => {\n        const c = doc.createElement('script');\n        c.textContent = s.textContent;\n        if (s.src) {\n          c.setAttribute('src', s.getAttribute('src'));\n        }\n        // Listen for load/error events before adding the clone to the document.\n        // Catch failures, always return c.\n        const whenLoadedPromise = whenElementLoaded(c).catch(() => c);\n        // Update currentScript and replace original with clone script.\n        currentScript = c;\n        s.parentNode.replaceChild(c, s);\n        // After is loaded, reset currentScript.\n        return whenLoadedPromise.then((script) => {\n          if (script === currentScript) {\n            currentScript = null;\n          }\n        });\n      });\n    }\n    return promise;\n  }\n\n  /**\n   * Waits for all the imported stylesheets/styles to be loaded.\n   * @param {!HTMLDocument} doc\n   * @return {Promise}\n   */\n  function waitForStyles(doc) {\n    const s$ = doc.querySelectorAll(stylesInImportsSelector);\n    const promises = [];\n    for (let i = 0, l = s$.length, s; i < l && (s = s$[i]); i++) {\n      // Catch failures, always return s\n      promises.push(\n        whenElementLoaded(s).catch(() => s)\n      );\n    }\n    return Promise.all(promises);\n  }\n\n  /**\n   * Clones styles and stylesheets links contained in imports and moves them\n   * as siblings of the root import link.\n   * @param {!HTMLLinkElement} importLink\n   */\n  function cloneAndMoveStyles(importLink) {\n    const n$ = importLink.import.querySelectorAll(stylesSelector);\n    for (let i = 0, l = n$.length, n; i < l && (n = n$[i]); i++) {\n      const clone = document.createElement(n.localName);\n      // Ensure we listen for load/error for this element.\n      whenElementLoaded(clone);\n      // Copy textContent and attributes.\n      clone.textContent = n.textContent;\n      for (let j = 0, ll = n.attributes.length; j < ll; j++) {\n        clone.setAttribute(n.attributes[j].name, n.attributes[j].value);\n      }\n\n      // Remove old, add new.\n      n.parentNode.removeChild(n);\n      importLink.parentNode.insertBefore(clone, importLink);\n    }\n  }\n\n  /**\n   * Fires load/error events for loaded imports.\n   * @param {!HTMLDocument} doc\n   */\n  function fireEvents(doc) {\n    const n$ = /** @type {!NodeList<!HTMLLinkElement>} */\n      (doc.querySelectorAll(IMPORT_SELECTOR));\n    // Inverse order to have events firing bottom-up.\n    for (let i = n$.length - 1, n; i >= 0 && (n = n$[i]); i--) {\n      // Don't fire twice same event.\n      if (!n.__fired) {\n        n.__fired = true;\n        const eventType = n.import ? 'load' : 'error';\n        flags.log && console.warn('fire', eventType, n.href);\n        // Ensure the load promise is setup before firing the event.\n        whenElementLoaded(n);\n        n.dispatchEvent(new CustomEvent(eventType, {\n          bubbles: false,\n          cancelable: false,\n          detail: undefined\n        }));\n      }\n    }\n  }\n\n  /**\n   * Waits for an element to finish loading. If already done loading, it will\n   * mark the element accordingly.\n   * @param {!Element} element\n   * @return {Promise}\n   */\n  function whenElementLoaded(element) {\n    if (!element.__loadPromise) {\n      element.__loadPromise = new Promise((resolve, reject) => {\n        if (isElementLoaded(element)) {\n          resolve(element);\n        } else {\n          element.addEventListener('load', () => resolve(element));\n          element.addEventListener('error', () => reject(element));\n        }\n      });\n    }\n    return element.__loadPromise;\n  }\n\n  /**\n   * @param {!Element} element\n   * @return {boolean}\n   */\n  function isElementLoaded(element) {\n    let isLoaded = false;\n    if (useNative && isImportLink(element) && element.import &&\n      element.import.readyState !== 'loading') {\n      isLoaded = true;\n    } else if (isIE && element.localName === 'style') {\n      // NOTE: IE does not fire \"load\" event for styles that have already\n      // loaded. This is in violation of the spec, so we try our hardest to\n      // work around it.\n      // If there's not @import in the textContent, assume it has loaded\n      if (element.textContent.indexOf('@import') == -1) {\n        isLoaded = true;\n        // if we have a sheet, we have been parsed\n      } else if (element.sheet) {\n        isLoaded = true;\n        const csr = element.sheet.cssRules;\n        // search the rules for @import's\n        for (let i = 0, l = csr ? csr.length : 0; i < l && isLoaded; i++) {\n          if (csr[i].type === CSSRule.IMPORT_RULE) {\n            // if every @import has resolved, fake the load\n            isLoaded = Boolean(csr[i].styleSheet);\n          }\n        }\n      }\n    } else if (element.localName === 'script' && !element.src) {\n      isLoaded = true;\n    }\n    return isLoaded;\n  }\n\n  /**\n   * Creates a new document containing resource and normalizes urls accordingly.\n   * @param {string=} resource\n   * @param {string=} url\n   * @return {HTMLElement}\n   */\n  function makeDocument(resource, url) {\n    const content = /** @type {HTMLElement} */\n      (document.createElement('import-content'));\n    content.style.display = 'none';\n    if (url) {\n      content.setAttribute('import-href', url);\n    }\n    if (resource) {\n      content.innerHTML = resource;\n    }\n\n    // Support <base> in imported docs. Resolve url and remove it from the parent.\n    const baseEl = /** @type {HTMLBaseElement} */ (content.querySelector('base'));\n    if (baseEl) {\n      url = Path._resolveUrl(baseEl.getAttribute('href'), url);\n      baseEl.parentNode.removeChild(baseEl);\n    }\n    // TODO(sorvell): this is specific to users of <dom-module> (Polymer).\n    fixDomModules(content, url);\n    fixUrls(content, url);\n    return content;\n  }\n\n  /**\n    Add support for the `HTMLImportsLoaded` event and the `HTMLImports.whenReady`\n    method. This api is necessary because unlike the native implementation,\n    script elements do not force imports to resolve. Instead, users should wrap\n    code in either an `HTMLImportsLoaded` handler or after load time in an\n    `HTMLImports.whenReady(callback)` call.\n\n    NOTE: This module also supports these apis under the native implementation.\n    Therefore, if this file is loaded, the same code can be used under both\n    the polyfill and native implementation.\n   */\n\n  const isIE = /Trident/.test(navigator.userAgent);\n  const isEdge = !isIE && /Edge\\/\\d./i.test(navigator.userAgent);\n\n  /**\n   * Calls the callback when all HTMLImports in the document at call time\n   * (or at least document ready) have loaded.\n   * @param {function(!HTMLImportInfo)=} callback\n   * @param {HTMLDocument=} doc\n   * @return {Promise}\n   */\n  function whenReady(callback, doc) {\n    doc = doc || document;\n    // 1. ensure the document is in a ready state (has dom), then\n    // 2. watch for loading of imports and call callback when done\n    return whenDocumentReady(doc).then(watchImportsLoad).then((importInfo) => {\n      callback && callback(importInfo);\n      return importInfo;\n    });\n  }\n\n\n  /**\n   * Resolved when document is in ready state.\n   * @param {!HTMLDocument} doc\n   * @returns {Promise}\n   */\n  function whenDocumentReady(doc) {\n    return new Promise((resolve) => {\n      if (doc.readyState !== 'loading') {\n        resolve(doc);\n      } else {\n        doc.addEventListener('readystatechange', () => {\n          if (doc.readyState !== 'loading') {\n            resolve(doc);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Resolved when all imports are done loading. The promise returns the import\n   * details as HTMLImportInfo object.\n   * @param {!HTMLDocument} doc\n   * @returns {Promise}\n   */\n  function watchImportsLoad(doc) {\n    let imports = doc.querySelectorAll(IMPORT_SELECTOR);\n    const promises = [];\n    const importInfo = /** @type {!HTMLImportInfo} */ ({\n      allImports: [],\n      loadedImports: [],\n      errorImports: []\n    });\n    for (let i = 0, l = imports.length, imp; i < l && (imp = imports[i]); i++) {\n      // Skip nested imports.\n      if (MATCHES.call(imp, `${IMPORT_SELECTOR} ${IMPORT_SELECTOR}`)) {\n        continue;\n      }\n      importInfo.allImports.push(imp);\n      promises.push(whenElementLoaded(imp).then((imp) => {\n        importInfo.loadedImports.push(imp);\n        return imp;\n      }).catch((imp) => {\n        importInfo.errorImports.push(imp);\n        // Capture failures, always return imp.\n        return imp;\n      }));\n    }\n    // Return aggregated info.\n    return Promise.all(promises).then(() => importInfo);\n  }\n\n  new Importer(document);\n\n  // Fire the 'HTMLImportsLoaded' event when imports in document at load time\n  // have loaded. This event is required to simulate the script blocking\n  // behavior of native imports. A main document script that needs to be sure\n  // imports have loaded should wait for this event.\n  whenReady((detail) =>\n    document.dispatchEvent(new CustomEvent('HTMLImportsLoaded', {\n      cancelable: true,\n      bubbles: true,\n      detail: detail\n    })));\n\n  // exports\n  scope.useNative = useNative;\n  scope.whenReady = whenReady;\n\n})(window.HTMLImports = (window.HTMLImports || {}));\n","/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function() {\n\n  'use strict';\n\n  // Establish scope.\n  window.WebComponents = window.WebComponents || {flags:{}};\n\n  // loading script\n  var file = 'webcomponents-lite.js';\n  var script = document.querySelector('script[src*=\"' + file + '\"]');\n\n  // Flags. Convert url arguments to flags\n  var flags = {};\n  if (!flags.noOpts) {\n    // from url\n    location.search.slice(1).split('&').forEach(function(option) {\n      var parts = option.split('=');\n      var match;\n      if (parts[0] && (match = parts[0].match(/wc-(.+)/))) {\n        flags[match[1]] = parts[1] || true;\n      }\n    });\n    // from script\n    if (script) {\n      for (var i=0, a; (a=script.attributes[i]); i++) {\n        if (a.name !== 'src') {\n          flags[a.name] = a.value || true;\n        }\n      }\n    }\n    // log flags\n    if (flags.log && flags.log.split) {\n      var parts = flags.log.split(',');\n      flags.log = {};\n      parts.forEach(function(f) {\n        flags.log[f] = true;\n      });\n    } else {\n      flags.log = {};\n    }\n  }\n\n  // exports\n  WebComponents.flags = flags;\n  var scope = window.WebComponents;\n  var forceShady = scope.flags.shadydom;\n  if (forceShady) {\n    window.ShadyDOM = window.ShadyDOM || {};\n    ShadyDOM.force = forceShady;\n  }\n\n  var forceCE = scope.flags.register || scope.flags.ce;\n  if (forceCE && window.customElements) {\n    customElements.forcePolyfill = forceCE;\n  }\n\n})();\n","/*\n\n Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n Code distributed by Google as part of the polymer project is also\n subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n'use strict';(function(){function c(){this.a=new Map;this.j=new Map;this.h=new Map;this.o=new Set;this.C=new MutationObserver(this.D.bind(this));this.f=null;this.F=new Set;this.enableFlush=!0;this.s=!1;this.m=null}function g(){return h.customElements}function l(a){if(!/^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(a)||-1!==t.indexOf(a))return Error(\"The element name '\"+a+\"' is not valid.\")}function m(a,b,e,d){var c=g();a=e?n.call(a,b,e):n.call(a,b);(b=c.a.get(b.toLowerCase()))&&c.u(a,b,d);c.b(a);return a}\nfunction p(a,b,e,d){b=b.toLowerCase();var c=a.getAttribute(b);d.call(a,b,e);1==a.__$CE_upgraded&&(d=g().a.get(a.localName),e=d.A,(d=d.i)&&0<=e.indexOf(b)&&(e=a.getAttribute(b),e!==c&&d.call(a,b,c,e,null)))}var f=document,h=window;if(g()&&(g().g=function(){},!g().forcePolyfill))return;var t=\"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph\".split(\" \");c.prototype.L=function(a,b){function e(a){var b=f[a];if(void 0!==b&&\"function\"!==typeof b)throw Error(c+\n\" '\"+a+\"' is not a Function\");return b}if(\"function\"!==typeof b)throw new TypeError(\"constructor must be a Constructor\");var d=l(a);if(d)throw d;if(this.a.has(a))throw Error(\"An element with name '\"+a+\"' is already defined\");if(this.j.has(b))throw Error(\"Definition failed for '\"+a+\"': The constructor is already used.\");var c=a,f=b.prototype;if(\"object\"!==typeof f)throw new TypeError(\"Definition failed for '\"+a+\"': constructor.prototype must be an object\");var d=e(\"connectedCallback\"),g=e(\"disconnectedCallback\"),\nk=e(\"attributeChangedCallback\");this.a.set(c,{name:a,localName:c,constructor:b,v:d,w:g,i:k,A:k&&b.observedAttributes||[]});this.j.set(b,c);this.K();if(a=this.h.get(c))a.resolve(void 0),this.h.delete(c)};c.prototype.get=function(a){return(a=this.a.get(a))?a.constructor:void 0};c.prototype.M=function(a){var b=l(a);if(b)return Promise.reject(b);if(this.a.has(a))return Promise.resolve();if(b=this.h.get(a))return b.N;var e,d=new Promise(function(a){e=a}),b={N:d,resolve:e};this.h.set(a,b);return d};c.prototype.g=\nfunction(){this.enableFlush&&(this.l(this.m.takeRecords()),this.D(this.C.takeRecords()),this.o.forEach(function(a){this.l(a.takeRecords())},this))};c.prototype.K=function(){var a=this;if(!this.s){this.s=!0;var b=function(){a.s=!1;a.m||(a.m=a.b(f));a.c(f.childNodes)};window.HTMLImports?window.HTMLImports.whenReady(b):b()}};c.prototype.I=function(a){this.f=a};c.prototype.b=function(a){if(null!=a.__$CE_observer)return a.__$CE_observer;a.__$CE_observer=new MutationObserver(this.l.bind(this));a.__$CE_observer.observe(a,\n{childList:!0,subtree:!0});this.enableFlush&&this.o.add(a.__$CE_observer);return a.__$CE_observer};c.prototype.J=function(a){null!=a.__$CE_observer&&(a.__$CE_observer.disconnect(),this.enableFlush&&this.o.delete(a.__$CE_observer),a.__$CE_observer=null)};c.prototype.l=function(a){for(var b=0;b<a.length;b++){var e=a[b];if(\"childList\"===e.type){var d=e.removedNodes;this.c(e.addedNodes);this.H(d)}}};c.prototype.c=function(a,b){b=b||new Set;for(var e=0;e<a.length;e++){var d=a[e];if(d.nodeType===Node.ELEMENT_NODE){this.J(d);\nd=f.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,null,!1);do this.G(d.currentNode,b);while(d.nextNode())}}};c.prototype.G=function(a,b){if(!b.has(a)){b.add(a);var e=this.a.get(a.localName);if(e){a.__$CE_upgraded||this.u(a,e,!0);var d;if(d=a.__$CE_upgraded&&!a.__$CE_attached)a:{d=a;do{if(d.__$CE_attached||d.nodeType===Node.DOCUMENT_NODE){d=!0;break a}d=d.parentNode||d.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&d.host}while(d);d=!1}d&&(a.__$CE_attached=!0,e.v&&e.v.call(a))}a.shadowRoot&&this.c(a.shadowRoot.childNodes,\nb);\"LINK\"===a.tagName&&a.rel&&-1!==a.rel.toLowerCase().split(\" \").indexOf(\"import\")&&this.B(a,b)}};c.prototype.B=function(a,b){var e=a.import;if(e)b.has(e)||(b.add(e),e.__$CE_observer||this.b(e),this.c(e.childNodes,b));else if(b=a.href,!this.F.has(b)){this.F.add(b);var d=this,c=function(){a.removeEventListener(\"load\",c);a.import.__$CE_observer||d.b(a.import);d.c(a.import.childNodes)};a.addEventListener(\"load\",c)}};c.prototype.H=function(a){for(var b=0;b<a.length;b++){var e=a[b];if(e.nodeType===Node.ELEMENT_NODE){this.b(e);\ne=f.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1);do{var d=e.currentNode;if(d.__$CE_upgraded&&d.__$CE_attached){d.__$CE_attached=!1;var c=this.a.get(d.localName);c&&c.w&&c.w.call(d)}}while(e.nextNode())}}};c.prototype.u=function(a,b,e){a.__proto__=b.constructor.prototype;e&&(this.I(a),new b.constructor,a.__$CE_upgraded=!0,console.assert(!this.f));e=b.A;if((b=b.i)&&0<e.length){this.C.observe(a,{attributes:!0,attributeOldValue:!0,attributeFilter:e});for(var d=0;d<e.length;d++){var c=e[d];if(a.hasAttribute(c)){var f=\na.getAttribute(c);b.call(a,c,null,f,null)}}}};c.prototype.D=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(\"attributes\"===c.type){var d=c.target,f=this.a.get(d.localName),g=c.attributeName,h=c.oldValue,k=d.getAttribute(g);k!==h&&f.i.call(d,g,h,k,c.attributeNamespace)}}};window.CustomElementRegistry=c;c.prototype.define=c.prototype.L;c.prototype.get=c.prototype.get;c.prototype.whenDefined=c.prototype.M;c.prototype.flush=c.prototype.g;c.prototype.polyfilled=!0;c.prototype._observeRoot=c.prototype.b;\nc.prototype._addImport=c.prototype.B;var q=h.HTMLElement;c.prototype.nativeHTMLElement=q;h.HTMLElement=function(){var a=g();if(a.f){var b=a.f;a.f=null;return b}if(this.constructor)return a=a.j.get(this.constructor),m(f,a,void 0,!1);throw Error(\"Unknown constructor. Did you call customElements.define()?\");};h.HTMLElement.prototype=q.prototype;var n=f.createElement;f.createElement=function(a,b){return m(f,a,b,!0)};var u=f.createElementNS;f.createElementNS=function(a,b){return\"http://www.w3.org/1999/xhtml\"===\na?f.createElement(b):u.call(f,a,b)};var r=Element.prototype.attachShadow;r&&Object.defineProperty(Element.prototype,\"attachShadow\",{value:function(a){a=r.call(this,a);g().b(a);return a}});var v=f.importNode;f.importNode=function(a,b){a=v.call(f,a,b);g().c(a.nodeType===Node.ELEMENT_NODE?[a]:a.childNodes);return a};var w=Element.prototype.setAttribute;Element.prototype.setAttribute=function(a,b){p(this,a,b,w)};var x=Element.prototype.removeAttribute;Element.prototype.removeAttribute=function(a){p(this,\na,null,x)};Object.defineProperty(window,\"customElements\",{value:new c,configurable:!0,enumerable:!0});window.CustomElements={takeRecords:function(){g().g&&g().g()}}})();\n\n//# sourceMappingURL=custom-elements.min.js.map\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport * as StyleUtil from './style-util'\nimport {nativeShadow} from './style-settings'\n\n/* Transforms ShadowDOM styling into ShadyDOM styling\n\n* scoping:\n\n  * elements in scope get scoping selector class=\"x-foo-scope\"\n  * selectors re-written as follows:\n\n    div button -> div.x-foo-scope button.x-foo-scope\n\n* :host -> scopeName\n\n* :host(...) -> scopeName...\n\n* ::slotted(...) -> scopeName > ...\n\n* ...:dir(ltr|rtl) -> [dir=\"ltr|rtl\"] ..., ...[dir=\"ltr|rtl\"]\n\n* :host(:dir[rtl]) -> scopeName:dir(rtl) -> [dir=\"rtl\"] scopeName, scopeName[dir=\"rtl\"]\n\n*/\nconst SCOPE_NAME = 'style-scope';\n\nclass StyleTransformer {\n  get SCOPE_NAME() {\n    return SCOPE_NAME;\n  }\n  // Given a node and scope name, add a scoping class to each node\n  // in the tree. This facilitates transforming css into scoped rules.\n  dom(node, scope, shouldRemoveScope) {\n    // one time optimization to skip scoping...\n    if (node.__styleScoped) {\n      node.__styleScoped = null;\n    } else {\n      this._transformDom(node, scope || '', shouldRemoveScope);\n    }\n  }\n\n  _transformDom(node, selector, shouldRemoveScope) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      this.element(node, selector, shouldRemoveScope);\n    }\n    let c$ = (node.localName === 'template') ?\n      (node.content || node._content).childNodes :\n      node.children || node.childNodes;\n    if (c$) {\n      for (let i=0; i<c$.length; i++) {\n        this._transformDom(c$[i], selector, shouldRemoveScope);\n      }\n    }\n  }\n\n  element(element, scope, shouldRemoveScope) {\n    // note: if using classes, we add both the general 'style-scope' class\n    // as well as the specific scope. This enables easy filtering of all\n    // `style-scope` elements\n    if (scope) {\n      // note: svg on IE does not have classList so fallback to class\n      if (element.classList) {\n        if (shouldRemoveScope) {\n          element.classList.remove(SCOPE_NAME);\n          element.classList.remove(scope);\n        } else {\n          element.classList.add(SCOPE_NAME);\n          element.classList.add(scope);\n        }\n      } else if (element.getAttribute) {\n        let c = element.getAttribute(CLASS);\n        if (shouldRemoveScope) {\n          if (c) {\n            let newValue = c.replace(SCOPE_NAME, '').replace(scope, '');\n            StyleUtil.setElementClassRaw(element, newValue);\n          }\n        } else {\n          let newValue = (c ? c + ' ' : '') + SCOPE_NAME + ' ' + scope;\n          StyleUtil.setElementClassRaw(element, newValue);\n        }\n      }\n    }\n  }\n\n  elementStyles(element, styleRules, callback) {\n    let cssBuildType = element.__cssBuild;\n    // no need to shim selectors if settings.useNativeShadow, also\n    // a shady css build will already have transformed selectors\n    // NOTE: This method may be called as part of static or property shimming.\n    // When there is a targeted build it will not be called for static shimming,\n    // but when the property shim is used it is called and should opt out of\n    // static shimming work when a proper build exists.\n    let cssText = (nativeShadow || cssBuildType === 'shady') ?\n    StyleUtil.toCssText(styleRules, callback) :\n    this.css(styleRules, element.is, element.extends, callback) + '\\n\\n';\n    return cssText.trim();\n  }\n\n  // Given a string of cssText and a scoping string (scope), returns\n  // a string of scoped css where each selector is transformed to include\n  // a class created from the scope. ShadowDOM selectors are also transformed\n  // (e.g. :host) to use the scoping selector.\n  css(rules, scope, ext, callback) {\n    let hostScope = this._calcHostScope(scope, ext);\n    scope = this._calcElementScope(scope);\n    let self = this;\n    return StyleUtil.toCssText(rules, function(rule) {\n      if (!rule.isScoped) {\n        self.rule(rule, scope, hostScope);\n        rule.isScoped = true;\n      }\n      if (callback) {\n        callback(rule, scope, hostScope);\n      }\n    });\n  }\n\n  _calcElementScope(scope) {\n    if (scope) {\n      return CSS_CLASS_PREFIX + scope;\n    } else {\n      return '';\n    }\n  }\n\n  _calcHostScope(scope, ext) {\n    return ext ? '[is=' +  scope + ']' : scope;\n  }\n\n  rule(rule, scope, hostScope) {\n    this._transformRule(rule, this._transformComplexSelector,\n      scope, hostScope);\n  }\n\n  // transforms a css rule to a scoped rule.\n  _transformRule(rule, transformer, scope, hostScope) {\n    // NOTE: save transformedSelector for subsequent matching of elements\n    // against selectors (e.g. when calculating style properties)\n    rule.selector = rule.transformedSelector =\n      this._transformRuleCss(rule, transformer, scope, hostScope);\n  }\n\n  _transformRuleCss(rule, transformer, scope, hostScope) {\n    let p$ = rule.selector.split(COMPLEX_SELECTOR_SEP);\n    // we want to skip transformation of rules that appear in keyframes,\n    // because they are keyframe selectors, not element selectors.\n    if (!StyleUtil.isKeyframesSelector(rule)) {\n      for (let i=0, l=p$.length, p; (i<l) && (p=p$[i]); i++) {\n        p$[i] = transformer.call(this, p, scope, hostScope);\n      }\n    }\n    return p$.join(COMPLEX_SELECTOR_SEP);\n  }\n\n  _transformComplexSelector(selector, scope, hostScope) {\n    let stop = false;\n    selector = selector.trim();\n    // Remove spaces inside of selectors like `:nth-of-type` because it confuses SIMPLE_SELECTOR_SEP\n    selector = selector.replace(NTH, (m, type, inner) => `:${type}(${inner.replace(/\\s/g, '')})`);\n    selector = selector.replace(SLOTTED_START, `${HOST} $1`);\n    selector = selector.replace(SIMPLE_SELECTOR_SEP, (m, c, s) => {\n      if (!stop) {\n        let info = this._transformCompoundSelector(s, c, scope, hostScope);\n        stop = stop || info.stop;\n        c = info.combinator;\n        s = info.value;\n      }\n      return c + s;\n    });\n    return selector;\n  }\n\n  _transformCompoundSelector(selector, combinator, scope, hostScope) {\n    // replace :host with host scoping class\n    let slottedIndex = selector.indexOf(SLOTTED);\n    if (selector.indexOf(HOST) >= 0) {\n      selector = this._transformHostSelector(selector, hostScope);\n    // replace other selectors with scoping class\n    } else if (slottedIndex !== 0) {\n      selector = scope ? this._transformSimpleSelector(selector, scope) :\n        selector;\n    }\n    // mark ::slotted() scope jump to replace with descendant selector + arg\n    // also ignore left-side combinator\n    let slotted = false;\n    if (slottedIndex >= 0) {\n      combinator = '';\n      slotted = true;\n    }\n    // process scope jumping selectors up to the scope jump and then stop\n    let stop;\n    if (slotted) {\n      stop = true;\n      if (slotted) {\n        // .zonk ::slotted(.foo) -> .zonk.scope > .foo\n        selector = selector.replace(SLOTTED_PAREN, (m, paren) => ` > ${paren}`);\n      }\n    }\n    selector = selector.replace(DIR_PAREN, (m, before, dir) =>\n      `[dir=\"${dir}\"] ${before}, ${before}[dir=\"${dir}\"]`);\n    return {value: selector, combinator, stop};\n  }\n\n  _transformSimpleSelector(selector, scope) {\n    let p$ = selector.split(PSEUDO_PREFIX);\n    p$[0] += scope;\n    return p$.join(PSEUDO_PREFIX);\n  }\n\n  // :host(...) -> scopeName...\n  _transformHostSelector(selector, hostScope) {\n    let m = selector.match(HOST_PAREN);\n    let paren = m && m[2].trim() || '';\n    if (paren) {\n      if (!paren[0].match(SIMPLE_SELECTOR_PREFIX)) {\n        // paren starts with a type selector\n        let typeSelector = paren.split(SIMPLE_SELECTOR_PREFIX)[0];\n        // if the type selector is our hostScope then avoid pre-pending it\n        if (typeSelector === hostScope) {\n          return paren;\n        // otherwise, this selector should not match in this scope so\n        // output a bogus selector.\n        } else {\n          return SELECTOR_NO_MATCH;\n        }\n      } else {\n        // make sure to do a replace here to catch selectors like:\n        // `:host(.foo)::before`\n        return selector.replace(HOST_PAREN, function(m, host, paren) {\n          return hostScope + paren;\n        });\n      }\n    // if no paren, do a straight :host replacement.\n    // TODO(sorvell): this should not strictly be necessary but\n    // it's needed to maintain support for `:host[foo]` type selectors\n    // which have been improperly used under Shady DOM. This should be\n    // deprecated.\n    } else {\n      return selector.replace(HOST, hostScope);\n    }\n  }\n\n  documentRule(rule) {\n    // reset selector in case this is redone.\n    rule.selector = rule.parsedSelector;\n    this.normalizeRootSelector(rule);\n    this._transformRule(rule, this._transformDocumentSelector);\n  }\n\n  normalizeRootSelector(rule) {\n    if (rule.selector === ROOT) {\n      rule.selector = 'html';\n    }\n  }\n\n  _transformDocumentSelector(selector) {\n    return selector.match(SLOTTED) ?\n      this._transformComplexSelector(selector, SCOPE_DOC_SELECTOR) :\n      this._transformSimpleSelector(selector.trim(), SCOPE_DOC_SELECTOR);\n  }\n}\n\nlet NTH = /:(nth[-\\w]+)\\(([^)]+)\\)/;\nlet SCOPE_DOC_SELECTOR = `:not(.${SCOPE_NAME})`;\nlet COMPLEX_SELECTOR_SEP = ',';\nlet SIMPLE_SELECTOR_SEP = /(^|[\\s>+~]+)((?:\\[.+?\\]|[^\\s>+~=\\[])+)/g;\nlet SIMPLE_SELECTOR_PREFIX = /[[.:#*]/;\nlet HOST = ':host';\nlet ROOT = ':root';\nlet SLOTTED = '::slotted';\nlet SLOTTED_START = new RegExp(`^(${SLOTTED})`);\n// NOTE: this supports 1 nested () pair for things like\n// :host(:not([selected]), more general support requires\n// parsing which seems like overkill\nlet HOST_PAREN = /(:host)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/;\n// similar to HOST_PAREN\nlet SLOTTED_PAREN = /(?:::slotted)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/;\nlet DIR_PAREN = /(.*):dir\\((?:(ltr|rtl))\\)/;\nlet CSS_CLASS_PREFIX = '.';\nlet PSEUDO_PREFIX = ':';\nlet CLASS = 'class';\nlet SELECTOR_NO_MATCH = 'should_not_match';\n\nexport default new StyleTransformer()","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nexport default {};\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport templateMap from './template-map'\n\nconst promise = Promise.resolve();\n\nexport default class StyleInfo {\n  static get(node) {\n    return node.__styleInfo;\n  }\n  static set(node, styleInfo) {\n    node.__styleInfo = styleInfo;\n    return styleInfo;\n  }\n  static invalidate(elementName) {\n    if (templateMap[elementName]) {\n      templateMap[elementName]._applyShimInvalid = true;\n    }\n  }\n  /*\n  the template is marked as `validating` for one microtask so that all instances\n  found in the tree crawl of `applyStyle` will update themselves,\n  but the template will only be updated once.\n  */\n  static startValidating(elementName) {\n    const template = templateMap[elementName];\n    if (!template._validating) {\n      template._validating = true;\n      promise.then(() => {\n        template._applyShimInvalid = false;\n        template._validating = false;\n      });\n    }\n  }\n  constructor(ast, placeholder, ownStylePropertyNames, elementName, typeExtension, cssBuild) {\n    this.styleRules = ast || null;\n    this.placeholder = placeholder || null;\n    this.ownStylePropertyNames = ownStylePropertyNames || [];\n    this.overrideStyleProperties = null;\n    this.elementName = elementName || '';\n    this.cssBuild = cssBuild || '';\n    this.typeExtension = typeExtension || '';\n    this.styleProperties = null;\n    this.scopeSelector = null;\n    this.customStyle = null;\n  }\n}\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {applyStylePlaceHolder} from './style-util'\nimport {nativeShadow} from './style-settings'\n\nlet placeholderMap = {};\n\nconst ce = window.customElements;\nif (ce && !nativeShadow) {\n  const origDefine = ce.define;\n  ce.define = function(name, clazz, options) {\n    placeholderMap[name] = applyStylePlaceHolder(name);\n    return origDefine.call(ce, name, clazz, options);\n  };\n}\n\nexport default placeholderMap;\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/**\n * The apply shim simulates the behavior of `@apply` proposed at\n * https://tabatkins.github.io/specs/css-apply-rule/.\n * The approach is to convert a property like this:\n *\n *    --foo: {color: red; background: blue;}\n *\n * to this:\n *\n *    --foo_-_color: red;\n *    --foo_-_background: blue;\n *\n * Then where `@apply --foo` is used, that is converted to:\n *\n *    color: var(--foo_-_color);\n *    background: var(--foo_-_background);\n *\n * This approach generally works but there are some issues and limitations.\n * Consider, for example, that somewhere *between* where `--foo` is set and used,\n * another element sets it to:\n *\n *    --foo: { border: 2px solid red; }\n *\n * We must now ensure that the color and background from the previous setting\n * do not apply. This is accomplished by changing the property set to this:\n *\n *    --foo_-_border: 2px solid red;\n *    --foo_-_color: initial;\n *    --foo_-_background: initial;\n *\n * This works but introduces one new issue.\n * Consider this setup at the point where the `@apply` is used:\n *\n *    background: orange;\n *    @apply --foo;\n *\n * In this case the background will be unset (initial) rather than the desired\n * `orange`. We address this by altering the property set to use a fallback\n * value like this:\n *\n *    color: var(--foo_-_color);\n *    background: var(--foo_-_background, orange);\n *    border: var(--foo_-_border);\n *\n * Note that the default is retained in the property set and the `background` is\n * the desired `orange`. This leads us to a limitation.\n *\n * Limitation 1:\n\n * Only properties in the rule where the `@apply`\n * is used are considered as default values.\n * If another rule matches the element and sets `background` with\n * less specificity than the rule in which `@apply` appears,\n * the `background` will not be set.\n *\n * Limitation 2:\n *\n * When using Polymer's `updateStyles` api, new properties may not be set for\n * `@apply` properties.\n\n*/\n\n'use strict';\n\nimport {rx, forEachRule, processVariableAndFallback, rulesForStyle} from './style-util'\nimport templateMap from './template-map'\nimport StyleInfo from './style-info'\n\nlet MIXIN_MATCH = rx.MIXIN_MATCH;\nlet VAR_ASSIGN = rx.VAR_ASSIGN;\n\nlet APPLY_NAME_CLEAN = /;\\s*/m;\nlet INITIAL_INHERIT = /^\\s*(initial)|(inherit)\\s*$/;\n\n// separator used between mixin-name and mixin-property-name when producing properties\n// NOTE: plain '-' may cause collisions in user styles\nlet MIXIN_VAR_SEP = '_-_';\n\n// map of mixin to property names\n// --foo: {border: 2px} -> {properties: {(--foo, ['border'])}, dependants: {'element-name': proto}}\nclass MixinMap {\n  constructor() {\n    this._map = {};\n  }\n  set(name, props) {\n    name = name.trim();\n    this._map[name] = {\n      properties: props,\n      dependants: {}\n    }\n  }\n  get(name) {\n    name = name.trim();\n    return this._map[name];\n  }\n}\n\nclass ApplyShim {\n  constructor() {\n    this._currentTemplate = null;\n    this._measureElement = null;\n    this._map = new MixinMap();\n    this._separator = MIXIN_VAR_SEP;\n    this._boundProduceCssProperties = (\n      matchText, propertyName, valueProperty, valueMixin) =>\n        this._produceCssProperties(\n          matchText, propertyName, valueProperty, valueMixin);\n  }\n  // return true if `cssText` contains a mixin definition or consumption\n  detectMixin(cssText) {\n    const has = MIXIN_MATCH.test(cssText) || VAR_ASSIGN.test(cssText);\n    // reset state of the regexes\n    MIXIN_MATCH.lastIndex = 0;\n    VAR_ASSIGN.lastIndex = 0;\n    return has;\n  }\n  transformStyle(style, elementName) {\n    let ast = rulesForStyle(style);\n    this.transformRules(ast, elementName);\n    return ast;\n  }\n  transformRules(rules, elementName) {\n    this._currentTemplate = templateMap[elementName];\n    forEachRule(rules, (r) => {\n      this.transformRule(r);\n    });\n    this._currentTemplate = null;\n  }\n  transformRule(rule) {\n    rule.cssText = this.transformCssText(rule.parsedCssText);\n    // :root was only used for variable assignment in property shim,\n    // but generates invalid selectors with real properties.\n    // replace with `:host > *`, which serves the same effect\n    if (rule.selector === ':root') {\n      rule.selector = ':host > *';\n    }\n  }\n  transformCssText(cssText) {\n    // produce variables\n    cssText = cssText.replace(VAR_ASSIGN, this._boundProduceCssProperties);\n    // consume mixins\n    return this._consumeCssProperties(cssText);\n  }\n  _getInitialValueForProperty(property) {\n    if (!this._measureElement) {\n      this._measureElement = document.createElement('meta');\n      this._measureElement.style.all = 'initial';\n      document.head.appendChild(this._measureElement);\n    }\n    return window.getComputedStyle(this._measureElement).getPropertyValue(property);\n  }\n  // replace mixin consumption with variable consumption\n  _consumeCssProperties(text) {\n    let m;\n    // loop over text until all mixins with defintions have been applied\n    while((m = MIXIN_MATCH.exec(text))) {\n      let matchText = m[0];\n      let mixinName = m[1];\n      let idx = m.index;\n      // collect properties before apply to be \"defaults\" if mixin might override them\n      // match includes a \"prefix\", so find the start and end positions of @apply\n      let applyPos = idx + matchText.indexOf('@apply');\n      let afterApplyPos = idx + matchText.length;\n      // find props defined before this @apply\n      let textBeforeApply = text.slice(0, applyPos);\n      let textAfterApply = text.slice(afterApplyPos);\n      let defaults = this._cssTextToMap(textBeforeApply);\n      let replacement = this._atApplyToCssProperties(mixinName, defaults);\n      // use regex match position to replace mixin, keep linear processing time\n      text = [textBeforeApply, replacement, textAfterApply].join('');\n      // move regex search to _after_ replacement\n      MIXIN_MATCH.lastIndex = idx + replacement.length;\n    }\n    return text;\n  }\n  // produce variable consumption at the site of mixin consumption\n  // @apply --foo; -> for all props (${propname}: var(--foo_-_${propname}, ${fallback[propname]}}))\n  // Example:\n  // border: var(--foo_-_border); padding: var(--foo_-_padding, 2px)\n  _atApplyToCssProperties(mixinName, fallbacks) {\n    mixinName = mixinName.replace(APPLY_NAME_CLEAN, '');\n    let vars = [];\n    let mixinEntry = this._map.get(mixinName);\n    // if we depend on a mixin before it is created\n    // make a sentinel entry in the map to add this element as a dependency for when it is defined.\n    if (!mixinEntry) {\n      this._map.set(mixinName, {});\n      mixinEntry = this._map.get(mixinName);\n    }\n    if (mixinEntry) {\n      if (this._currentTemplate) {\n        mixinEntry.dependants[this._currentTemplate.name] = this._currentTemplate;\n      }\n      let p, parts, f;\n      for (p in mixinEntry.properties) {\n        f = fallbacks && fallbacks[p];\n        parts = [p, ': var(', mixinName, MIXIN_VAR_SEP, p];\n        if (f) {\n          parts.push(',', f);\n        }\n        parts.push(')');\n        vars.push(parts.join(''));\n      }\n    }\n    return vars.join('; ');\n  }\n\n  _replaceInitialOrInherit(property, value) {\n    let match = INITIAL_INHERIT.exec(value);\n    if (match) {\n      if (match[1]) {\n        // initial\n        // replace `initial` with the concrete initial value for this property\n        value = ApplyShim._getInitialValueForProperty(property);\n      } else {\n        // inherit\n        // with this purposfully illegal value, the variable will be invalid at\n        // compute time (https://www.w3.org/TR/css-variables/#invalid-at-computed-value-time)\n        // and for inheriting values, will behave similarly\n        // we cannot support the same behavior for non inheriting values like 'border'\n        value = 'apply-shim-inherit';\n      }\n    }\n    return value;\n  }\n\n  // \"parse\" a mixin definition into a map of properties and values\n  // cssTextToMap('border: 2px solid black') -> ('border', '2px solid black')\n  _cssTextToMap(text) {\n    let props = text.split(';');\n    let property, value;\n    let out = {};\n    for (let i = 0, p, sp; i < props.length; i++) {\n      p = props[i];\n      if (p) {\n        sp = p.split(':');\n        // ignore lines that aren't definitions like @media\n        if (sp.length > 1) {\n          property = sp[0].trim();\n          // some properties may have ':' in the value, like data urls\n          value = this._replaceInitialOrInherit(property, sp.slice(1).join(':'));\n          out[property] = value;\n        }\n      }\n    }\n    return out;\n  }\n\n  _invalidateMixinEntry(mixinEntry) {\n    for (let elementName in mixinEntry.dependants) {\n      if (!this._currentTemplate || elementName !== this._currentTemplate.name) {\n        StyleInfo.invalidate(elementName);\n      }\n    }\n  }\n\n  _produceCssProperties(matchText, propertyName, valueProperty, valueMixin) {\n    // handle case where property value is a mixin\n    if (valueProperty) {\n      // form: --mixin2: var(--mixin1), where --mixin1 is in the map\n      processVariableAndFallback(valueProperty, (prefix, value) => {\n        if (value && this._map.get(value)) {\n          valueMixin = '@apply ' + value + ';';\n        }\n      });\n    }\n    if (!valueMixin) {\n      return matchText;\n    }\n    let mixinAsProperties = this._consumeCssProperties(valueMixin);\n    let prefix = matchText.slice(0, matchText.indexOf('--'));\n    let mixinValues = this._cssTextToMap(mixinAsProperties);\n    let combinedProps = mixinValues;\n    let mixinEntry = this._map.get(propertyName);\n    let oldProps = mixinEntry && mixinEntry.properties;\n    if (oldProps) {\n      // NOTE: since we use mixin, the map of properties is updated here\n      // and this is what we want.\n      combinedProps = Object.assign(Object.create(oldProps), mixinValues);\n    } else {\n      this._map.set(propertyName, combinedProps);\n    }\n    let out = [];\n    let p, v;\n    // set variables defined by current mixin\n    let needToInvalidate = false;\n    for (p in combinedProps) {\n      v = mixinValues[p];\n      // if property not defined by current mixin, set initial\n      if (v === undefined) {\n        v = 'initial';\n      }\n      if (oldProps && !(p in oldProps)) {\n        needToInvalidate = true;\n      }\n      out.push(propertyName + MIXIN_VAR_SEP + p + ': ' + v);\n    }\n    if (needToInvalidate) {\n      this._invalidateMixinEntry(mixinEntry);\n    }\n    if (mixinEntry) {\n      mixinEntry.properties = combinedProps;\n    }\n    // because the mixinMap is global, the mixin might conflict with\n    // a different scope's simple variable definition:\n    // Example:\n    // some style somewhere:\n    // --mixin1:{ ... }\n    // --mixin2: var(--mixin1);\n    // some other element:\n    // --mixin1: 10px solid red;\n    // --foo: var(--mixin1);\n    // In this case, we leave the original variable definition in place.\n    if (valueProperty) {\n      prefix = matchText + ';' + prefix;\n    }\n    return prefix + out.join('; ') + ';';\n  }\n}\n\nlet applyShim = new ApplyShim();\nwindow['ApplyShim'] = applyShim;\nexport default applyShim;\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {nativeShadow} from './style-settings'\nimport StyleTransformer from './style-transformer'\n\nexport let flush = function() {};\n\nif (!nativeShadow) {\n  let elementNeedsScoping = (element) => {\n    return (element.classList &&\n      !element.classList.contains(StyleTransformer.SCOPE_NAME) ||\n      // note: necessary for IE11\n      (element instanceof SVGElement && (!element.hasAttribute('class') ||\n      element.getAttribute('class').indexOf(StyleTransformer.SCOPE_NAME) < 0)));\n  }\n\n  let handler = (mxns) => {\n    for (let x=0; x < mxns.length; x++) {\n      let mxn = mxns[x];\n      if (mxn.target === document.documentElement ||\n        mxn.target === document.head) {\n        continue;\n      }\n      for (let i=0; i < mxn.addedNodes.length; i++) {\n        let n = mxn.addedNodes[i];\n        if (elementNeedsScoping(n)) {\n          let root = n.getRootNode();\n          if (root.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            // may no longer be in a shadowroot\n            let host = root.host;\n            if (host) {\n              let scope = host.is || host.localName;\n              StyleTransformer.dom(n, scope);\n            }\n          }\n        }\n      }\n      for (let i=0; i < mxn.removedNodes.length; i++) {\n        let n = mxn.removedNodes[i];\n        if (n.nodeType === Node.ELEMENT_NODE) {\n          let classes = undefined;\n          if (n.classList) {\n            classes = Array.from(n.classList);\n          } else if (n.hasAttribute('class')) {\n            classes = n.getAttribute('class').split(/\\s+/);\n          }\n          if (classes !== undefined) {\n            // NOTE: relies on the scoping class always being adjacent to the\n            // SCOPE_NAME class.\n            let classIdx = classes.indexOf(StyleTransformer.SCOPE_NAME);\n            if (classIdx >= 0) {\n              let scope = classes[classIdx + 1];\n              if (scope) {\n                StyleTransformer.dom(n, scope, true);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  let observer = new MutationObserver(handler);\n  let start = (node) => {\n    observer.observe(node, {childList: true, subtree: true});\n  }\n  let nativeCustomElements = (window.customElements &&\n    !window.customElements.flush);\n  // need to start immediately with native custom elements\n  // TODO(dfreedm): with polyfilled HTMLImports and native custom elements\n  // excessive mutations may be observed; this can be optimized via cooperation\n  // with the HTMLImports polyfill.\n  if (nativeCustomElements) {\n    start(document);\n  } else {\n    let delayedStart = () => {\n      start(document.body);\n    }\n    // use polyfill timing if it's available\n    if (window.HTMLImports) {\n      window.HTMLImports.whenReady(delayedStart);\n    // otherwise push beyond native imports being ready\n    // which requires RAF + readystate interactive.\n    } else {\n      requestAnimationFrame(function() {\n        if (document.readyState === 'loading') {\n          let listener = function() {\n            delayedStart();\n            document.removeEventListener('readystatechange', listener);\n          }\n          document.addEventListener('readystatechange', listener);\n        } else {\n          delayedStart();\n        }\n      });\n    }\n  }\n\n  flush = function() {\n    handler(observer.takeRecords());\n  }\n}\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport {parse} from './css-parse'\nimport {nativeShadow, nativeCssVariables, nativeCssApply} from './style-settings'\nimport StyleTransformer from './style-transformer'\nimport * as StyleUtil from './style-util'\nimport StyleProperties from './style-properties'\nimport templateMap from './template-map'\nimport placeholderMap from './style-placeholder'\nimport StyleInfo from './style-info'\nimport StyleCache from './style-cache'\n\n// TODO(dfreedm): consider spliting into separate global\nimport ApplyShim from './apply-shim'\nimport {flush as watcherFlush} from './document-watcher'\n\nlet styleCache = new StyleCache();\n\nclass ShadyCSS {\n  constructor() {\n    this._scopeCounter = {};\n    this._documentOwner = document.documentElement;\n    this._documentOwnerStyleInfo = StyleInfo.set(document.documentElement, new StyleInfo({rules: []}));\n    this._elementsHaveApplied = false;\n  }\n  get nativeShadow() {\n    return nativeShadow;\n  }\n  get nativeCss() {\n    return nativeCssVariables;\n  }\n  get nativeCssApply() {\n    return nativeCssApply;\n  }\n  flush() {\n    watcherFlush();\n  }\n  _generateScopeSelector(name) {\n    let id = this._scopeCounter[name] = (this._scopeCounter[name] || 0) + 1;\n    return `${name}-${id}`;\n  }\n  getStyleAst(style) {\n    return StyleUtil.rulesForStyle(style);\n  }\n  styleAstToString(ast) {\n    return StyleUtil.toCssText(ast);\n  }\n  _gatherStyles(template) {\n    let styles = template.content.querySelectorAll('style');\n    let cssText = [];\n    for (let i = 0; i < styles.length; i++) {\n      let s = styles[i];\n      cssText.push(s.textContent);\n      s.parentNode.removeChild(s);\n    }\n    return cssText.join('').trim();\n  }\n  _getCssBuild(template) {\n    let style = template.content.querySelector('style');\n    if (!style) {\n      return '';\n    }\n    return style.getAttribute('css-build') || '';\n  }\n  prepareTemplate(template, elementName, typeExtension) {\n    if (template._prepared) {\n      return;\n    }\n    template._prepared = true;\n    template.name = elementName;\n    template.extends = typeExtension;\n    templateMap[elementName] = template;\n    let cssBuild = this._getCssBuild(template);\n    let cssText = this._gatherStyles(template);\n    let info = {\n      is: elementName,\n      extends: typeExtension,\n      __cssBuild: cssBuild,\n    };\n    if (!this.nativeShadow) {\n      StyleTransformer.dom(template.content, elementName);\n    }\n    // check if the styling has mixin definitions or uses\n    let hasMixins = ApplyShim.detectMixin(cssText);\n    let ast = parse(cssText);\n    // only run the applyshim transforms if there is a mixin involved\n    if (hasMixins && this.nativeCss && !this.nativeCssApply) {\n      ApplyShim.transformRules(ast, elementName);\n    }\n    template._styleAst = ast;\n\n    let ownPropertyNames = [];\n    if (!this.nativeCss) {\n      ownPropertyNames = StyleProperties.decorateStyles(template._styleAst, info);\n    }\n    if (!ownPropertyNames.length || this.nativeCss) {\n      let root = this.nativeShadow ? template.content : null;\n      let placeholder = placeholderMap[elementName];\n      let style = this._generateStaticStyle(info, template._styleAst, root, placeholder);\n      template._style = style;\n    }\n    template._ownPropertyNames = ownPropertyNames;\n  }\n  _generateStaticStyle(info, rules, shadowroot, placeholder) {\n    let cssText = StyleTransformer.elementStyles(info, rules);\n    if (cssText.length) {\n      return StyleUtil.applyCss(cssText, info.is, shadowroot, placeholder);\n    }\n  }\n  _prepareHost(host) {\n    let is = host.getAttribute('is') || host.localName;\n    let typeExtension;\n    if (is !== host.localName) {\n      typeExtension = host.localName;\n    }\n    let placeholder = placeholderMap[is];\n    let template = templateMap[is];\n    let ast;\n    let ownStylePropertyNames;\n    let cssBuild;\n    if (template) {\n      ast = template._styleAst;\n      ownStylePropertyNames = template._ownPropertyNames;\n      cssBuild = template._cssBuild;\n    }\n    return StyleInfo.set(host,\n      new StyleInfo(\n        ast,\n        placeholder,\n        ownStylePropertyNames,\n        is,\n        typeExtension,\n        cssBuild\n      )\n    );\n  }\n  applyStyle(host, overrideProps) {\n    let is = host.getAttribute('is') || host.localName;\n    let styleInfo = StyleInfo.get(host);\n    let hasApplied = Boolean(styleInfo);\n    if (!styleInfo) {\n      styleInfo = this._prepareHost(host);\n    }\n    // Only trip the `elementsHaveApplied` flag if a node other that the root document has `applyStyle` called\n    if (!this._isRootOwner(host)) {\n      this._elementsHaveApplied = true;\n    }\n    if (window.CustomStyle) {\n      let CS = window.CustomStyle;\n      if (CS._documentDirty) {\n        CS.findStyles();\n        if (!this.nativeCss) {\n          this._updateProperties(this._documentOwner, this._documentOwnerStyleInfo);\n        } else if (!this.nativeCssApply) {\n          CS._revalidateApplyShim();\n        }\n        CS.applyStyles();\n        // if no elements have booted yet, we can just update the document and be done\n        if (!this._elementsHaveApplied) {\n          return;\n        }\n        // if no native css custom properties, we must recalculate the whole tree\n        if (!this.nativeCss) {\n          this.updateStyles();\n          /*\n          When updateStyles() runs, this element may not have a shadowroot yet.\n          If not, we need to make sure that this element runs `applyStyle` on itself at least once to generate a style\n          */\n          if (hasApplied) {\n            return;\n          }\n        }\n      }\n    }\n    if (overrideProps) {\n      styleInfo.overrideStyleProperties =\n        styleInfo.overrideStyleProperties || {};\n      Object.assign(styleInfo.overrideStyleProperties, overrideProps);\n    }\n    if (this.nativeCss) {\n      if (styleInfo.overrideStyleProperties) {\n        this._updateNativeProperties(host, styleInfo.overrideStyleProperties);\n      }\n      let template = templateMap[is];\n      // bail early if there is no shadowroot for this element\n      if (!template && !this._isRootOwner(host)) {\n        return;\n      }\n      if (template && template._applyShimInvalid && template._style) {\n        // update template\n        if (!template._validating) {\n          ApplyShim.transformRules(template._styleAst, is);\n          template._style.textContent = StyleTransformer.elementStyles(host, styleInfo.styleRules);\n          StyleInfo.startValidating(is);\n        }\n        // update instance if native shadowdom\n        if (this.nativeShadow) {\n          let root = host.shadowRoot;\n          if (root) {\n            let style = root.querySelector('style');\n            style.textContent = StyleTransformer.elementStyles(host, styleInfo.styleRules);\n          }\n        }\n        styleInfo.styleRules = template._styleAst;\n      }\n    } else {\n      this._updateProperties(host, styleInfo);\n      if (styleInfo.ownStylePropertyNames && styleInfo.ownStylePropertyNames.length) {\n        this._applyStyleProperties(host, styleInfo);\n      }\n    }\n    if (hasApplied) {\n      let root = this._isRootOwner(host) ? host : host.shadowRoot;\n      // note: some elements may not have a root!\n      if (root) {\n        this._applyToDescendants(root);\n      }\n    }\n  }\n  _applyToDescendants(root) {\n    let c$ = root.children;\n    for (let i = 0, c; i < c$.length; i++) {\n      c = c$[i];\n      if (c.shadowRoot) {\n        this.applyStyle(c);\n      }\n      this._applyToDescendants(c);\n    }\n  }\n  _styleOwnerForNode(node) {\n    let root = node.getRootNode();\n    let host = root.host;\n    if (host) {\n      if (StyleInfo.get(host)) {\n        return host;\n      } else {\n        return this._styleOwnerForNode(host);\n      }\n    }\n    return this._documentOwner;\n  }\n  _isRootOwner(node) {\n    return (node === this._documentOwner);\n  }\n  _applyStyleProperties(host, styleInfo) {\n    let is = host.getAttribute('is') || host.localName;\n    let cacheEntry = styleCache.fetch(is, styleInfo.styleProperties, styleInfo.ownStylePropertyNames);\n    let cachedScopeSelector = cacheEntry && cacheEntry.scopeSelector;\n    let cachedStyle = cacheEntry ? cacheEntry.styleElement : null;\n    let oldScopeSelector = styleInfo.scopeSelector;\n    // only generate new scope if cached style is not found\n    styleInfo.scopeSelector = cachedScopeSelector || this._generateScopeSelector(is);\n    let style = StyleProperties.applyElementStyle(host, styleInfo.styleProperties, styleInfo.scopeSelector, cachedStyle);\n    if (!this.nativeShadow) {\n      StyleProperties.applyElementScopeSelector(host, styleInfo.scopeSelector, oldScopeSelector);\n    }\n    if (!cacheEntry) {\n      styleCache.store(is, styleInfo.styleProperties, style, styleInfo.scopeSelector);\n    }\n    return style;\n  }\n  _updateProperties(host, styleInfo) {\n    let owner = this._styleOwnerForNode(host);\n    let ownerStyleInfo = StyleInfo.get(owner);\n    let ownerProperties = ownerStyleInfo.styleProperties;\n    let props = Object.create(ownerProperties || null);\n    let hostAndRootProps = StyleProperties.hostAndRootPropertiesForScope(host, styleInfo.styleRules);\n    let propertyData = StyleProperties.propertyDataFromStyles(ownerStyleInfo.styleRules, host);\n    let propertiesMatchingHost = propertyData.properties\n    Object.assign(\n      props,\n      hostAndRootProps.hostProps,\n      propertiesMatchingHost,\n      hostAndRootProps.rootProps\n    );\n    this._mixinOverrideStyles(props, styleInfo.overrideStyleProperties);\n    StyleProperties.reify(props);\n    styleInfo.styleProperties = props;\n  }\n  _mixinOverrideStyles(props, overrides) {\n    for (let p in overrides) {\n      let v = overrides[p];\n      // skip override props if they are not truthy or 0\n      // in order to fall back to inherited values\n      if (v || v === 0) {\n        props[p] = v;\n      }\n    }\n  }\n  _updateNativeProperties(element, properties) {\n    // remove previous properties\n    for (let p in properties) {\n      // NOTE: for bc with shim, don't apply null values.\n      if (p === null) {\n        element.style.removeProperty(p);\n      } else {\n        element.style.setProperty(p, properties[p]);\n      }\n    }\n  }\n  updateStyles(properties) {\n    this.applyStyle(this._documentOwner, properties);\n  }\n  /* Custom Style operations */\n  _transformCustomStyleForDocument(style) {\n    let ast = StyleUtil.rulesForStyle(style);\n    StyleUtil.forEachRule(ast, (rule) => {\n      if (nativeShadow) {\n        StyleTransformer.normalizeRootSelector(rule);\n      } else {\n        StyleTransformer.documentRule(rule);\n      }\n      if (this.nativeCss && !this.nativeCssApply) {\n        ApplyShim.transformRule(rule);\n      }\n    });\n    if (this.nativeCss) {\n      style.textContent = StyleUtil.toCssText(ast);\n    } else {\n      this._documentOwnerStyleInfo.styleRules.rules.push(ast);\n    }\n  }\n  _revalidateApplyShim(style) {\n    if (this.nativeCss && !this.nativeCssApply) {\n      let ast = StyleUtil.rulesForStyle(style);\n      ApplyShim.transformRules(ast);\n      style.textContent = StyleUtil.toCssText(ast);\n    }\n  }\n  _applyCustomStyleToDocument(style) {\n    if (!this.nativeCss) {\n      StyleProperties.applyCustomStyle(style, this._documentOwnerStyleInfo.styleProperties);\n    }\n  }\n  getComputedStyleValue(element, property) {\n    let value;\n    if (!this.nativeCss) {\n      // element is either a style host, or an ancestor of a style host\n      let styleInfo = StyleInfo.get(element) || StyleInfo.get(this._styleOwnerForNode(element));\n      value = styleInfo.styleProperties[property];\n    }\n    // fall back to the property value from the computed styling\n    value = value || window.getComputedStyle(element).getPropertyValue(property);\n    // trim whitespace that can come after the `:` in css\n    // example: padding: 2px -> \" 2px\"\n    return value.trim();\n  }\n  // given an element and a classString, replaces\n  // the element's class with the provided classString and adds\n  // any necessary ShadyCSS static and property based scoping selectors\n  setElementClass(element, classString) {\n    let root = element.getRootNode();\n    let classes = classString ? classString.split(/\\s/) : [];\n    let scopeName = root.host && root.host.localName;\n    // If no scope, try to discover scope name from existing class.\n    // This can occur if, for example, a template stamped element that\n    // has been scoped is manipulated when not in a root.\n    if (!scopeName) {\n      var classAttr = element.getAttribute('class');\n      if (classAttr) {\n        let k$ = classAttr.split(/\\s/);\n        for (let i=0; i < k$.length; i++) {\n          if (k$[i] === StyleTransformer.SCOPE_NAME) {\n            scopeName = k$[i+1];\n            break;\n          }\n        }\n      }\n    }\n    if (scopeName) {\n      classes.push(StyleTransformer.SCOPE_NAME, scopeName);\n    }\n    if (!this.nativeCss) {\n      let styleInfo = StyleInfo.get(element);\n      if (styleInfo && styleInfo.scopeSelector) {\n        classes.push(StyleProperties.XSCOPE_NAME, styleInfo.scopeSelector);\n      }\n    }\n    StyleUtil.setElementClassRaw(element, classes.join(' '));\n  }\n  _styleInfoForNode(node) {\n    return StyleInfo.get(node);\n  }\n}\n\nwindow['ShadyCSS'] = new ShadyCSS();","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n'use strict';\n\nexport default class StyleCache {\n  constructor(typeMax = 100) {\n    // map element name -> [{properties, styleElement, scopeSelector}]\n    this.cache = {};\n    this.typeMax = typeMax;\n  }\n\n  _validate(cacheEntry, properties, ownPropertyNames) {\n    for (let idx = 0; idx < ownPropertyNames.length; idx++) {\n      let pn = ownPropertyNames[idx];\n      if (cacheEntry.properties[pn] !== properties[pn]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  store(tagname, properties, styleElement, scopeSelector) {\n    let list = this.cache[tagname] || [];\n    list.push({properties, styleElement, scopeSelector});\n    if (list.length > this.typeMax) {\n      list.shift();\n    }\n    this.cache[tagname] = list;\n  }\n\n  fetch(tagname, properties, ownPropertyNames) {\n    let list = this.cache[tagname];\n    if (!list) {\n      return;\n    }\n    // reverse list for most-recent lookups\n    for (let idx = list.length - 1; idx >= 0; idx--) {\n      let entry = list[idx];\n      if (this._validate(entry, properties, ownPropertyNames)) {\n        return entry;\n      }\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function(scope) {\n\n  'use strict';\n\n  HTMLImports.whenReady(function() {\n    requestAnimationFrame(function() {\n      window.dispatchEvent(new CustomEvent('WebComponentsReady'));\n    });\n  });\n\n})(window.WebComponents);\n","/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function(scope) {\n\n  // It's desireable to provide a default stylesheet\n  // that's convenient for styling unresolved elements, but\n  // it's cumbersome to have to include this manually in every page.\n  // It would make sense to put inside some HTMLImport but\n  // the HTMLImports polyfill does not allow loading of stylesheets\n  // that block rendering. Therefore this injection is tolerated here.\n  //\n  // NOTE: position: relative fixes IE's failure to inherit opacity\n  // when a child is not statically positioned.\n  var style = document.createElement('style');\n  style.textContent = ''\n      + 'body {'\n      + 'transition: opacity ease-in 0.2s;'\n      + ' } \\n'\n      + 'body[unresolved] {'\n      + 'opacity: 0; display: block; overflow: hidden; position: relative;'\n      + ' } \\n'\n      ;\n  var head = document.querySelector('head');\n  head.insertBefore(style, head.firstChild);\n\n})(window.WebComponents);\n"]}